"use strict";const pe=require("react");var pr={exports:{}},_t={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _s;function Na(){if(_s)return _t;_s=1;var e=pe,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function i(a,c,u){var f,d={},l=null,b=null;u!==void 0&&(l=""+u),c.key!==void 0&&(l=""+c.key),c.ref!==void 0&&(b=c.ref);for(f in c)r.call(c,f)&&!o.hasOwnProperty(f)&&(d[f]=c[f]);if(a&&a.defaultProps)for(f in c=a.defaultProps,c)d[f]===void 0&&(d[f]=c[f]);return{$$typeof:t,type:a,key:l,ref:b,props:d,_owner:s.current}}return _t.Fragment=n,_t.jsx=i,_t.jsxs=i,_t}var zt={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zs;function Oa(){return zs||(zs=1,process.env.NODE_ENV!=="production"&&function(){var e=pe,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),g=Symbol.iterator,y="@@iterator";function p(h){if(h===null||typeof h!="object")return null;var P=g&&h[g]||h[y];return typeof P=="function"?P:null}var m=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function w(h){{for(var P=arguments.length,k=new Array(P>1?P-1:0),z=1;z<P;z++)k[z-1]=arguments[z];v("error",h,k)}}function v(h,P,k){{var z=m.ReactDebugCurrentFrame,V=z.getStackAddendum();V!==""&&(P+="%s",k=k.concat([V]));var Z=k.map(function(H){return String(H)});Z.unshift("Warning: "+P),Function.prototype.apply.call(console[h],console,Z)}}var E=!1,R=!1,I=!1,A=!1,B=!1,$;$=Symbol.for("react.module.reference");function G(h){return!!(typeof h=="string"||typeof h=="function"||h===r||h===o||B||h===s||h===u||h===f||A||h===b||E||R||I||typeof h=="object"&&h!==null&&(h.$$typeof===l||h.$$typeof===d||h.$$typeof===i||h.$$typeof===a||h.$$typeof===c||h.$$typeof===$||h.getModuleId!==void 0))}function O(h,P,k){var z=h.displayName;if(z)return z;var V=P.displayName||P.name||"";return V!==""?k+"("+V+")":k}function N(h){return h.displayName||"Context"}function D(h){if(h==null)return null;if(typeof h.tag=="number"&&w("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case r:return"Fragment";case n:return"Portal";case o:return"Profiler";case s:return"StrictMode";case u:return"Suspense";case f:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case a:var P=h;return N(P)+".Consumer";case i:var k=h;return N(k._context)+".Provider";case c:return O(h,h.render,"ForwardRef");case d:var z=h.displayName||null;return z!==null?z:D(h.type)||"Memo";case l:{var V=h,Z=V._payload,H=V._init;try{return D(H(Z))}catch{return null}}}return null}var T=Object.assign,C=0,S,F,M,q,W,K,oe;function ae(){}ae.__reactDisabledLog=!0;function ce(){{if(C===0){S=console.log,F=console.info,M=console.warn,q=console.error,W=console.group,K=console.groupCollapsed,oe=console.groupEnd;var h={configurable:!0,enumerable:!0,value:ae,writable:!0};Object.defineProperties(console,{info:h,log:h,warn:h,error:h,group:h,groupCollapsed:h,groupEnd:h})}C++}}function me(){{if(C--,C===0){var h={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:T({},h,{value:S}),info:T({},h,{value:F}),warn:T({},h,{value:M}),error:T({},h,{value:q}),group:T({},h,{value:W}),groupCollapsed:T({},h,{value:K}),groupEnd:T({},h,{value:oe})})}C<0&&w("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var ge=m.ReactCurrentDispatcher,qe;function de(h,P,k){{if(qe===void 0)try{throw Error()}catch(V){var z=V.stack.trim().match(/\n( *(at )?)/);qe=z&&z[1]||""}return`
`+qe+h}}var we=!1,ke;{var Ve=typeof WeakMap=="function"?WeakMap:Map;ke=new Ve}function le(h,P){if(!h||we)return"";{var k=ke.get(h);if(k!==void 0)return k}var z;we=!0;var V=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Z;Z=ge.current,ge.current=null,ce();try{if(P){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(he){z=he}Reflect.construct(h,[],H)}else{try{H.call()}catch(he){z=he}h.call(H.prototype)}}else{try{throw Error()}catch(he){z=he}h()}}catch(he){if(he&&z&&typeof he.stack=="string"){for(var U=he.stack.split(`
`),ue=z.stack.split(`
`),J=U.length-1,Q=ue.length-1;J>=1&&Q>=0&&U[J]!==ue[Q];)Q--;for(;J>=1&&Q>=0;J--,Q--)if(U[J]!==ue[Q]){if(J!==1||Q!==1)do if(J--,Q--,Q<0||U[J]!==ue[Q]){var xe=`
`+U[J].replace(" at new "," at ");return h.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",h.displayName)),typeof h=="function"&&ke.set(h,xe),xe}while(J>=1&&Q>=0);break}}}finally{we=!1,ge.current=Z,me(),Error.prepareStackTrace=V}var yt=h?h.displayName||h.name:"",st=yt?de(yt):"";return typeof h=="function"&&ke.set(h,st),st}function Ze(h,P,k){return le(h,!1)}function vn(h){var P=h.prototype;return!!(P&&P.isReactComponent)}function rt(h,P,k){if(h==null)return"";if(typeof h=="function")return le(h,vn(h));if(typeof h=="string")return de(h);switch(h){case u:return de("Suspense");case f:return de("SuspenseList")}if(typeof h=="object")switch(h.$$typeof){case c:return Ze(h.render);case d:return rt(h.type,P,k);case l:{var z=h,V=z._payload,Z=z._init;try{return rt(Z(V),P,k)}catch{}}}return""}var Nt=Object.prototype.hasOwnProperty,Ps={},As=m.ReactDebugCurrentFrame;function xn(h){if(h){var P=h._owner,k=rt(h.type,h._source,P?P.type:null);As.setExtraStackFrame(k)}else As.setExtraStackFrame(null)}function la(h,P,k,z,V){{var Z=Function.call.bind(Nt);for(var H in h)if(Z(h,H)){var U=void 0;try{if(typeof h[H]!="function"){var ue=Error((z||"React class")+": "+k+" type `"+H+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof h[H]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw ue.name="Invariant Violation",ue}U=h[H](P,H,z,k,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(J){U=J}U&&!(U instanceof Error)&&(xn(V),w("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",z||"React class",k,H,typeof U),xn(null)),U instanceof Error&&!(U.message in Ps)&&(Ps[U.message]=!0,xn(V),w("Failed %s type: %s",k,U.message),xn(null))}}}var ha=Array.isArray;function Kn(h){return ha(h)}function pa(h){{var P=typeof Symbol=="function"&&Symbol.toStringTag,k=P&&h[Symbol.toStringTag]||h.constructor.name||"Object";return k}}function ba(h){try{return Bs(h),!1}catch{return!0}}function Bs(h){return""+h}function $s(h){if(ba(h))return w("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",pa(h)),Bs(h)}var Ot=m.ReactCurrentOwner,ya={key:!0,ref:!0,__self:!0,__source:!0},Is,Ts,Jn;Jn={};function ma(h){if(Nt.call(h,"ref")){var P=Object.getOwnPropertyDescriptor(h,"ref").get;if(P&&P.isReactWarning)return!1}return h.ref!==void 0}function ga(h){if(Nt.call(h,"key")){var P=Object.getOwnPropertyDescriptor(h,"key").get;if(P&&P.isReactWarning)return!1}return h.key!==void 0}function wa(h,P){if(typeof h.ref=="string"&&Ot.current&&P&&Ot.current.stateNode!==P){var k=D(Ot.current.type);Jn[k]||(w('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',D(Ot.current.type),h.ref),Jn[k]=!0)}}function va(h,P){{var k=function(){Is||(Is=!0,w("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",P))};k.isReactWarning=!0,Object.defineProperty(h,"key",{get:k,configurable:!0})}}function xa(h,P){{var k=function(){Ts||(Ts=!0,w("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",P))};k.isReactWarning=!0,Object.defineProperty(h,"ref",{get:k,configurable:!0})}}var Ea=function(h,P,k,z,V,Z,H){var U={$$typeof:t,type:h,key:P,ref:k,props:H,_owner:Z};return U._store={},Object.defineProperty(U._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(U,"_self",{configurable:!1,enumerable:!1,writable:!1,value:z}),Object.defineProperty(U,"_source",{configurable:!1,enumerable:!1,writable:!1,value:V}),Object.freeze&&(Object.freeze(U.props),Object.freeze(U)),U};function Pa(h,P,k,z,V){{var Z,H={},U=null,ue=null;k!==void 0&&($s(k),U=""+k),ga(P)&&($s(P.key),U=""+P.key),ma(P)&&(ue=P.ref,wa(P,V));for(Z in P)Nt.call(P,Z)&&!ya.hasOwnProperty(Z)&&(H[Z]=P[Z]);if(h&&h.defaultProps){var J=h.defaultProps;for(Z in J)H[Z]===void 0&&(H[Z]=J[Z])}if(U||ue){var Q=typeof h=="function"?h.displayName||h.name||"Unknown":h;U&&va(H,Q),ue&&xa(H,Q)}return Ea(h,U,ue,V,z,Ot.current,H)}}var Xn=m.ReactCurrentOwner,Ss=m.ReactDebugCurrentFrame;function bt(h){if(h){var P=h._owner,k=rt(h.type,h._source,P?P.type:null);Ss.setExtraStackFrame(k)}else Ss.setExtraStackFrame(null)}var Qn;Qn=!1;function er(h){return typeof h=="object"&&h!==null&&h.$$typeof===t}function Cs(){{if(Xn.current){var h=D(Xn.current.type);if(h)return`

Check the render method of \``+h+"`."}return""}}function Aa(h){{if(h!==void 0){var P=h.fileName.replace(/^.*[\\\/]/,""),k=h.lineNumber;return`

Check your code at `+P+":"+k+"."}return""}}var Rs={};function Ba(h){{var P=Cs();if(!P){var k=typeof h=="string"?h:h.displayName||h.name;k&&(P=`

Check the top-level render call using <`+k+">.")}return P}}function ks(h,P){{if(!h._store||h._store.validated||h.key!=null)return;h._store.validated=!0;var k=Ba(P);if(Rs[k])return;Rs[k]=!0;var z="";h&&h._owner&&h._owner!==Xn.current&&(z=" It was passed a child from "+D(h._owner.type)+"."),bt(h),w('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',k,z),bt(null)}}function Fs(h,P){{if(typeof h!="object")return;if(Kn(h))for(var k=0;k<h.length;k++){var z=h[k];er(z)&&ks(z,P)}else if(er(h))h._store&&(h._store.validated=!0);else if(h){var V=p(h);if(typeof V=="function"&&V!==h.entries)for(var Z=V.call(h),H;!(H=Z.next()).done;)er(H.value)&&ks(H.value,P)}}}function $a(h){{var P=h.type;if(P==null||typeof P=="string")return;var k;if(typeof P=="function")k=P.propTypes;else if(typeof P=="object"&&(P.$$typeof===c||P.$$typeof===d))k=P.propTypes;else return;if(k){var z=D(P);la(k,h.props,"prop",z,h)}else if(P.PropTypes!==void 0&&!Qn){Qn=!0;var V=D(P);w("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",V||"Unknown")}typeof P.getDefaultProps=="function"&&!P.getDefaultProps.isReactClassApproved&&w("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Ia(h){{for(var P=Object.keys(h.props),k=0;k<P.length;k++){var z=P[k];if(z!=="children"&&z!=="key"){bt(h),w("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",z),bt(null);break}}h.ref!==null&&(bt(h),w("Invalid attribute `ref` supplied to `React.Fragment`."),bt(null))}}var Ns={};function Os(h,P,k,z,V,Z){{var H=G(h);if(!H){var U="";(h===void 0||typeof h=="object"&&h!==null&&Object.keys(h).length===0)&&(U+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var ue=Aa(V);ue?U+=ue:U+=Cs();var J;h===null?J="null":Kn(h)?J="array":h!==void 0&&h.$$typeof===t?(J="<"+(D(h.type)||"Unknown")+" />",U=" Did you accidentally export a JSX literal instead of a component?"):J=typeof h,w("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",J,U)}var Q=Pa(h,P,k,V,Z);if(Q==null)return Q;if(H){var xe=P.children;if(xe!==void 0)if(z)if(Kn(xe)){for(var yt=0;yt<xe.length;yt++)Fs(xe[yt],h);Object.freeze&&Object.freeze(xe)}else w("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Fs(xe,h)}if(Nt.call(P,"key")){var st=D(h),he=Object.keys(P).filter(function(Fa){return Fa!=="key"}),tr=he.length>0?"{key: someKey, "+he.join(": ..., ")+": ...}":"{key: someKey}";if(!Ns[st+tr]){var ka=he.length>0?"{"+he.join(": ..., ")+": ...}":"{}";w(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,tr,st,ka,st),Ns[st+tr]=!0}}return h===r?Ia(Q):$a(Q),Q}}function Ta(h,P,k){return Os(h,P,k,!0)}function Sa(h,P,k){return Os(h,P,k,!1)}var Ca=Sa,Ra=Ta;zt.Fragment=r,zt.jsx=Ca,zt.jsxs=Ra}()),zt}process.env.NODE_ENV==="production"?pr.exports=Na():pr.exports=Oa();var Ae=pr.exports;const _a="1.0.6";let Pe=class br extends Error{constructor(t,n={}){var i;const r=n.cause instanceof br?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof br&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${_a}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function et(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const Ao=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Bo=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,$o=/^\(.+?\).*?$/,Ms=/^tuple(?<array>(\[(\d*)\])*)$/;function yr(e){let t=e.type;if(Ms.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=yr(o),s<n-1&&(t+=", ")}const r=et(Ms,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,yr({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Mt(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=yr(s),r!==n-1&&(t+=", ")}return t}function za(e){return e.type==="function"?`function ${e.name}(${Mt(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${Mt(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Mt(e.inputs)})`:e.type==="error"?`error ${e.name}(${Mt(e.inputs)})`:e.type==="constructor"?`constructor(${Mt(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback()":"receive() external payable"}const Io=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Ma(e){return Io.test(e)}function ja(e){return et(Io,e)}const To=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function La(e){return To.test(e)}function Da(e){return et(To,e)}const So=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Ua(e){return So.test(e)}function Ga(e){return et(So,e)}const Co=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Ro(e){return Co.test(e)}function Ha(e){return et(Co,e)}const ko=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function qa(e){return ko.test(e)}function Va(e){return et(ko,e)}const Za=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Wa(e){return Za.test(e)}const Ya=/^receive\(\) external payable$/;function Ka(e){return Ya.test(e)}const Ja=new Set(["indexed"]),mr=new Set(["calldata","memory","storage"]);class Xa extends Pe{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Qa extends Pe{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class ec extends Pe{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class tc extends Pe{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class nc extends Pe{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class rc extends Pe{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class sc extends Pe{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Ut extends Pe{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class oc extends Pe{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class ic extends Pe{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class ac extends Pe{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class cc extends Pe{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function uc(e,t){return t?`${t}:${e}`:e}const nr=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function fc(e,t={}){if(Ua(e)){const n=Ga(e);if(!n)throw new Ut({signature:e,type:"function"});const r=$e(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(ot(r[a],{modifiers:mr,structs:t,type:"function"}));const i=[];if(n.returns){const a=$e(n.returns),c=a.length;for(let u=0;u<c;u++)i.push(ot(a[u],{modifiers:mr,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}if(La(e)){const n=Da(e);if(!n)throw new Ut({signature:e,type:"event"});const r=$e(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(ot(r[i],{modifiers:Ja,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}if(Ma(e)){const n=ja(e);if(!n)throw new Ut({signature:e,type:"error"});const r=$e(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(ot(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}if(qa(e)){const n=Va(e);if(!n)throw new Ut({signature:e,type:"constructor"});const r=$e(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(ot(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}if(Wa(e))return{type:"fallback"};if(Ka(e))return{type:"receive",stateMutability:"payable"};throw new oc({signature:e})}const dc=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,lc=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,hc=/^u?int$/;function ot(e,t){var d,l;const n=uc(e,t==null?void 0:t.type);if(nr.has(n))return nr.get(n);const r=$o.test(e),s=et(r?lc:dc,e);if(!s)throw new ec({param:e});if(s.name&&bc(s.name))throw new tc({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},a=(t==null?void 0:t.structs)??{};let c,u={};if(r){c="tuple";const b=$e(s.type),g=[],y=b.length;for(let p=0;p<y;p++)g.push(ot(b[p],{structs:a}));u={components:g}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(hc.test(s.type))c=`${s.type}256`;else if(c=s.type,(t==null?void 0:t.type)!=="struct"&&!Fo(c))throw new Qa({type:c});if(s.modifier){if(!((l=(d=t==null?void 0:t.modifiers)==null?void 0:d.has)!=null&&l.call(d,s.modifier)))throw new nc({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(mr.has(s.modifier)&&!yc(c,!!s.array))throw new rc({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...o,...i,...u};return nr.set(n,f),f}function $e(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],a=e.slice(o+1);switch(i){case",":return r===0?$e(a,[...t,n.trim()]):$e(a,t,`${n}${i}`,r);case"(":return $e(a,t,`${n}${i}`,r+1);case")":return $e(a,t,`${n}${i}`,r-1);default:return $e(a,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new cc({current:n,depth:r});return t.push(n.trim()),t}function Fo(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Ao.test(e)||Bo.test(e)}const pc=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function bc(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Ao.test(e)||Bo.test(e)||pc.test(e)}function yc(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function mc(e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];if(!Ro(a))continue;const c=Ha(a);if(!c)throw new Ut({signature:a,type:"struct"});const u=c.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const g=u[l].trim();if(!g)continue;const y=ot(g,{type:"struct"});f.push(y)}if(!f.length)throw new ic({signature:a});t[c.name]=f}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[a,c]=s[i];r[a]=No(c,t)}return r}const gc=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function No(e,t,n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if($o.test(i.type))r.push(i);else{const c=et(gc,i.type);if(!(c!=null&&c.type))throw new sc({abiParameter:i});const{array:u,type:f}=c;if(f in t){if(n.has(f))throw new ac({type:f});r.push({...i,type:`tuple${u??""}`,components:No(t[f]??[],t,new Set([...n,f]))})}else if(Fo(f))r.push(i);else throw new Xa({type:f})}}return r}function Oo(e){const t=mc(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];Ro(o)||n.push(fc(o,t))}return n}function L(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}function Ge(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Rc(e.type);return`${e.name}(${Cn(e.inputs,{includeName:t})})`}function Cn(e,{includeName:t=!1}={}){return e?e.map(n=>wc(n,{includeName:t})).join(t?", ":","):""}function wc(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Cn(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function Se(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function Y(e){return Se(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const _o="2.21.28";let En={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:_o};class x extends Error{constructor(t,n={}){var a;const r=(()=>{var c;return n.cause instanceof x?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=(()=>n.cause instanceof x&&n.cause.docsPath||n.docsPath)(),o=(a=En.getDocsUrl)==null?void 0:a.call(En,{...n,docsPath:s}),i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],`Version: ${En.version}`].join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=_o}walk(t){return zo(this,t)}}function zo(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e?zo(e.cause,t):t?null:e}class vc extends x{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class js extends x{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class Mo extends x{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Cn(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Rn extends x{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class xc extends x{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class Ec extends x{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Y(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class Pc extends x{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class jo extends x{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class Ac extends x{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class Lo extends x{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Ls extends x{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class Tn extends x{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Bc extends x{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class $c extends x{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Ge(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Ge(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class Ic extends x{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class Gt extends x{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Cn(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class kn extends x{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Ge(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Tc extends x{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Sc extends x{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class Cc extends x{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class Rc extends x{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class kc extends x{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}class Do extends x{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}class Uo extends x{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}class Ds extends x{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function St(e,{dir:t,size:n=32}={}){return typeof e=="string"?Ke(e,{dir:t,size:n}):Fc(e,{dir:t,size:n})}function Ke(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new Uo({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function Fc(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new Uo({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const o=t==="right";r[o?s:n-s-1]=e[o?s:e.length-s-1]}return r}class Nc extends x{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class Oc extends x{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class _c extends x{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}class zc extends x{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}function Ie(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Re(e,{size:t}){if(Y(e)>t)throw new zc({givenSize:Y(e),maxSize:t})}function ve(e,t={}){const{signed:n}=t;t.size&&Re(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Mc(e,t={}){let n=e;if(t.size&&(Re(n,{size:t.size}),n=Ie(n)),Ie(n)==="0x00")return!1;if(Ie(n)==="0x01")return!0;throw new _c(n)}function Ne(e,t={}){return Number(ve(e,t))}const jc=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function _(e,t={}){return typeof e=="number"||typeof e=="bigint"?j(e,t):typeof e=="string"?Ht(e,t):typeof e=="boolean"?Go(e,t):ee(e,t)}function Go(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Re(n,{size:t.size}),St(n,{size:t.size})):n}function ee(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=jc[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Re(r,{size:t.size}),St(r,{dir:"right",size:t.size})):r}function j(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const c=typeof e=="bigint"?"n":"";throw new Nc({max:o?`${o}${c}`:void 0,min:`${i}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?St(a,{size:r}):a}const Lc=new TextEncoder;function Ht(e,t={}){const n=Lc.encode(e);return ee(n,t)}const Dc=new TextEncoder;function Ct(e,t={}){return typeof e=="number"||typeof e=="bigint"?Gc(e,t):typeof e=="boolean"?Uc(e,t):Se(e)?Ce(e,t):at(e,t)}function Uc(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Re(n,{size:t.size}),St(n,{size:t.size})):n}const ze={zero:48,nine:57,A:65,F:70,a:97,f:102};function Us(e){if(e>=ze.zero&&e<=ze.nine)return e-ze.zero;if(e>=ze.A&&e<=ze.F)return e-(ze.A-10);if(e>=ze.a&&e<=ze.f)return e-(ze.a-10)}function Ce(e,t={}){let n=e;t.size&&(Re(n,{size:t.size}),n=St(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,o=new Uint8Array(s);for(let i=0,a=0;i<s;i++){const c=Us(r.charCodeAt(a++)),u=Us(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new x(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[i]=c*16+u}return o}function Gc(e,t){const n=j(e,t);return Ce(n)}function at(e,t={}){const n=Dc.encode(e);return typeof t.size=="number"?(Re(n,{size:t.size}),St(n,{dir:"right",size:t.size})):n}function Sn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function Hc(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function dn(e,...t){if(!Hc(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function qc(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Sn(e.outputLen),Sn(e.blockLen)}function Pt(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ho(e,t){dn(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Pn=BigInt(2**32-1),Gs=BigInt(32);function Vc(e,t=!1){return t?{h:Number(e&Pn),l:Number(e>>Gs&Pn)}:{h:Number(e>>Gs&Pn)|0,l:Number(e&Pn)|0}}function Zc(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:o,l:i}=Vc(e[s],t);[n[s],r[s]]=[o,i]}return[n,r]}const Wc=(e,t,n)=>e<<n|t>>>32-n,Yc=(e,t,n)=>t<<n|e>>>32-n,Kc=(e,t,n)=>t<<n-32|e>>>64-n,Jc=(e,t,n)=>e<<n-32|t>>>64-n,mt=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xc=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),rr=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Fe=(e,t)=>e<<32-t|e>>>t,Hs=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,Qc=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function qs(e){for(let t=0;t<e.length;t++)e[t]=Qc(e[t])}function eu(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Fn(e){return typeof e=="string"&&(e=eu(e)),dn(e),e}function tu(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];dn(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}class Dr{clone(){return this._cloneInto()}}function qo(e){const t=r=>e().update(Fn(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function nu(e=32){if(mt&&typeof mt.getRandomValues=="function")return mt.getRandomValues(new Uint8Array(e));if(mt&&typeof mt.randomBytes=="function")return mt.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}const Vo=[],Zo=[],Wo=[],ru=BigInt(0),jt=BigInt(1),su=BigInt(2),ou=BigInt(7),iu=BigInt(256),au=BigInt(113);for(let e=0,t=jt,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Vo.push(2*(5*r+n)),Zo.push((e+1)*(e+2)/2%64);let s=ru;for(let o=0;o<7;o++)t=(t<<jt^(t>>ou)*au)%iu,t&su&&(s^=jt<<(jt<<BigInt(o))-jt);Wo.push(s)}const[cu,uu]=Zc(Wo,!0),Vs=(e,t,n)=>n>32?Kc(e,t,n):Wc(e,t,n),Zs=(e,t,n)=>n>32?Jc(e,t,n):Yc(e,t,n);function fu(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,u=n[c],f=n[c+1],d=Vs(u,f,1)^n[a],l=Zs(u,f,1)^n[a+1];for(let b=0;b<50;b+=10)e[i+b]^=d,e[i+b+1]^=l}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=Zo[i],c=Vs(s,o,a),u=Zs(s,o,a),f=Vo[i];s=e[f],o=e[f+1],e[f]=c,e[f+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=cu[r],e[1]^=uu[r]}n.fill(0)}class Ur extends Dr{constructor(t,n,r,s=!1,o=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Sn(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Xc(this.state)}keccak(){Hs||qs(this.state32),fu(this.state32,this.rounds),Hs||qs(this.state32),this.posOut=0,this.pos=0}update(t){Pt(this);const{blockLen:n,state:r}=this;t=Fn(t);const s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Pt(this,!1),dn(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Sn(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Ho(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new Ur(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const du=(e,t,n)=>qo(()=>new Ur(t,e,n)),lu=du(1,136,256/8);function ne(e,t){const n=t||"hex",r=lu(Se(e,{strict:!1})?Ct(e):e);return n==="bytes"?r:_(r)}const hu=e=>ne(Ct(e));function pu(e){return hu(e)}function bu(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new x("Unable to normalize signature.");return s}const yu=e=>{const t=(()=>typeof e=="string"?e:za(e))();return bu(t)};function Yo(e){return pu(yu(e))}const Nn=Yo;class fe extends x{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class Gr extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const sr=new Gr(8192);function On(e,t){if(sr.has(`${e}.${t}`))return sr.get(`${e}.${t}`);const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=ne(at(n),"bytes"),s=(t?n.substring(`${t}0x`.length):n).split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const o=`0x${s.join("")}`;return sr.set(`${e}.${t}`,o),o}function mu(e,t){if(!se(e,{strict:!1}))throw new fe({address:e});return On(e,t)}const gu=/^0x[a-fA-F0-9]{40}$/,or=new Gr(8192);function se(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(or.has(r))return or.get(r);const s=(()=>gu.test(e)?e.toLowerCase()===e?!0:n?On(e)===e:!0:!1)();return or.set(r,s),s}function Oe(e){return typeof e[0]=="string"?_e(e):wu(e)}function wu(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function _e(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function qt(e,t,n,{strict:r}={}){return Se(e,{strict:!1})?Qo(e,t,n,{strict:r}):Xo(e,t,n,{strict:r})}function Ko(e,t){if(typeof t=="number"&&t>0&&t>Y(e)-1)throw new Do({offset:t,position:"start",size:Y(e)})}function Jo(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Y(e)!==n-t)throw new Do({offset:n,position:"end",size:Y(e)})}function Xo(e,t,n,{strict:r}={}){Ko(e,t);const s=e.slice(t,n);return r&&Jo(s,t,n),s}function Qo(e,t,n,{strict:r}={}){Ko(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Jo(s,t,n),s}function pt(e,t){if(e.length!==t.length)throw new Pc({expectedLength:e.length,givenLength:t.length});const n=vu({params:e,values:t}),r=qr(n);return r.length===0?"0x":r}function vu({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Hr({param:e[r],value:t[r]}));return n}function Hr({param:e,value:t}){const n=Vr(e.type);if(n){const[r,s]=n;return Eu(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return Iu(t,{param:e});if(e.type==="address")return xu(t);if(e.type==="bool")return Au(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int");return Bu(t,{signed:r})}if(e.type.startsWith("bytes"))return Pu(t,{param:e});if(e.type==="string")return $u(t);throw new Tc(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function qr(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=Y(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(j(t+s,{size:32})),r.push(a),s+=Y(a)):n.push(a)}return Oe([...n,...r])}function xu(e){if(!se(e))throw new fe({address:e});return{dynamic:!1,encoded:Ke(e.toLowerCase())}}function Eu(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Cc(e);if(!r&&e.length!==t)throw new xc({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let i=0;i<e.length;i++){const a=Hr({param:n,value:e[i]});a.dynamic&&(s=!0),o.push(a)}if(r||s){const i=qr(o);if(r){const a=j(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?Oe([a,i]):a}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:Oe(o.map(({encoded:i})=>i))}}function Pu(e,{param:t}){const[,n]=t.type.split("bytes"),r=Y(e);if(!n){let s=e;return r%32!==0&&(s=Ke(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:Oe([Ke(j(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new Ec({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:Ke(e,{dir:"right"})}}function Au(e){if(typeof e!="boolean")throw new x(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ke(Go(e))}}function Bu(e,{signed:t}){return{dynamic:!1,encoded:j(e,{size:32,signed:t})}}function $u(e){const t=Ht(e),n=Math.ceil(Y(t)/32),r=[];for(let s=0;s<n;s++)r.push(Ke(qt(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Oe([Ke(j(Y(t),{size:32})),...r])}}function Iu(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],i=Array.isArray(e)?s:o.name,a=Hr({param:o,value:e[i]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?qr(r):Oe(r.map(({encoded:s})=>s))}}function Vr(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Zr=e=>qt(Yo(e),0,4);function ln(e){const{abi:t,args:n=[],name:r}=e,s=Se(r,{strict:!1}),o=t.filter(a=>s?a.type==="function"?Zr(a)===r:a.type==="event"?Nn(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let i;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,f)=>{const d="inputs"in a&&a.inputs[f];return d?gr(u,d):!1})){if(i&&"inputs"in i&&i.inputs){const u=ei(a.inputs,i.inputs,n);if(u)throw new $c({abiItem:a,type:u[0]},{abiItem:i,type:u[1]})}i=a}}return i||o[0]}function gr(e,t){const n=typeof e,r=t.type;switch(r){case"address":return se(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>gr(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>gr(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function ei(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return ei(s.components,o.components,n[r]);const i=[s.type,o.type];if((()=>i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?se(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?se(n[r],{strict:!1}):!1)())return i}}const Ws="/docs/contract/encodeEventTopics";function hn(e){var c;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=ln({abi:t,name:n});if(!u)throw new Ls(n,{docsPath:Ws});s=u}if(s.type!=="event")throw new Ls(void 0,{docsPath:Ws});const o=Ge(s),i=Nn(o);let a=[];if(r&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(d=>"indexed"in d&&d.indexed),f=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(d=>r[d.name]))??[]:[];f.length>0&&(a=(u==null?void 0:u.map((d,l)=>Array.isArray(f[l])?f[l].map((b,g)=>Ys({param:d,value:f[l][g]})):f[l]?Ys({param:d,value:f[l]}):null))??[])}return[i,...a]}function Ys({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return ne(Ct(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new kc(e.type);return pt([e],[t])}function _n(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:o,response:i,status:a,transport:c})=>{a==="success"&&t===o&&(n[i]=c.request)})),o=>n[o]||e.request}async function ti(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:a,toBlock:c}=t,u=_n(e,{method:"eth_newFilter"}),f=o?hn({abi:r,args:s,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?j(i):i,toBlock:typeof c=="bigint"?j(c):c,topics:f}]});return{abi:r,args:s,eventName:o,id:d,request:u(d),strict:!!a,type:"event"}}function tt(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const Ks="/docs/contract/encodeFunctionData";function Tu(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=ln({abi:t,args:n,name:r});if(!o)throw new Tn(r,{docsPath:Ks});s=o}if(s.type!=="function")throw new Tn(void 0,{docsPath:Ks});return{abi:[s],functionName:Zr(Ge(s))}}function nt(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var a;return e.abi.length===1&&((a=e.functionName)!=null&&a.startsWith("0x"))?e:Tu(e)})(),s=n[0],o=r,i="inputs"in s&&s.inputs?pt(s.inputs,t??[]):void 0;return _e([o,i??"0x"])}const ni={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Su={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Cu={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class Js extends x{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class ri extends x{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}}class Ru extends x{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}}const ku={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Ru({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new ri({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Js({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Js({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Wr(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(ku);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Fu(e,t={}){typeof t.size<"u"&&Re(e,{size:t.size});const n=ee(e,t);return ve(n,t)}function Nu(e,t={}){let n=e;if(typeof t.size<"u"&&(Re(n,{size:t.size}),n=Ie(n)),n.length>1||n[0]>1)throw new Oc(n);return!!n[0]}function De(e,t={}){typeof t.size<"u"&&Re(e,{size:t.size});const n=ee(e,t);return Ne(n,t)}function Ou(e,t={}){let n=e;return typeof t.size<"u"&&(Re(n,{size:t.size}),n=Ie(n,{dir:"right"})),new TextDecoder().decode(n)}function zn(e,t){const n=typeof t=="string"?Ce(t):t,r=Wr(n);if(Y(n)===0&&e.length>0)throw new Rn;if(Y(t)&&Y(t)<32)throw new Mo({data:typeof t=="string"?t:ee(t),params:e,size:Y(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const a=e[i];r.setPosition(s);const[c,u]=vt(r,a,{staticPosition:0});s+=u,o.push(c)}return o}function vt(e,t,{staticPosition:n}){const r=Vr(t.type);if(r){const[s,o]=r;return zu(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return Du(e,t,{staticPosition:n});if(t.type==="address")return _u(e);if(t.type==="bool")return Mu(e);if(t.type.startsWith("bytes"))return ju(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Lu(e,t);if(t.type==="string")return Uu(e,{staticPosition:n});throw new Sc(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Xs=32,wr=32;function _u(e){const t=e.readBytes(32);return[On(ee(Xo(t,-20))),32]}function zu(e,t,{length:n,staticPosition:r}){if(!n){const i=De(e.readBytes(wr)),a=r+i,c=a+Xs;e.setPosition(a);const u=De(e.readBytes(Xs)),f=Vt(t);let d=0;const l=[];for(let b=0;b<u;++b){e.setPosition(c+(f?b*32:d));const[g,y]=vt(e,t,{staticPosition:c});d+=y,l.push(g)}return e.setPosition(r+32),[l,32]}if(Vt(t)){const i=De(e.readBytes(wr)),a=r+i,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[f]=vt(e,t,{staticPosition:a});c.push(f)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[a,c]=vt(e,t,{staticPosition:r+s});s+=c,o.push(a)}return[o,s]}function Mu(e){return[Nu(e.readBytes(32),{size:32}),32]}function ju(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=De(e.readBytes(32));e.setPosition(n+i);const a=De(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[ee(c),32]}return[ee(e.readBytes(Number.parseInt(s),32)),32]}function Lu(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256"),s=e.readBytes(32);return[r>48?Fu(s,{signed:n}):De(s,{signed:n}),32]}function Du(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if(Vt(t)){const i=De(e.readBytes(wr)),a=n+i;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+o);const[f,d]=vt(e,u,{staticPosition:a});o+=d,s[r?c:u==null?void 0:u.name]=f}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const a=t.components[i],[c,u]=vt(e,a,{staticPosition:n});s[r?i:a==null?void 0:a.name]=c,o+=u}return[s,o]}function Uu(e,{staticPosition:t}){const n=De(e.readBytes(32)),r=t+n;e.setPosition(r);const s=De(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=Ou(Ie(o));return e.setPosition(t+32),[i,32]}function Vt(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Vt);const n=Vr(e.type);return!!(n&&Vt({...e,type:n[1]}))}function si(e){const{abi:t,data:n}=e,r=qt(n,0,4);if(r==="0x")throw new Rn;const o=[...t||[],Su,Cu].find(i=>i.type==="error"&&r===Zr(Ge(i)));if(!o)throw new jo(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?zn(o.inputs,qt(n,4)):void 0,errorName:o.name}}const ie=(e,t,n)=>JSON.stringify(e,(r,s)=>{const o=typeof s=="bigint"?s.toString():s;return typeof t=="function"?t(r,o):o},n);function oi({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?ie(t[o]):t[o]}`).join(", ")})`}const Gu={gwei:9,wei:18},Hu={ether:-9,wei:9};function ii(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,o]=[n.slice(0,n.length-t),n.slice(n.length-t)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${o?`.${o}`:""}`}function ai(e,t="wei"){return ii(e,Gu[t])}function Te(e,t="wei"){return ii(e,Hu[t])}class qu extends x{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Vu extends x{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Qs(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function Zu(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=Qs(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=Qs(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Mn(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class Wu extends x{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class Yu extends x{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class Ku extends x{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Mn(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Ju extends x{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class ci extends x{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class ui extends x{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class Xu extends x{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Qu=e=>e,jn=e=>e;class fi extends x{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l,stateOverride:b}){var p;const g=n?tt(n):void 0;let y=Mn({from:g==null?void 0:g.address,to:d,value:typeof l<"u"&&`${ai(l)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${Te(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Te(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Te(u)} gwei`,nonce:f});b&&(y+=`
${Zu(b)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",y].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class ef extends x{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:a}){const c=ln({abi:n,args:r,name:i}),u=c?oi({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?Ge(c,{includeName:!0}):void 0,d=Mn({address:s&&Qu(s),function:f,args:u&&u!=="()"&&`${[...Array((i==null?void 0:i.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=a}}class vr extends x{constructor({abi:t,data:n,functionName:r,message:s}){let o,i,a,c;if(n&&n!=="0x")try{i=si({abi:t,data:n});const{abiItem:f,errorName:d,args:l}=i;if(d==="Error")c=l[0];else if(d==="Panic"){const[b]=l;c=ni[b]}else{const b=f?Ge(f,{includeName:!0}):void 0,g=f&&l?oi({abiItem:f,args:l,includeFunctionName:!1,includeName:!1}):void 0;a=[b?`Error: ${b}`:"",g&&g!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${g}`:""]}}catch(f){o=f}else s&&(c=s);let u;o instanceof jo&&(u=o.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.reason=c,this.signature=u}}class tf extends x{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class nf extends x{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Yr extends x{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class xt extends x{constructor({body:t,cause:n,details:r,headers:s,status:o,url:i}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${jn(i)}`,t&&`Request body: ${ie(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=o,this.url=i}}class di extends x{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${jn(r)}`,`Request body: ${ie(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code}}class eo extends x{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${jn(n)}`,`Request body: ${ie(t)}`],name:"TimeoutError"})}}const rf=-1;class ye extends x{constructor(t,{code:n,docsPath:r,metaMessages:s,name:o,shortMessage:i}){super(i,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages),name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||t.name,this.code=t instanceof di?t.code:n??rf}}class Rt extends ye{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Zt extends ye{constructor(t){super(t,{code:Zt.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Zt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Wt extends ye{constructor(t){super(t,{code:Wt.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Wt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Yt extends ye{constructor(t,{method:n}={}){super(t,{code:Yt.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Yt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Kt extends ye{constructor(t){super(t,{code:Kt.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Kt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class ft extends ye{constructor(t){super(t,{code:ft.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(ft,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class dt extends ye{constructor(t){super(t,{code:dt.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(dt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Jt extends ye{constructor(t){super(t,{code:Jt.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Jt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Xt extends ye{constructor(t){super(t,{code:Xt.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Xt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Qt extends ye{constructor(t){super(t,{code:Qt.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Qt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class en extends ye{constructor(t,{method:n}={}){super(t,{code:en.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not implemented.`})}}Object.defineProperty(en,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class At extends ye{constructor(t){super(t,{code:At.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(At,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class tn extends ye{constructor(t){super(t,{code:tn.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(tn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Et extends Rt{constructor(t){super(t,{code:Et.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Et,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class nn extends Rt{constructor(t){super(t,{code:nn.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(nn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class rn extends Rt{constructor(t,{method:n}={}){super(t,{code:rn.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(rn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class sn extends Rt{constructor(t){super(t,{code:sn.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(sn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class on extends Rt{constructor(t){super(t,{code:on.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(on,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class an extends Rt{constructor(t){super(t,{code:an.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(an,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class sf extends ye{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const of=3;function cn(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const{code:a,data:c,message:u,shortMessage:f}=e instanceof Yr?e:e instanceof x?e.walk(l=>"data"in l)||e.walk():{},d=(()=>e instanceof Rn?new tf({functionName:o}):[of,ft.code].includes(a)&&(c||u||f)?new vr({abi:t,data:typeof c=="object"?c.data:c,functionName:o,message:f??u}):e)();return new ef(d,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}function af(e){const t=ne(`0x${e.substring(4)}`).substring(26);return On(`0x${t}`)}async function cf({hash:e,signature:t}){const n=Se(e)?e:_(e),{secp256k1:r}=await Promise.resolve().then(()=>Ql);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,b=Number(l??d),g=to(b);return new r.Signature(ve(u),ve(f)).addRecoveryBit(g)}const i=Se(t)?t:_(t),a=Ne(`0x${i.slice(130)}`),c=to(a);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function to(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function li({hash:e,signature:t}){return af(await cf({hash:e,signature:t}))}function Je(e,t="hex"){const n=hi(e),r=Wr(new Uint8Array(n.length));return n.encode(r),t==="hex"?ee(r.bytes):r.bytes}function hi(e){return Array.isArray(e)?uf(e.map(t=>hi(t))):ff(e)}function uf(e){const t=e.reduce((s,o)=>s+o.length,0),n=pi(t);return{length:(()=>t<=55?1+t:1+n+t)(),encode(s){t<=55?s.pushByte(192+t):(s.pushByte(192+55+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function ff(e){const t=typeof e=="string"?Ce(e):e,n=pi(t.length);return{length:(()=>t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length)(),encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(128+55+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function pi(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new x("Length is too large.")}function df(e){const{chainId:t,contractAddress:n,nonce:r,to:s}=e,o=ne(_e(["0x05",Je([j(t),n,r?j(r):"0x"])]));return s==="bytes"?Ce(o):o}async function lf(e){const{authorization:t,signature:n}=e;return li({hash:df(t),signature:n??t})}class hf extends x{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){var g;const b=Mn({from:n==null?void 0:n.address,to:d,value:typeof l<"u"&&`${ai(l)} ${((g=s==null?void 0:s.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${Te(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Te(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Te(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",b].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class gt extends x{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(gt,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(gt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class lt extends x{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Te(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(lt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class xr extends x{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Te(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(xr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Er extends x{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Er,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Pr extends x{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Pr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Ar extends x{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(Ar,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Br extends x{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Br,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class $r extends x{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty($r,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Ir extends x{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Ir,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Tr extends x{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Tr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class un extends x{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Te(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Te(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(un,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Kr extends x{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function bi(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof x?e.walk(s=>(s==null?void 0:s.code)===gt.code):e;return r instanceof x?new gt({cause:e,message:r.details}):gt.nodeMessage.test(n)?new gt({cause:e,message:e.details}):lt.nodeMessage.test(n)?new lt({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):xr.nodeMessage.test(n)?new xr({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Er.nodeMessage.test(n)?new Er({cause:e,nonce:t==null?void 0:t.nonce}):Pr.nodeMessage.test(n)?new Pr({cause:e,nonce:t==null?void 0:t.nonce}):Ar.nodeMessage.test(n)?new Ar({cause:e,nonce:t==null?void 0:t.nonce}):Br.nodeMessage.test(n)?new Br({cause:e}):$r.nodeMessage.test(n)?new $r({cause:e,gas:t==null?void 0:t.gas}):Ir.nodeMessage.test(n)?new Ir({cause:e,gas:t==null?void 0:t.gas}):Tr.nodeMessage.test(n)?new Tr({cause:e}):un.nodeMessage.test(n)?new un({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Kr({cause:e})}function pf(e,{docsPath:t,...n}){const r=(()=>{const s=bi(e,n);return s instanceof Kr?e:s})();return new hf(r,{docsPath:t,...n})}function yi(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const a of i)a in e&&(n[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const s=t(e||{});return r(s),n}function Jr(e,t){return({exclude:n,format:r})=>({exclude:n,format:s=>{const o=t(s);if(n)for(const i of n)delete o[i];return{...o,...r(s)}},type:e})}const bf={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function mi(e){const t={};return typeof e.authorizationList<"u"&&(t.authorizationList=yf(e.authorizationList)),typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>ee(n)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=j(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=j(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=j(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=j(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=j(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=j(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=bf[e.type]),typeof e.value<"u"&&(t.value=j(e.value)),t}function yf(e){return e.map(t=>({address:t.contractAddress,r:t.r,s:t.s,chainId:j(t.chainId),nonce:j(t.nonce),...typeof t.yParity<"u"?{yParity:j(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:j(t.v)}:{}}))}function no(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Ds({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Ds({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function mf(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=j(t)),n!==void 0&&(i.nonce=j(n)),r!==void 0&&(i.state=no(r)),s!==void 0){if(i.state)throw new Vu;i.stateDiff=no(s)}return i}function gi(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!se(n,{strict:!1}))throw new fe({address:n});if(t[n])throw new qu({address:n});t[n]=mf(r)}return t}const Ln=2n**256n-1n;function Xr(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:o}=e,i=t?tt(t):void 0;if(i&&!se(i.address))throw new fe({address:i.address});if(o&&!se(o))throw new fe({address:o});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new Wu;if(r&&r>Ln)throw new lt({maxFeePerGas:r});if(s&&r&&s>r)throw new un({maxFeePerGas:r,maxPriorityFeePerGas:s})}class gf extends x{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Qr extends x{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class wf extends x{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Te(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class wi extends x{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const vi={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Dn(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Ne(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Ne(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?vi[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=xf(e.authorizationList)),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}const vf=Jr("transaction",Dn);function xf(e){return e.map(t=>({contractAddress:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function es(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>typeof r=="string"?r:Dn(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const Ef=Jr("block",es);async function Ue(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:s}={}){var f,d,l;const o=r??"latest",i=s??!1,a=n!==void 0?j(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,i]},{dedupe:!0}):c=await e.request({method:"eth_getBlockByNumber",params:[a||o,i]},{dedupe:!!a}),!c)throw new wi({blockHash:t,blockNumber:n});return(((l=(d=(f=e.chain)==null?void 0:f.formatters)==null?void 0:d.block)==null?void 0:l.format)||es)(c)}async function ts(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Pf(e,t){return xi(e,t)}async function xi(e,t){var o,i;const{block:n,chain:r=e.chain,request:s}=t||{};try{const a=((o=r==null?void 0:r.fees)==null?void 0:o.maxPriorityFeePerGas)??((i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee);if(typeof a=="function"){const u=n||await L(e,Ue,"getBlock")({}),f=await a({block:u,client:e,request:s});if(f===null)throw new Error;return f}if(typeof a<"u")return a;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return ve(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):L(e,Ue,"getBlock")({}),L(e,ts,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new Qr;const u=c-a.baseFeePerGas;return u<0n?0n:u}}async function Af(e,t){return Sr(e,t)}async function Sr(e,t){var l,b;const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>{var g,y;return typeof((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((y=r==null?void 0:r.fees)==null?void 0:y.baseFeeMultiplier)??1.2})();if(i<1)throw new gf;const c=10**(((l=i.toString().split(".")[1])==null?void 0:l.length)??0),u=g=>g*BigInt(Math.ceil(i*c))/BigInt(c),f=n||await L(e,Ue,"getBlock")({});if(typeof((b=r==null?void 0:r.fees)==null?void 0:b.estimateFeesPerGas)=="function"){const g=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(g!==null)return g}if(o==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new Qr;const g=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await xi(e,{block:f,chain:r,request:s}),y=u(f.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??y+g,maxPriorityFeePerGas:g}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await L(e,ts,"getGasPrice")({}))}}async function Ei(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,r?j(r):n]},{dedupe:!!r});return Ne(s)}function ns(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>Ce(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>ee(o))}function rs(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>Ce(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>Ce(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const a=r[i],c=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?o:o.map(i=>ee(i))}function Bf(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+u,a,r)}const $f=(e,t,n)=>e&t^~e&n,If=(e,t,n)=>e&t^e&n^t&n;class Tf extends Dr{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=rr(this.buffer)}update(t){Pt(this);const{view:n,buffer:r,blockLen:s}=this;t=Fn(t);const o=t.length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a===s){const c=rr(t);for(;s<=o-i;i+=s)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Pt(this),Ho(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>s-i&&(this.process(r,0),i=0);for(let d=i;d<s;d++)n[d]=0;Bf(r,s-8,BigInt(this.length*8),o),this.process(r,0);const a=rr(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,f[d],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:a}=this;return t.length=s,t.pos=a,t.finished=o,t.destroyed=i,s%n&&t.buffer.set(r),t}}const Sf=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),We=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ye=new Uint32Array(64);class Cf extends Tf{constructor(){super(64,32,8,!1),this.A=We[0]|0,this.B=We[1]|0,this.C=We[2]|0,this.D=We[3]|0,this.E=We[4]|0,this.F=We[5]|0,this.G=We[6]|0,this.H=We[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:a,H:c}=this;return[t,n,r,s,o,i,a,c]}set(t,n,r,s,o,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)Ye[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const l=Ye[d-15],b=Ye[d-2],g=Fe(l,7)^Fe(l,18)^l>>>3,y=Fe(b,17)^Fe(b,19)^b>>>10;Ye[d]=y+Ye[d-7]+g+Ye[d-16]|0}let{A:r,B:s,C:o,D:i,E:a,F:c,G:u,H:f}=this;for(let d=0;d<64;d++){const l=Fe(a,6)^Fe(a,11)^Fe(a,25),b=f+l+$f(a,c,u)+Sf[d]+Ye[d]|0,y=(Fe(r,2)^Fe(r,13)^Fe(r,22))+If(r,s,o)|0;f=u,u=c,c=a,a=i+b|0,i=o,o=s,s=r,r=b+y|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,o,i,a,c,u,f)}roundClean(){Ye.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Pi=qo(()=>new Cf);function Rf(e,t){const n=t||"hex",r=Pi(Se(e,{strict:!1})?Ct(e):e);return n==="bytes"?r:_(r)}function kf(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=Rf(t,"bytes");return s.set([n],0),r==="bytes"?s:ee(s)}function Ai(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const o of t)s.push(kf({commitment:o,to:r,version:n}));return s}const ro=6,Bi=32,ss=4096,$i=Bi*ss,so=$i*ro-1-1*ss*ro,Ii=1;class Ff extends x{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Ti extends x{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class Nf extends x{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class Of extends x{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${Ii}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function _f(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?Ce(e.data):e.data,r=Y(n);if(!r)throw new Ti;if(r>so)throw new Ff({maxSize:so,size:r});const s=[];let o=!0,i=0;for(;o;){const a=Wr(new Uint8Array($i));let c=0;for(;c<ss;){const u=n.slice(i,i+(Bi-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),o=!1;break}c++,i+=31}s.push(a)}return t==="bytes"?s.map(a=>a.bytes):s.map(a=>ee(a.bytes))}function Si(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??_f({data:t,to:r}),o=e.commitments??ns({blobs:s,kzg:n,to:r}),i=e.proofs??rs({blobs:s,commitments:o,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:o[c],proof:i[c]});return a}function Ci(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Ku({transaction:e})}async function Ri(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Ne(t)}const zf=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function ki(e,t){const{account:n=e.account,blobs:r,chain:s,gas:o,kzg:i,nonce:a,nonceManager:c,parameters:u=zf,type:f}=t,d=n?tt(n):void 0,l={...t,...d?{from:d==null?void 0:d.address}:{}};let b;async function g(){return b||(b=await L(e,Ue,"getBlock")({blockTag:"latest"}),b)}let y;async function p(){return y||(s?s.id:typeof t.chainId<"u"?t.chainId:(y=await L(e,Ri,"getChainId")({}),y))}if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&i){const m=ns({blobs:r,kzg:i});if(u.includes("blobVersionedHashes")){const w=Ai({commitments:m,to:"hex"});l.blobVersionedHashes=w}if(u.includes("sidecars")){const w=rs({blobs:r,commitments:m,kzg:i}),v=Si({blobs:r,commitments:m,proofs:w,to:"hex"});l.sidecars=v}}if(u.includes("chainId")&&(l.chainId=await p()),u.includes("nonce")&&typeof a>"u"&&d)if(c){const m=await p();l.nonce=await c.consume({address:d.address,chainId:m,client:e})}else l.nonce=await L(e,Ei,"getTransactionCount")({address:d.address,blockTag:"pending"});if((u.includes("fees")||u.includes("type"))&&typeof f>"u")try{l.type=Ci(l)}catch{const m=await g();l.type=typeof(m==null?void 0:m.baseFeePerGas)=="bigint"?"eip1559":"legacy"}if(u.includes("fees"))if(l.type!=="legacy"&&l.type!=="eip2930"){if(typeof l.maxFeePerGas>"u"||typeof l.maxPriorityFeePerGas>"u"){const m=await g(),{maxFeePerGas:w,maxPriorityFeePerGas:v}=await Sr(e,{block:m,chain:s,request:l});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<v)throw new wf({maxPriorityFeePerGas:v});l.maxPriorityFeePerGas=v,l.maxFeePerGas=w}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Qr;const m=await g(),{gasPrice:w}=await Sr(e,{block:m,chain:s,request:l,type:"legacy"});l.gasPrice=w}return u.includes("gas")&&typeof o>"u"&&(l.gas=await L(e,os,"estimateGas")({...l,account:d?{address:d.address,type:"json-rpc"}:void 0})),Xr(l),delete l.parameters,l}async function Fi(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n?j(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function os(e,t){var s,o,i;const n=t.account??e.account,r=n?tt(n):void 0;try{let T=function(S){const{block:F,request:M,rpcStateOverride:q}=S;return e.request({method:"eth_estimateGas",params:q?[M,F??"latest",q]:F?[M,F]:[M]})};const{accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:f,blockNumber:d,blockTag:l,data:b,gas:g,gasPrice:y,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:w,nonce:v,value:E,stateOverride:R,...I}=await ki(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),B=(d?j(d):void 0)||l,$=gi(R),G=await(async()=>{if(I.to)return I.to;if(c&&c.length>0)return await lf({authorization:c[0]}).catch(()=>{throw new x("`to` is required. Could not infer from `authorizationList`")})})();Xr(t);const O=(i=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionRequest)==null?void 0:i.format,D=(O||mi)({...yi(I,{format:O}),from:r==null?void 0:r.address,accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:f,data:b,gas:g,gasPrice:y,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:w,nonce:v,to:G,value:E});let C=BigInt(await T({block:B,request:D,rpcStateOverride:$}));if(c){const S=await Fi(e,{address:D.from}),F=await Promise.all(c.map(async M=>{const{contractAddress:q}=M,W=await T({block:B,request:{authorizationList:void 0,data:b,from:r==null?void 0:r.address,to:q,value:j(S)},rpcStateOverride:$}).catch(()=>100000n);return 2n*BigInt(W)}));C+=F.reduce((M,q)=>M+q,0n)}return C}catch(a){throw pf(a,{...t,account:r,chain:e.chain})}}async function Mf(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=nt({abi:n,args:s,functionName:o});try{return await L(e,os,"estimateGas")({data:a,to:r,...i})}catch(c){const u=i.account?tt(i.account):void 0;throw cn(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:u==null?void 0:u.address})}}function Un(e,t){if(!se(e,{strict:!1}))throw new fe({address:e});if(!se(t,{strict:!1}))throw new fe({address:t});return e.toLowerCase()===t.toLowerCase()}const oo="/docs/contract/decodeEventLog";function is(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...a]=s;if(!i)throw new Ac({docsPath:oo});const c=(()=>t.length===1?t[0]:t.find(y=>y.type==="event"&&i===Nn(Ge(y))))();if(!(c&&"name"in c)||c.type!=="event")throw new Lo(i,{docsPath:oo});const{name:u,inputs:f}=c,d=f==null?void 0:f.some(y=>!("name"in y&&y.name));let l=d?[]:{};const b=f.filter(y=>"indexed"in y&&y.indexed);for(let y=0;y<b.length;y++){const p=b[y],m=a[y];if(!m)throw new kn({abiItem:c,param:p});l[d?y:p.name||y]=jf({param:p,value:m})}const g=f.filter(y=>!("indexed"in y&&y.indexed));if(g.length>0){if(n&&n!=="0x")try{const y=zn(g,n);if(y)if(d)l=[...l,...y];else for(let p=0;p<g.length;p++)l[g[p].name]=y[p]}catch(y){if(o)throw y instanceof Mo||y instanceof ri?new Gt({abiItem:c,data:n,params:g,size:Y(n)}):y}else if(o)throw new Gt({abiItem:c,data:"0x",params:g,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function jf({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(zn([e],t)||[])[0]}function as(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(i=>{var a;try{const c=t.find(f=>f.type==="event"&&i.topics[0]===Nn(f));if(!c)return null;const u=is({...i,abi:[c],strict:s});return o&&!o.includes(u.eventName)||!Lf({args:u.args,inputs:c.inputs,matchArgs:n})?null:{...u,...i}}catch(c){let u,f;if(c instanceof Lo)return null;if(c instanceof Gt||c instanceof kn){if(s)return null;u=c.abiItem.name,f=(a=c.abiItem.inputs)==null?void 0:a.some(d=>!("name"in d&&d.name))}return{...i,args:f?[]:{},eventName:u}}}).filter(Boolean)}function Lf(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,i,a){try{return o.type==="address"?Un(i,a):o.type==="string"||o.type==="bytes"?ne(Ct(i))===a:i===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const a=n[i];return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const a=n.find(u=>u.name===o);return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):!1}function Xe(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function cs(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:a,strict:c}={}){const u=c??!1,f=i??(o?[o]:void 0);let d=[];f&&(d=[f.flatMap(y=>hn({abi:[y],eventName:y.name,args:i?void 0:a}))],o&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?j(r):r,toBlock:typeof s=="bigint"?j(s):s}]});const b=l.map(g=>Xe(g));return f?as({abi:f,args:a,logs:b,strict:u}):b}async function Ni(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:a,toBlock:c,strict:u}=t,f=i?ln({abi:n,name:i}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return L(e,cs,"getLogs")({address:r,args:s,blockHash:o,event:f,events:d,fromBlock:a,toBlock:c,strict:u})}const ir="/docs/contract/decodeFunctionResult";function kt(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const a=ln({abi:t,args:n,name:r});if(!a)throw new Tn(r,{docsPath:ir});o=a}if(o.type!=="function")throw new Tn(void 0,{docsPath:ir});if(!o.outputs)throw new Bc(o.name,{docsPath:ir});const i=zn(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const Cr=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],Oi=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],_i=[...Oi,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Df=[...Oi,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],io=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],ao=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],co=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Uf="0x82ad56cb",Gf="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Hf="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",qf="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";class Rr extends x{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class zi extends x{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Gn extends x{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const ar="/docs/contract/encodeDeployData";function us(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new vc({docsPath:ar});if(!("inputs"in s))throw new js({docsPath:ar});if(!s.inputs||s.inputs.length===0)throw new js({docsPath:ar});const o=pt(s.inputs,n);return _e([r,o])}function Ft({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new Rr({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Rr({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Vf(e,{docsPath:t,...n}){const r=(()=>{const s=bi(e,n);return s instanceof Kr?e:s})();return new fi(r,{docsPath:t,...n})}const cr=new Map;function Mi({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const o=async()=>{const f=c();i();const d=f.map(({args:l})=>l);d.length!==0&&e(d).then(l=>{var b;s&&Array.isArray(l)&&l.sort(s);for(let g=0;g<f.length;g++){const{pendingPromise:y}=f[g];(b=y.resolve)==null||b.call(y,[l[g],l])}}).catch(l=>{var b;for(let g=0;g<f.length;g++){const{pendingPromise:y}=f[g];(b=y.reject)==null||b.call(y,l)}})},i=()=>cr.delete(t),a=()=>c().map(({args:f})=>f),c=()=>cr.get(t)||[],u=f=>cr.set(t,[...c(),f]);return{flush:i,async schedule(f){const d={},l=new Promise((y,p)=>{d.resolve=y,d.reject=p});return(n==null?void 0:n([...a(),f]))&&o(),c().length>0?(u({args:f,pendingPromise:d}),l):(u({args:f,pendingPromise:d}),setTimeout(o,r),l)}}}async function pn(e,t){var O,N,D,T;const{account:n=e.account,batch:r=!!((O=e.batch)!=null&&O.multicall),blockNumber:s,blockTag:o="latest",accessList:i,blobs:a,code:c,data:u,factory:f,factoryData:d,gas:l,gasPrice:b,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:p,nonce:m,to:w,value:v,stateOverride:E,...R}=t,I=n?tt(n):void 0;if(c&&(f||d))throw new x("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(c&&w)throw new x("Cannot provide both `code` & `to` as parameters.");const A=c&&u,B=f&&d&&w&&u,$=A||B,G=(()=>A?Yf({code:c,data:u}):B?Kf({data:u,factory:f,factoryData:d,to:w}):u)();try{Xr(t);const S=(s?j(s):void 0)||o,F=gi(E),M=(T=(D=(N=e.chain)==null?void 0:N.formatters)==null?void 0:D.transactionRequest)==null?void 0:T.format,W=(M||mi)({...yi(R,{format:M}),from:I==null?void 0:I.address,accessList:i,blobs:a,data:G,gas:l,gasPrice:b,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:p,nonce:m,to:$?void 0:w,value:v});if(r&&Zf({request:W})&&!F)try{return await Wf(e,{...W,blockNumber:s,blockTag:o})}catch(oe){if(!(oe instanceof zi)&&!(oe instanceof Rr))throw oe}const K=await e.request({method:"eth_call",params:F?[W,S,F]:[W,S]});return K==="0x"?{data:void 0}:{data:K}}catch(C){const S=Jf(C),{offchainLookup:F,offchainLookupSignature:M}=await Promise.resolve().then(()=>require("./ccip-e4a788b9.js"));if(e.ccipRead!==!1&&(S==null?void 0:S.slice(0,10))===M&&w)return{data:await F(e,{data:S,to:w})};throw $&&(S==null?void 0:S.slice(0,10))==="0x101bb98d"?new nf({factory:f}):Vf(C,{...t,account:I,chain:e.chain})}}function Zf({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(Uf)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Wf(e,t){var y;const{batchSize:n=1024,wait:r=0}=typeof((y=e.batch)==null?void 0:y.multicall)=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:o="latest",data:i,multicallAddress:a,to:c}=t;let u=a;if(!u){if(!e.chain)throw new zi;u=Ft({blockNumber:s,chain:e.chain,contract:"multicall3"})}const d=(s?j(s):void 0)||o,{schedule:l}=Mi({id:`${e.uid}.${d}`,wait:r,shouldSplitBatch(p){return p.reduce((w,{data:v})=>w+(v.length-2),0)>n*2},fn:async p=>{const m=p.map(E=>({allowFailure:!0,callData:E.data,target:E.to})),w=nt({abi:Cr,args:[m],functionName:"aggregate3"}),v=await e.request({method:"eth_call",params:[{data:w,to:u},d]});return kt({abi:Cr,args:[m],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:b,success:g}]=await l({data:i,to:c});if(!g)throw new Yr({data:b});return b==="0x"?{data:void 0}:{data:b}}function Yf(e){const{code:t,data:n}=e;return us({abi:Oo(["constructor(bytes, bytes)"]),bytecode:Gf,args:[t,n]})}function Kf(e){const{data:t,factory:n,factoryData:r,to:s}=e;return us({abi:Oo(["constructor(address, bytes, address, bytes)"]),bytecode:Hf,args:[s,t,n,r]})}function Jf(e){var n;if(!(e instanceof x))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function He(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=nt({abi:n,args:s,functionName:o});try{const{data:c}=await L(e,pn,"call")({...i,data:a,to:r});return kt({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw cn(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function Xf(e,t){const{abi:n,address:r,args:s,dataSuffix:o,functionName:i,...a}=t,c=a.account?tt(a.account):e.account,u=nt({abi:n,args:s,functionName:i});try{const{data:f}=await L(e,pn,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:r,...a,account:c}),d=kt({abi:n,args:s,functionName:i,data:f||"0x"}),l=n.filter(b=>"name"in b&&b.name===t.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:o,functionName:i,...a,account:c}}}catch(f){throw cn(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:c==null?void 0:c.address})}}const ur=new Map,uo=new Map;let Qf=0;function Qe(e,t,n){const r=++Qf,s=()=>ur.get(e)||[],o=()=>{const f=s();ur.set(e,f.filter(d=>d.id!==r))},i=()=>{const f=uo.get(e);s().length===1&&f&&f(),o()},a=s();if(ur.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return i;const c={};for(const f in t)c[f]=(...d)=>{var b,g;const l=s();if(l.length!==0)for(const y of l)(g=(b=y.fns)[f])==null||g.call(b,...d)};const u=n(c);return typeof u=="function"&&uo.set(e,u),i}async function kr(e){return new Promise(t=>setTimeout(t,e))}function bn(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const c=await(n==null?void 0:n(a))??r;await kr(c);const u=async()=>{s&&(await e({unpoll:o}),await kr(r),u())};u()})(),o}const ed=new Map,td=new Map;function nd(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,ed),r=t(e,td);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function rd(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=nd(t),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const sd=e=>`blockNumber.${e}`;async function yn(e,{cacheTime:t=e.cacheTime}={}){const n=await rd(()=>e.request({method:"eth_blockNumber"}),{cacheKey:sd(e.uid),cacheTime:t});return BigInt(n)}async function Hn(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>Xe(o));return!("abi"in t)||!t.abi?s:as({abi:t.abi,logs:s,strict:n})}async function qn(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function od(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:a,onError:c,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(()=>typeof f<"u"?f:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))()?(()=>{const p=l??!1,m=ie(["watchContractEvent",r,s,o,e.uid,i,d,p,a]);return Qe(m,{onLogs:u,onError:c},w=>{let v;a!==void 0&&(v=a-1n);let E,R=!1;const I=bn(async()=>{var A;if(!R){try{E=await L(e,ti,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:p,fromBlock:a})}catch{}R=!0;return}try{let B;if(E)B=await L(e,Hn,"getFilterChanges")({filter:E});else{const $=await L(e,yn,"getBlockNumber")({});v&&v<$?B=await L(e,Ni,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:v+1n,toBlock:$,strict:p}):B=[],v=$}if(B.length===0)return;if(o)w.onLogs(B);else for(const $ of B)w.onLogs([$])}catch(B){E&&B instanceof dt&&(R=!1),(A=w.onError)==null||A.call(w,B)}},{emitOnBegin:!0,interval:d});return async()=>{E&&await L(e,qn,"uninstallFilter")({filter:E}),I()}})})():(()=>{const p=l??!1,m=ie(["watchContractEvent",r,s,o,e.uid,i,d,p]);let w=!0,v=()=>w=!1;return Qe(m,{onLogs:u,onError:c},E=>((async()=>{try{const R=(()=>{if(e.transport.type==="fallback"){const B=e.transport.transports.find($=>$.config.type==="webSocket");return B?B.value:e.transport}return e.transport})(),I=i?hn({abi:n,eventName:i,args:s}):[],{unsubscribe:A}=await R.subscribe({params:["logs",{address:r,topics:I}],onData(B){var G;if(!w)return;const $=B.result;try{const{eventName:O,args:N}=is({abi:n,data:$.data,topics:$.topics,strict:l}),D=Xe($,{args:N,eventName:O});E.onLogs([D])}catch(O){let N,D;if(O instanceof Gt||O instanceof kn){if(l)return;N=O.abiItem.name,D=(G=O.abiItem.inputs)==null?void 0:G.some(C=>!("name"in C&&C.name))}const T=Xe($,{args:D?[]:{},eventName:N});E.onLogs([T])}},onError(B){var $;($=E.onError)==null||$.call(E,B)}});v=A,w||v()}catch(R){c==null||c(R)}})(),()=>v()))})()}async function id(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}class ad extends x{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function cd(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,a,c,u,f,d]=await L(e,He,"readContract")({abi:ud,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:a,chainId:Number(c),verifyingContract:u,salt:f},extensions:d,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new ad({address:n}):i}}const ud=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}],Fr=256;let An=Fr,Bn;function ji(e=11){if(!Bn||An+e>Fr*2){Bn="",An=0;for(let t=0;t<Fr;t++)Bn+=(256+Math.random()*256|0).toString(16).substring(1)}return Bn.substring(An,An+++e)}function fd(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,ccipRead:r,key:s="base",name:o="Base Client",pollingInterval:i=4e3,type:a="base"}=e,c=e.chain,u=e.account?tt(e.account):void 0,{config:f,request:d,value:l}=e.transport({chain:c,pollingInterval:i}),b={...f,...l},g={account:u,batch:t,cacheTime:n,ccipRead:r,chain:c,key:s,name:o,pollingInterval:i,request:d,transport:b,type:a,uid:ji()};function y(p){return m=>{const w=m(p);for(const E in g)delete w[E];const v={...p,...w};return Object.assign(v,{extend:y(v)})}}return Object.assign(g,{extend:y(g)})}const $n=new Gr(8192);function dd(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if($n.get(n))return $n.get(n);const r=e().finally(()=>$n.delete(n));return $n.set(n,r),r}function Nr(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,o)=>{const i=async({count:a=0}={})=>{const c=async({error:u})=>{const f=typeof t=="function"?t({count:a,error:u}):t;f&&await kr(f),i({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});o(u)}};i()})}function ld(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,retryDelay:o=150,retryCount:i=3,uid:a}={...t,...r},c=s?ne(Ht(`${a}.${ie(n)}`)):void 0;return dd(()=>Nr(async()=>{try{return await e(n)}catch(u){const f=u;switch(f.code){case Zt.code:throw new Zt(f);case Wt.code:throw new Wt(f);case Yt.code:throw new Yt(f,{method:n.method});case Kt.code:throw new Kt(f);case ft.code:throw new ft(f);case dt.code:throw new dt(f);case Jt.code:throw new Jt(f);case Xt.code:throw new Xt(f);case Qt.code:throw new Qt(f);case en.code:throw new en(f,{method:n.method});case At.code:throw new At(f);case tn.code:throw new tn(f);case Et.code:throw new Et(f);case nn.code:throw new nn(f);case rn.code:throw new rn(f);case sn.code:throw new sn(f);case on.code:throw new on(f);case an.code:throw new an(f);case 5e3:throw new Et(f);default:throw u instanceof x?u:new sf(f)}}},{delay:({count:u,error:f})=>{var d;if(f&&f instanceof xt){const l=(d=f==null?void 0:f.headers)==null?void 0:d.get("Retry-After");if(l!=null&&l.match(/\d/))return Number.parseInt(l)*1e3}return~~(1<<u)*o},retryCount:i,shouldRetry:({error:u})=>hd(u)}),{enabled:s,id:c})}}function hd(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===At.code||e.code===ft.code:e instanceof xt&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function pd({key:e,name:t,request:n,retryCount:r=3,retryDelay:s=150,timeout:o,type:i},a){const c=ji();return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:s,timeout:o,type:i},request:ld(n,{retryCount:r,retryDelay:s,uid:c}),value:a}}class bd extends x{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function yd(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,o)=>{(async()=>{let i;try{const a=new AbortController;n>0&&(i=setTimeout(()=>{r?a.abort():o(t)},n)),s(await e({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&o(t),o(a)}finally{clearTimeout(i)}})()})}function md(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const fo=md();function gd(e,t={}){return{async request(n){var d;const{body:r,onRequest:s=t.onRequest,onResponse:o=t.onResponse,timeout:i=t.timeout??1e4}=n,a={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:f}=a;try{const l=await yd(async({signal:g})=>{const y={...a,body:Array.isArray(r)?ie(r.map(v=>({jsonrpc:"2.0",id:v.id??fo.take(),...v}))):ie({jsonrpc:"2.0",id:r.id??fo.take(),...r}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:f||(i>0?g:null)},p=new Request(e,y),m=await(s==null?void 0:s(p,y))??{...y,url:e};return await fetch(m.url??e,m)},{errorInstance:new eo({body:r,url:e}),timeout:i,signal:!0});o&&await o(l);let b;if((d=l.headers.get("Content-Type"))!=null&&d.startsWith("application/json"))b=await l.json();else{b=await l.text();try{b=JSON.parse(b||"{}")}catch(g){if(l.ok)throw g;b={error:b}}}if(!l.ok)throw new xt({body:r,details:ie(b.error)||l.statusText,headers:l.headers,status:l.status,url:e});return b}catch(l){throw l instanceof xt||l instanceof eo?l:new xt({body:r,cause:l,url:e})}}}}function wd(e,t={}){const{batch:n,fetchOptions:r,key:s="http",name:o="HTTP JSON-RPC",onFetchRequest:i,onFetchResponse:a,retryDelay:c}=t;return({chain:u,retryCount:f,timeout:d})=>{const{batchSize:l=1e3,wait:b=0}=typeof n=="object"?n:{},g=t.retryCount??f,y=d??t.timeout??1e4,p=e||(u==null?void 0:u.rpcUrls.default.http[0]);if(!p)throw new bd;const m=gd(p,{fetchOptions:r,onRequest:i,onResponse:a,timeout:y});return pd({key:s,name:o,async request({method:w,params:v}){const E={method:w,params:v},{schedule:R}=Mi({id:p,wait:b,shouldSplitBatch($){return $.length>l},fn:$=>m.request({body:$}),sort:($,G)=>$.id-G.id}),I=async $=>n?R($):[await m.request({body:$})],[{error:A,result:B}]=await I(E);if(A)throw new di({body:E,error:A,url:p});return B},retryCount:g,retryDelay:c,timeout:y,type:"http"},{fetchOptions:r,url:p})}}function fs(e,t){var r,s,o,i,a,c;if(!(e instanceof x))return!1;const n=e.walk(u=>u instanceof vr);return n instanceof vr?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((o=n.data)==null?void 0:o.errorName)==="ResolverNotContract"||((i=n.data)==null?void 0:i.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===ni[50]):!1}function Li(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Se(t)?t:null}function In(e){let t=new Uint8Array(32).fill(0);if(!e)return ee(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Li(n[r]),o=s?Ct(s):ne(at(n[r]),"bytes");t=ne(Oe([t,o]),"bytes")}return ee(t)}function vd(e){return`[${e.slice(2)}]`}function xd(e){const t=new Uint8Array(32).fill(0);return e?Li(e)||ne(at(e)):ee(t)}function Vn(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(at(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=at(s[o]);i.byteLength>255&&(i=at(vd(xd(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Ed(e,{blockNumber:t,blockTag:n,coinType:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){let c=a;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=Ft({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u=nt({abi:ao,functionName:"addr",...r!=null?{args:[In(s),BigInt(r)]}:{args:[In(s)]}}),f={address:c,abi:_i,functionName:"resolve",args:[_(Vn(s)),u],blockNumber:t,blockTag:n},d=L(e,He,"readContract"),l=o?await d({...f,args:[...f.args,o]}):await d(f);if(l[0]==="0x")return null;const b=kt({abi:ao,args:r!=null?[In(s),BigInt(r)]:void 0,functionName:"addr",data:l[0]});return b==="0x"||Ie(b)==="0x00"?null:b}catch(u){if(i)throw u;if(fs(u,"resolve"))return null;throw u}}class Pd extends x{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class Lt extends x{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class ds extends x{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Ad extends x{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Bd=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,$d=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Id=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Td=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Sd(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function lo(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Di({uri:e,gatewayUrls:t}){const n=Id.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=lo(t==null?void 0:t.ipfs,"https://ipfs.io"),s=lo(t==null?void 0:t.arweave,"https://arweave.net"),o=e.match(Bd),{protocol:i,subpath:a,target:c,subtarget:u=""}=(o==null?void 0:o.groups)||{},f=i==="ipns:/"||a==="ipns/",d=i==="ipfs:/"||a==="ipfs/"||$d.test(e);if(e.startsWith("http")&&!f&&!d){let b=e;return t!=null&&t.arweave&&(b=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:b,isOnChain:!1,isEncoded:!1}}if((f||d)&&c)return{uri:`${r}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(Td,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new ds({uri:e})}function Ui(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Pd({data:e});return e.image||e.image_url||e.image_data}async function Cd({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await ls({gatewayUrls:e,uri:Ui(n)})}catch{throw new ds({uri:t})}}async function ls({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Di({uri:t,gatewayUrls:e});if(r||await Sd(n))return n;throw new ds({uri:t})}function Rd(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[a,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new Lt({reason:"Only EIP-155 supported"});if(!i)throw new Lt({reason:"Chain ID not found"});if(!c)throw new Lt({reason:"Contract address not found"});if(!s)throw new Lt({reason:"Token ID not found"});if(!a)throw new Lt({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function kd(e,{nft:t}){if(t.namespace==="erc721")return He(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return He(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Ad({namespace:t.namespace})}async function Fd(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Nd(e,{gatewayUrls:t,record:n}):ls({uri:n,gatewayUrls:t})}async function Nd(e,{gatewayUrls:t,record:n}){const r=Rd(n),s=await kd(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:a}=Di({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=a?atob(o.replace("data:application/json;base64,","")):o,f=JSON.parse(u);return ls({uri:Ui(f),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Cd({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function Gi(e,{blockNumber:t,blockTag:n,name:r,key:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){let c=a;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=Ft({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u={address:c,abi:_i,functionName:"resolve",args:[_(Vn(r)),nt({abi:io,functionName:"text",args:[In(r),s]})],blockNumber:t,blockTag:n},f=L(e,He,"readContract"),d=o?await f({...u,args:[...u.args,o]}):await f(u);if(d[0]==="0x")return null;const l=kt({abi:io,functionName:"text",data:d[0]});return l===""?null:l}catch(u){if(i)throw u;if(fs(u,"resolve"))return null;throw u}}async function Od(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){const c=await L(e,Gi,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:o,strict:i});if(!c)return null;try{return await Fd(e,{record:c,gatewayUrls:r})}catch{return null}}async function _d(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:s,strict:o,universalResolverAddress:i}){let a=i;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Ft({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const u={address:a,abi:Df,functionName:"reverse",args:[_(Vn(c))],blockNumber:n,blockTag:r},f=L(e,He,"readContract"),[d,l]=s?await f({...u,args:[...u.args,s]}):await f(u);return t.toLowerCase()!==l.toLowerCase()?null:d}catch(u){if(o)throw u;if(fs(u,"reverse"))return null;throw u}}async function zd(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){let o=s;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=Ft({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[i]=await L(e,He,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[_(Vn(r))],blockNumber:t,blockTag:n});return i}async function Md(e){const t=_n(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function Hi(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:a}={}){const c=s??(r?[r]:void 0),u=_n(e,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(b=>hn({abi:[b],eventName:b.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?j(o):o,toBlock:typeof a=="bigint"?j(a):a,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:u(d),strict:!!i,toBlock:a,type:"event"}}async function qi(e){const t=_n(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function jd(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function Ld(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?j(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),Ne(o)}async function ho(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?j(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}function Dd(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function Ud(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=n?j(n):void 0,i=await e.request({method:"eth_feeHistory",params:[j(t),o||r,s]},{dedupe:!!o});return Dd(i)}async function Gd(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>Xe(o));return t.abi?as({abi:t.abi,logs:s,strict:n}):s}function Vi(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const Hd=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,qd=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Vd(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:Jd({domain:t}),...e.types};Kd({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(Zd({domain:t,types:s})),r!=="EIP712Domain"&&o.push(Zi({data:n,primaryType:r,types:s})),ne(Oe(o))}function Zd({domain:e,types:t}){return Zi({data:e,primaryType:"EIP712Domain",types:t})}function Zi({data:e,primaryType:t,types:n}){const r=Wi({data:e,primaryType:t,types:n});return ne(r)}function Wi({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Wd({primaryType:t,types:n})];for(const o of n[t]){const[i,a]=Ki({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(i),s.push(a)}return pt(r,s)}function Wd({primaryType:e,types:t}){const n=_(Yd({primaryType:e,types:t}));return ne(n)}function Yd({primaryType:e,types:t}){let n="";const r=Yi({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}function Yi({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])Yi({primaryType:o.type,types:t},n);return n}function Ki({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},ne(Wi({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},ne(r)];if(n==="string")return[{type:"bytes32"},ne(_(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>Ki({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},ne(pt(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}function Kd(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(i,a)=>{for(const c of i){const{name:u,type:f}=c,d=a[u],l=f.match(qd);if(l&&(typeof d=="number"||typeof d=="bigint")){const[y,p,m]=l;j(d,{signed:p==="int",size:Number.parseInt(m)/8})}if(f==="address"&&typeof d=="string"&&!se(d))throw new fe({address:d});const b=f.match(Hd);if(b){const[y,p]=b;if(p&&Y(d)!==Number.parseInt(p))throw new Ic({expectedSize:Number.parseInt(p),givenSize:Y(d)})}const g=s[f];g&&o(g,d)}};s.EIP712Domain&&t&&o(s.EIP712Domain,t),r!=="EIP712Domain"&&o(s[r],n)}function Jd({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}const Xd={"0x0":"reverted","0x1":"success"};function Ji(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>Xe(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Ne(e.transactionIndex):null,status:e.status?Xd[e.status]:null,type:e.type?vi[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const Qd=Jr("transactionReceipt",Ji),el=`Ethereum Signed Message:
`;function tl(e){const t=(()=>typeof e=="string"?Ht(e):typeof e.raw=="string"?e.raw:ee(e.raw))(),n=Ht(`${el}${Y(t)}`);return Oe([n,t])}function Xi(e,t){return ne(tl(e),t)}const Qi="0x6492649264926492649264926492649264926492649264926492649264926492";function nl(e){return Qo(e,-32)===Qi}function rl(e){const{address:t,data:n,signature:r,to:s="hex"}=e,o=_e([pt([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),Qi]);return s==="hex"?o:Ce(o)}function sl(e){const{authorizationList:t}=e;if(t)for(const n of t){const{contractAddress:r,chainId:s}=n;if(!se(r))throw new fe({address:r});if(s<=0)throw new Gn({chainId:s})}hs(e)}function ol(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new Ti;for(const n of t){const r=Y(n),s=Ne(qt(n,0,1));if(r!==32)throw new Nf({hash:n,size:r});if(s!==Ii)throw new Of({hash:n,version:s})}}hs(e)}function hs(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new Gn({chainId:t});if(s&&!se(s))throw new fe({address:s});if(r&&r>Ln)throw new lt({maxFeePerGas:r});if(n&&r&&n>r)throw new un({maxFeePerGas:r,maxPriorityFeePerGas:n})}function il(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(t<=0)throw new Gn({chainId:t});if(o&&!se(o))throw new fe({address:o});if(n||s)throw new x("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>Ln)throw new lt({maxFeePerGas:r})}function al(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(o&&!se(o))throw new fe({address:o});if(typeof t<"u"&&t<=0)throw new Gn({chainId:t});if(n||s)throw new x("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>Ln)throw new lt({maxFeePerGas:r})}function cl(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{contractAddress:r,chainId:s,nonce:o,...i}=n;t.push([_(s),r,o?_(o):"0x",...mn({},i)])}return t}function Zn(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let o=0;o<s.length;o++)if(s[o].length-2!==64)throw new Ju({storageKey:s[o]});if(!se(r,{strict:!1}))throw new fe({address:r});t.push([r,s])}return t}function ul(e,t){const n=Ci(e);return n==="eip1559"?ll(e,t):n==="eip2930"?hl(e,t):n==="eip4844"?dl(e,t):n==="eip7702"?fl(e,t):pl(e,t)}function fl(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:o,to:i,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:d}=e;sl(e);const l=Zn(f),b=cl(n);return _e(["0x04",Je([_(r),o?_(o):"0x",u?_(u):"0x",c?_(c):"0x",s?_(s):"0x",i??"0x",a?_(a):"0x",d??"0x",l,b,...mn(e,t)])])}function dl(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:d}=e;ol(e);let l=e.blobVersionedHashes,b=e.sidecars;if(e.blobs&&(typeof l>"u"||typeof b>"u")){const v=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(I=>ee(I)),E=e.kzg,R=ns({blobs:v,kzg:E});if(typeof l>"u"&&(l=Ai({commitments:R})),typeof b>"u"){const I=rs({blobs:v,commitments:R,kzg:E});b=Si({blobs:v,commitments:R,proofs:I})}}const g=Zn(f),y=[_(n),s?_(s):"0x",u?_(u):"0x",c?_(c):"0x",r?_(r):"0x",o??"0x",i?_(i):"0x",d??"0x",g,a?_(a):"0x",l??[],...mn(e,t)],p=[],m=[],w=[];if(b)for(let v=0;v<b.length;v++){const{blob:E,commitment:R,proof:I}=b[v];p.push(E),m.push(R),w.push(I)}return _e(["0x03",Je(b?[y,p,m,w]:y)])}function ll(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:f}=e;hs(e);const d=Zn(u),l=[_(n),s?_(s):"0x",c?_(c):"0x",a?_(a):"0x",r?_(r):"0x",o??"0x",i?_(i):"0x",f??"0x",d,...mn(e,t)];return _e(["0x02",Je(l)])}function hl(e,t){const{chainId:n,gas:r,data:s,nonce:o,to:i,value:a,accessList:c,gasPrice:u}=e;il(e);const f=Zn(c),d=[_(n),o?_(o):"0x",u?_(u):"0x",r?_(r):"0x",i??"0x",a?_(a):"0x",s??"0x",f,...mn(e,t)];return _e(["0x01",Je(d)])}function pl(e,t){const{chainId:n=0,gas:r,data:s,nonce:o,to:i,value:a,gasPrice:c}=e;al(e);let u=[o?_(o):"0x",c?_(c):"0x",r?_(r):"0x",i??"0x",a?_(a):"0x",s??"0x"];if(t){const f=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const b=27n+(t.v===27n?0n:1n);if(t.v!==b)throw new Yu({v:t.v});return b})(),d=Ie(t.r),l=Ie(t.s);u=[...u,_(f),d==="0x00"?"0x":d,l==="0x00"?"0x":l]}else n>0&&(u=[...u,_(n),"0x","0x"]);return Je(u)}function mn(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const o=Ie(n.r),i=Ie(n.s);return[(()=>typeof s=="number"?s?_(1):"0x":r===0n?"0x":r===1n?_(1):r===27n?"0x":_(1))(),o==="0x00"?"0x":o,i==="0x00"?"0x":i]}function bl(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function yl(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Ne(e.nonce):void 0,storageProof:e.storageProof?bl(e.storageProof):void 0}}async function ml(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?j(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,i||o]});return yl(a)}async function gl(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?j(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function ps(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){var f,d,l;const i=r||"latest",a=n!==void 0?j(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,j(o)]},{dedupe:!0}):(a||i)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||i,j(o)]},{dedupe:!!a})),!c)throw new ci({blockHash:t,blockNumber:n,blockTag:i,hash:s,index:o});return(((l=(d=(f=e.chain)==null?void 0:f.formatters)==null?void 0:d.transaction)==null?void 0:l.format)||Dn)(c)}async function wl(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([L(e,yn,"getBlockNumber")({}),t?L(e,ps,"getTransaction")({hash:t}):void 0]),o=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return o?r-o+1n:0n}async function Or(e,{hash:t}){var s,o,i;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new ui({hash:t});return(((i=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionReceipt)==null?void 0:i.format)||Ji)(n)}async function vl(e,t){var p;const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:o,multicallAddress:i,stateOverride:a}=t,c=t.contracts,u=r??(typeof((p=e.batch)==null?void 0:p.multicall)=="object"&&e.batch.multicall.batchSize||1024);let f=i;if(!f){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");f=Ft({blockNumber:s,chain:e.chain,contract:"multicall3"})}const d=[[]];let l=0,b=0;for(let m=0;m<c.length;m++){const{abi:w,address:v,args:E,functionName:R}=c[m];try{const I=nt({abi:w,args:E,functionName:R});b+=(I.length-2)/2,u>0&&b>u&&d[l].length>0&&(l++,b=(I.length-2)/2,d[l]=[]),d[l]=[...d[l],{allowFailure:!0,callData:I,target:v}]}catch(I){const A=cn(I,{abi:w,address:v,args:E,docsPath:"/docs/contract/multicall",functionName:R});if(!n)throw A;d[l]=[...d[l],{allowFailure:!0,callData:"0x",target:v}]}}const g=await Promise.allSettled(d.map(m=>L(e,He,"readContract")({abi:Cr,address:f,args:[m],blockNumber:s,blockTag:o,functionName:"aggregate3",stateOverride:a}))),y=[];for(let m=0;m<g.length;m++){const w=g[m];if(w.status==="rejected"){if(!n)throw w.reason;for(let E=0;E<d[m].length;E++)y.push({status:"failure",error:w.reason,result:void 0});continue}const v=w.value;for(let E=0;E<v.length;E++){const{returnData:R,success:I}=v[E],{callData:A}=d[m][E],{abi:B,address:$,functionName:G,args:O}=c[y.length];try{if(A==="0x")throw new Rn;if(!I)throw new Yr({data:R});const N=kt({abi:B,args:O,data:R,functionName:G});y.push(n?{result:N,status:"success"}:N)}catch(N){const D=cn(N,{abi:B,address:$,args:O,docsPath:"/docs/contract/multicall",functionName:G});if(!n)throw D;y.push({error:D,result:void 0,status:"failure"})}}}if(y.length!==c.length)throw new x("multicall results mismatch");return y}class ea extends Dr{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,qc(t);const r=Fn(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),o.fill(0)}update(t){return Pt(this),this.iHash.update(t),this}digestInto(t){Pt(this),dn(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ta=(e,t,n)=>new ea(e,t).update(n).digest();ta.create=(e,t)=>new ea(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bs=BigInt(0),Wn=BigInt(1),xl=BigInt(2);function ht(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function gn(e){if(!ht(e))throw new Error("Uint8Array expected")}function Bt(e,t){if(typeof t!="boolean")throw new Error(`${e} must be valid boolean, got "${t}".`)}const El=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function $t(e){gn(e);let t="";for(let n=0;n<e.length;n++)t+=El[e[n]];return t}function wt(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function ys(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}const Me={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function po(e){if(e>=Me._0&&e<=Me._9)return e-Me._0;if(e>=Me._A&&e<=Me._F)return e-(Me._A-10);if(e>=Me._a&&e<=Me._f)return e-(Me._a-10)}function It(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=po(e.charCodeAt(o)),a=po(e.charCodeAt(o+1));if(i===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[s]=i*16+a}return r}function ct(e){return ys($t(e))}function ms(e){return gn(e),ys($t(Uint8Array.from(e).reverse()))}function Tt(e,t){return It(e.toString(16).padStart(t*2,"0"))}function gs(e,t){return Tt(e,t).reverse()}function Pl(e){return It(wt(e))}function Be(e,t,n){let r;if(typeof t=="string")try{r=It(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(ht(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${e} expected ${n} bytes, got ${s}`);return r}function fn(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];gn(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}function Al(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}function Bl(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}const fr=e=>typeof e=="bigint"&&bs<=e;function Yn(e,t,n){return fr(e)&&fr(t)&&fr(n)&&t<=e&&e<n}function ut(e,t,n,r){if(!Yn(t,n,r))throw new Error(`expected valid ${e}: ${n} <= n < ${r}, got ${typeof t} ${t}`)}function na(e){let t;for(t=0;e>bs;e>>=Wn,t+=1);return t}function $l(e,t){return e>>BigInt(t)&Wn}function Il(e,t,n){return e|(n?Wn:bs)<<BigInt(t)}const ws=e=>(xl<<BigInt(e-1))-Wn,dr=e=>new Uint8Array(e),bo=e=>Uint8Array.from(e);function ra(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=dr(e),s=dr(e),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},a=(...d)=>n(s,r,...d),c=(d=dr())=>{s=a(bo([0]),d),r=a(),d.length!==0&&(s=a(bo([1]),d),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const l=[];for(;d<t;){r=a();const b=r.slice();l.push(b),d+=r.length}return fn(...l)};return(d,l)=>{i(),c(d);let b;for(;!(b=l(u()));)c();return i(),b}}const Tl={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||ht(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function wn(e,t,n={}){const r=(s,o,i)=>{const a=Tl[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const c=e[s];if(!(i&&c===void 0)&&!a(c,e))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${o}`)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}const Sl=()=>{throw new Error("not implemented")};function _r(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const Cl=Object.freeze(Object.defineProperty({__proto__:null,aInRange:ut,abool:Bt,abytes:gn,bitGet:$l,bitLen:na,bitMask:ws,bitSet:Il,bytesToHex:$t,bytesToNumberBE:ct,bytesToNumberLE:ms,concatBytes:fn,createHmacDrbg:ra,ensureBytes:Be,equalBytes:Al,hexToBytes:It,hexToNumber:ys,inRange:Yn,isBytes:ht,memoized:_r,notImplemented:Sl,numberToBytesBE:Tt,numberToBytesLE:gs,numberToHexUnpadded:wt,numberToVarBytesBE:Pl,utf8ToBytes:Bl,validateObject:wn},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const re=BigInt(0),X=BigInt(1),it=BigInt(2),Rl=BigInt(3),zr=BigInt(4),yo=BigInt(5),mo=BigInt(8);BigInt(9);BigInt(16);function be(e,t){const n=e%t;return n>=re?n:t+n}function kl(e,t,n){if(n<=re||t<re)throw new Error("Expected power/modulo > 0");if(n===X)return re;let r=X;for(;t>re;)t&X&&(r=r*e%n),e=e*e%n,t>>=X;return r}function Ee(e,t,n){let r=e;for(;t-- >re;)r*=r,r%=n;return r}function Mr(e,t){if(e===re||t<=re)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=be(e,t),r=t,s=re,o=X;for(;n!==re;){const a=r/n,c=r%n,u=s-o*a;r=n,n=c,s=o,o=u}if(r!==X)throw new Error("invert: does not exist");return be(s,t)}function Fl(e){const t=(e-X)/it;let n,r,s;for(n=e-X,r=0;n%it===re;n/=it,r++);for(s=it;s<e&&kl(s,t,e)!==e-X;s++);if(r===1){const i=(e+X)/zr;return function(c,u){const f=c.pow(u,i);if(!c.eql(c.sqr(f),u))throw new Error("Cannot find square root");return f}}const o=(n+X)/it;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,f=a.pow(a.mul(a.ONE,s),n),d=a.pow(c,o),l=a.pow(c,n);for(;!a.eql(l,a.ONE);){if(a.eql(l,a.ZERO))return a.ZERO;let b=1;for(let y=a.sqr(l);b<u&&!a.eql(y,a.ONE);b++)y=a.sqr(y);const g=a.pow(f,X<<BigInt(u-b-1));f=a.sqr(g),d=a.mul(d,g),l=a.mul(l,f),u=b}return d}}function Nl(e){if(e%zr===Rl){const t=(e+X)/zr;return function(r,s){const o=r.pow(s,t);if(!r.eql(r.sqr(o),s))throw new Error("Cannot find square root");return o}}if(e%mo===yo){const t=(e-yo)/mo;return function(r,s){const o=r.mul(s,it),i=r.pow(o,t),a=r.mul(s,i),c=r.mul(r.mul(a,it),i),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return Fl(e)}const Ol=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function _l(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Ol.reduce((r,s)=>(r[s]="function",r),t);return wn(e,n)}function zl(e,t,n){if(n<re)throw new Error("Expected power > 0");if(n===re)return e.ONE;if(n===X)return t;let r=e.ONE,s=t;for(;n>re;)n&X&&(r=e.mul(r,s)),s=e.sqr(s),n>>=X;return r}function Ml(e,t){const n=new Array(t.length),r=t.reduce((o,i,a)=>e.is0(i)?o:(n[a]=o,e.mul(o,i)),e.ONE),s=e.inv(r);return t.reduceRight((o,i,a)=>e.is0(i)?o:(n[a]=e.mul(o,n[a]),e.mul(o,i)),s),n}function sa(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function oa(e,t,n=!1,r={}){if(e<=re)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:s,nByteLength:o}=sa(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const i=Nl(e),a=Object.freeze({ORDER:e,BITS:s,BYTES:o,MASK:ws(s),ZERO:re,ONE:X,create:c=>be(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return re<=c&&c<e},is0:c=>c===re,isOdd:c=>(c&X)===X,neg:c=>be(-c,e),eql:(c,u)=>c===u,sqr:c=>be(c*c,e),add:(c,u)=>be(c+u,e),sub:(c,u)=>be(c-u,e),mul:(c,u)=>be(c*u,e),pow:(c,u)=>zl(a,c,u),div:(c,u)=>be(c*Mr(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Mr(c,e),sqrt:r.sqrt||(c=>i(a,c)),invertBatch:c=>Ml(a,c),cmov:(c,u,f)=>f?u:c,toBytes:c=>n?gs(c,o):Tt(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return n?ms(c):ct(c)}});return Object.freeze(a)}function ia(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function aa(e){const t=ia(e);return t+Math.ceil(t/2)}function jl(e,t,n=!1){const r=e.length,s=ia(t),o=aa(t);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const i=n?ct(e):ms(e),a=be(i,t-X)+X;return n?gs(a,s):Tt(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ll=BigInt(0),lr=BigInt(1),hr=new WeakMap,go=new WeakMap;function Dl(e,t){const n=(o,i)=>{const a=i.negate();return o?a:i},r=o=>{if(!Number.isSafeInteger(o)||o<=0||o>t)throw new Error(`Wrong window size=${o}, should be [1..${t}]`)},s=o=>{r(o);const i=Math.ceil(t/o)+1,a=2**(o-1);return{windows:i,windowSize:a}};return{constTimeNegate:n,unsafeLadder(o,i){let a=e.ZERO,c=o;for(;i>Ll;)i&lr&&(a=a.add(c)),c=c.double(),i>>=lr;return a},precomputeWindow(o,i){const{windows:a,windowSize:c}=s(i),u=[];let f=o,d=f;for(let l=0;l<a;l++){d=f,u.push(d);for(let b=1;b<c;b++)d=d.add(f),u.push(d);f=d.double()}return u},wNAF(o,i,a){const{windows:c,windowSize:u}=s(o);let f=e.ZERO,d=e.BASE;const l=BigInt(2**o-1),b=2**o,g=BigInt(o);for(let y=0;y<c;y++){const p=y*u;let m=Number(a&l);a>>=g,m>u&&(m-=b,a+=lr);const w=p,v=p+Math.abs(m)-1,E=y%2!==0,R=m<0;m===0?d=d.add(n(E,i[w])):f=f.add(n(R,i[v]))}return{p:f,f:d}},wNAFCached(o,i,a){const c=go.get(o)||1;let u=hr.get(o);return u||(u=this.precomputeWindow(o,c),c!==1&&hr.set(o,a(u))),this.wNAF(c,u,i)},setWindowSize(o,i){r(i),go.set(o,i),hr.delete(o)}}}function Ul(e,t,n,r){if(!Array.isArray(n)||!Array.isArray(r)||r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");r.forEach((f,d)=>{if(!t.isValid(f))throw new Error(`wrong scalar at index ${d}`)}),n.forEach((f,d)=>{if(!(f instanceof e))throw new Error(`wrong point at index ${d}`)});const s=na(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,i=(1<<o)-1,a=new Array(i+1).fill(e.ZERO),c=Math.floor((t.BITS-1)/o)*o;let u=e.ZERO;for(let f=c;f>=0;f-=o){a.fill(e.ZERO);for(let l=0;l<r.length;l++){const b=r[l],g=Number(b>>BigInt(f)&BigInt(i));a[g]=a[g].add(n[l])}let d=e.ZERO;for(let l=a.length-1,b=e.ZERO;l>0;l--)b=b.add(a[l]),d=d.add(b);if(u=u.add(d),f!==0)for(let l=0;l<o;l++)u=u.double()}return u}function ca(e){return _l(e.Fp),wn(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...sa(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function wo(e){e.lowS!==void 0&&Bt("lowS",e.lowS),e.prehash!==void 0&&Bt("prehash",e.prehash)}function Gl(e){const t=ca(e);wn(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:Hl,hexToBytes:ql}=Cl,je={Err:class extends Error{constructor(t=""){super(t)}},_tlv:{encode:(e,t)=>{const{Err:n}=je;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=wt(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?wt(s.length/2|128):"";return`${wt(e)}${o}${s}${t}`},decode(e,t){const{Err:n}=je;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)i=i<<8|f;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=je;if(e<Le)throw new t("integer: negative integers are not allowed");let n=wt(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected assertion");return n},decode(e){const{Err:t}=je;if(e[0]&128)throw new t("Invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return Hl(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=je,s=typeof e=="string"?ql(e):e;gn(s);const{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("Invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:u,l:f}=r.decode(2,c);if(f.length)throw new t("Invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=je,r=`${t.encode(2,n.encode(e.r))}${t.encode(2,n.encode(e.s))}`;return t.encode(48,r)}},Le=BigInt(0),te=BigInt(1);BigInt(2);const vo=BigInt(3);BigInt(4);function Vl(e){const t=Gl(e),{Fp:n}=t,r=oa(t.n,t.nBitLength),s=t.toBytes||((y,p,m)=>{const w=p.toAffine();return fn(Uint8Array.from([4]),n.toBytes(w.x),n.toBytes(w.y))}),o=t.fromBytes||(y=>{const p=y.subarray(1),m=n.fromBytes(p.subarray(0,n.BYTES)),w=n.fromBytes(p.subarray(n.BYTES,2*n.BYTES));return{x:m,y:w}});function i(y){const{a:p,b:m}=t,w=n.sqr(y),v=n.mul(w,y);return n.add(n.add(v,n.mul(y,p)),m)}if(!n.eql(n.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function a(y){return Yn(y,te,t.n)}function c(y){const{allowedPrivateKeyLengths:p,nByteLength:m,wrapPrivateKey:w,n:v}=t;if(p&&typeof y!="bigint"){if(ht(y)&&(y=$t(y)),typeof y!="string"||!p.includes(y.length))throw new Error("Invalid key");y=y.padStart(m*2,"0")}let E;try{E=typeof y=="bigint"?y:ct(Be("private key",y,m))}catch{throw new Error(`private key must be ${m} bytes, hex or bigint, not ${typeof y}`)}return w&&(E=be(E,v)),ut("private key",E,te,v),E}function u(y){if(!(y instanceof l))throw new Error("ProjectivePoint expected")}const f=_r((y,p)=>{const{px:m,py:w,pz:v}=y;if(n.eql(v,n.ONE))return{x:m,y:w};const E=y.is0();p==null&&(p=E?n.ONE:n.inv(v));const R=n.mul(m,p),I=n.mul(w,p),A=n.mul(v,p);if(E)return{x:n.ZERO,y:n.ZERO};if(!n.eql(A,n.ONE))throw new Error("invZ was invalid");return{x:R,y:I}}),d=_r(y=>{if(y.is0()){if(t.allowInfinityPoint&&!n.is0(y.py))return;throw new Error("bad point: ZERO")}const{x:p,y:m}=y.toAffine();if(!n.isValid(p)||!n.isValid(m))throw new Error("bad point: x or y not FE");const w=n.sqr(m),v=i(p);if(!n.eql(w,v))throw new Error("bad point: equation left != right");if(!y.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class l{constructor(p,m,w){if(this.px=p,this.py=m,this.pz=w,p==null||!n.isValid(p))throw new Error("x required");if(m==null||!n.isValid(m))throw new Error("y required");if(w==null||!n.isValid(w))throw new Error("z required");Object.freeze(this)}static fromAffine(p){const{x:m,y:w}=p||{};if(!p||!n.isValid(m)||!n.isValid(w))throw new Error("invalid affine point");if(p instanceof l)throw new Error("projective point not allowed");const v=E=>n.eql(E,n.ZERO);return v(m)&&v(w)?l.ZERO:new l(m,w,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(p){const m=n.invertBatch(p.map(w=>w.pz));return p.map((w,v)=>w.toAffine(m[v])).map(l.fromAffine)}static fromHex(p){const m=l.fromAffine(o(Be("pointHex",p)));return m.assertValidity(),m}static fromPrivateKey(p){return l.BASE.multiply(c(p))}static msm(p,m){return Ul(l,r,p,m)}_setWindowSize(p){g.setWindowSize(this,p)}assertValidity(){d(this)}hasEvenY(){const{y:p}=this.toAffine();if(n.isOdd)return!n.isOdd(p);throw new Error("Field doesn't support isOdd")}equals(p){u(p);const{px:m,py:w,pz:v}=this,{px:E,py:R,pz:I}=p,A=n.eql(n.mul(m,I),n.mul(E,v)),B=n.eql(n.mul(w,I),n.mul(R,v));return A&&B}negate(){return new l(this.px,n.neg(this.py),this.pz)}double(){const{a:p,b:m}=t,w=n.mul(m,vo),{px:v,py:E,pz:R}=this;let I=n.ZERO,A=n.ZERO,B=n.ZERO,$=n.mul(v,v),G=n.mul(E,E),O=n.mul(R,R),N=n.mul(v,E);return N=n.add(N,N),B=n.mul(v,R),B=n.add(B,B),I=n.mul(p,B),A=n.mul(w,O),A=n.add(I,A),I=n.sub(G,A),A=n.add(G,A),A=n.mul(I,A),I=n.mul(N,I),B=n.mul(w,B),O=n.mul(p,O),N=n.sub($,O),N=n.mul(p,N),N=n.add(N,B),B=n.add($,$),$=n.add(B,$),$=n.add($,O),$=n.mul($,N),A=n.add(A,$),O=n.mul(E,R),O=n.add(O,O),$=n.mul(O,N),I=n.sub(I,$),B=n.mul(O,G),B=n.add(B,B),B=n.add(B,B),new l(I,A,B)}add(p){u(p);const{px:m,py:w,pz:v}=this,{px:E,py:R,pz:I}=p;let A=n.ZERO,B=n.ZERO,$=n.ZERO;const G=t.a,O=n.mul(t.b,vo);let N=n.mul(m,E),D=n.mul(w,R),T=n.mul(v,I),C=n.add(m,w),S=n.add(E,R);C=n.mul(C,S),S=n.add(N,D),C=n.sub(C,S),S=n.add(m,v);let F=n.add(E,I);return S=n.mul(S,F),F=n.add(N,T),S=n.sub(S,F),F=n.add(w,v),A=n.add(R,I),F=n.mul(F,A),A=n.add(D,T),F=n.sub(F,A),$=n.mul(G,S),A=n.mul(O,T),$=n.add(A,$),A=n.sub(D,$),$=n.add(D,$),B=n.mul(A,$),D=n.add(N,N),D=n.add(D,N),T=n.mul(G,T),S=n.mul(O,S),D=n.add(D,T),T=n.sub(N,T),T=n.mul(G,T),S=n.add(S,T),N=n.mul(D,S),B=n.add(B,N),N=n.mul(F,S),A=n.mul(C,A),A=n.sub(A,N),N=n.mul(C,D),$=n.mul(F,$),$=n.add($,N),new l(A,B,$)}subtract(p){return this.add(p.negate())}is0(){return this.equals(l.ZERO)}wNAF(p){return g.wNAFCached(this,p,l.normalizeZ)}multiplyUnsafe(p){ut("scalar",p,Le,t.n);const m=l.ZERO;if(p===Le)return m;if(p===te)return this;const{endo:w}=t;if(!w)return g.unsafeLadder(this,p);let{k1neg:v,k1:E,k2neg:R,k2:I}=w.splitScalar(p),A=m,B=m,$=this;for(;E>Le||I>Le;)E&te&&(A=A.add($)),I&te&&(B=B.add($)),$=$.double(),E>>=te,I>>=te;return v&&(A=A.negate()),R&&(B=B.negate()),B=new l(n.mul(B.px,w.beta),B.py,B.pz),A.add(B)}multiply(p){const{endo:m,n:w}=t;ut("scalar",p,te,w);let v,E;if(m){const{k1neg:R,k1:I,k2neg:A,k2:B}=m.splitScalar(p);let{p:$,f:G}=this.wNAF(I),{p:O,f:N}=this.wNAF(B);$=g.constTimeNegate(R,$),O=g.constTimeNegate(A,O),O=new l(n.mul(O.px,m.beta),O.py,O.pz),v=$.add(O),E=G.add(N)}else{const{p:R,f:I}=this.wNAF(p);v=R,E=I}return l.normalizeZ([v,E])[0]}multiplyAndAddUnsafe(p,m,w){const v=l.BASE,E=(I,A)=>A===Le||A===te||!I.equals(v)?I.multiplyUnsafe(A):I.multiply(A),R=E(this,m).add(E(p,w));return R.is0()?void 0:R}toAffine(p){return f(this,p)}isTorsionFree(){const{h:p,isTorsionFree:m}=t;if(p===te)return!0;if(m)return m(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:p,clearCofactor:m}=t;return p===te?this:m?m(l,this):this.multiplyUnsafe(t.h)}toRawBytes(p=!0){return Bt("isCompressed",p),this.assertValidity(),s(l,this,p)}toHex(p=!0){return Bt("isCompressed",p),$t(this.toRawBytes(p))}}l.BASE=new l(t.Gx,t.Gy,n.ONE),l.ZERO=new l(n.ZERO,n.ONE,n.ZERO);const b=t.nBitLength,g=Dl(l,t.endo?Math.ceil(b/2):b);return{CURVE:t,ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:a}}function Zl(e){const t=ca(e);return wn(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Wl(e){const t=Zl(e),{Fp:n,n:r}=t,s=n.BYTES+1,o=2*n.BYTES+1;function i(T){return be(T,r)}function a(T){return Mr(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:d}=Vl({...t,toBytes(T,C,S){const F=C.toAffine(),M=n.toBytes(F.x),q=fn;return Bt("isCompressed",S),S?q(Uint8Array.from([C.hasEvenY()?2:3]),M):q(Uint8Array.from([4]),M,n.toBytes(F.y))},fromBytes(T){const C=T.length,S=T[0],F=T.subarray(1);if(C===s&&(S===2||S===3)){const M=ct(F);if(!Yn(M,te,n.ORDER))throw new Error("Point is not on curve");const q=f(M);let W;try{W=n.sqrt(q)}catch(ae){const ce=ae instanceof Error?": "+ae.message:"";throw new Error("Point is not on curve"+ce)}const K=(W&te)===te;return(S&1)===1!==K&&(W=n.neg(W)),{x:M,y:W}}else if(C===o&&S===4){const M=n.fromBytes(F.subarray(0,n.BYTES)),q=n.fromBytes(F.subarray(n.BYTES,2*n.BYTES));return{x:M,y:q}}else throw new Error(`Point of length ${C} was invalid. Expected ${s} compressed bytes or ${o} uncompressed bytes`)}}),l=T=>$t(Tt(T,t.nByteLength));function b(T){const C=r>>te;return T>C}function g(T){return b(T)?i(-T):T}const y=(T,C,S)=>ct(T.slice(C,S));class p{constructor(C,S,F){this.r=C,this.s=S,this.recovery=F,this.assertValidity()}static fromCompact(C){const S=t.nByteLength;return C=Be("compactSignature",C,S*2),new p(y(C,0,S),y(C,S,2*S))}static fromDER(C){const{r:S,s:F}=je.toSig(Be("DER",C));return new p(S,F)}assertValidity(){ut("r",this.r,te,r),ut("s",this.s,te,r)}addRecoveryBit(C){return new p(this.r,this.s,C)}recoverPublicKey(C){const{r:S,s:F,recovery:M}=this,q=I(Be("msgHash",C));if(M==null||![0,1,2,3].includes(M))throw new Error("recovery id invalid");const W=M===2||M===3?S+t.n:S;if(W>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const K=M&1?"03":"02",oe=c.fromHex(K+l(W)),ae=a(W),ce=i(-q*ae),me=i(F*ae),ge=c.BASE.multiplyAndAddUnsafe(oe,ce,me);if(!ge)throw new Error("point at infinify");return ge.assertValidity(),ge}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new p(this.r,i(-this.s),this.recovery):this}toDERRawBytes(){return It(this.toDERHex())}toDERHex(){return je.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return It(this.toCompactHex())}toCompactHex(){return l(this.r)+l(this.s)}}const m={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=aa(t.n);return jl(t.randomBytes(T),t.n)},precompute(T=8,C=c.BASE){return C._setWindowSize(T),C.multiply(BigInt(3)),C}};function w(T,C=!0){return c.fromPrivateKey(T).toRawBytes(C)}function v(T){const C=ht(T),S=typeof T=="string",F=(C||S)&&T.length;return C?F===s||F===o:S?F===2*s||F===2*o:T instanceof c}function E(T,C,S=!0){if(v(T))throw new Error("first arg must be private key");if(!v(C))throw new Error("second arg must be public key");return c.fromHex(C).multiply(u(T)).toRawBytes(S)}const R=t.bits2int||function(T){const C=ct(T),S=T.length*8-t.nBitLength;return S>0?C>>BigInt(S):C},I=t.bits2int_modN||function(T){return i(R(T))},A=ws(t.nBitLength);function B(T){return ut(`num < 2^${t.nBitLength}`,T,Le,A),Tt(T,t.nByteLength)}function $(T,C,S=G){if(["recovered","canonical"].some(de=>de in S))throw new Error("sign() legacy options not supported");const{hash:F,randomBytes:M}=t;let{lowS:q,prehash:W,extraEntropy:K}=S;q==null&&(q=!0),T=Be("msgHash",T),wo(S),W&&(T=Be("prehashed msgHash",F(T)));const oe=I(T),ae=u(C),ce=[B(ae),B(oe)];if(K!=null&&K!==!1){const de=K===!0?M(n.BYTES):K;ce.push(Be("extraEntropy",de))}const me=fn(...ce),ge=oe;function qe(de){const we=R(de);if(!d(we))return;const ke=a(we),Ve=c.BASE.multiply(we).toAffine(),le=i(Ve.x);if(le===Le)return;const Ze=i(ke*i(ge+le*ae));if(Ze===Le)return;let vn=(Ve.x===le?0:2)|Number(Ve.y&te),rt=Ze;return q&&b(Ze)&&(rt=g(Ze),vn^=1),new p(le,rt,vn)}return{seed:me,k2sig:qe}}const G={lowS:t.lowS,prehash:!1},O={lowS:t.lowS,prehash:!1};function N(T,C,S=G){const{seed:F,k2sig:M}=$(T,C,S),q=t;return ra(q.hash.outputLen,q.nByteLength,q.hmac)(F,M)}c.BASE._setWindowSize(8);function D(T,C,S,F=O){var Ve;const M=T;if(C=Be("msgHash",C),S=Be("publicKey",S),"strict"in F)throw new Error("options.strict was renamed to lowS");wo(F);const{lowS:q,prehash:W}=F;let K,oe;try{if(typeof M=="string"||ht(M))try{K=p.fromDER(M)}catch(le){if(!(le instanceof je.Err))throw le;K=p.fromCompact(M)}else if(typeof M=="object"&&typeof M.r=="bigint"&&typeof M.s=="bigint"){const{r:le,s:Ze}=M;K=new p(le,Ze)}else throw new Error("PARSE");oe=c.fromHex(S)}catch(le){if(le.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(q&&K.hasHighS())return!1;W&&(C=t.hash(C));const{r:ae,s:ce}=K,me=I(C),ge=a(ce),qe=i(me*ge),de=i(ae*ge),we=(Ve=c.BASE.multiplyAndAddUnsafe(oe,qe,de))==null?void 0:Ve.toAffine();return we?i(we.x)===ae:!1}return{CURVE:t,getPublicKey:w,getSharedSecret:E,sign:N,verify:D,ProjectivePoint:c,Signature:p,utils:m}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Yl(e){return{hash:e,hmac:(t,...n)=>ta(e,t,tu(...n)),randomBytes:nu}}function Kl(e,t){const n=r=>Wl({...e,...Yl(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ua=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),xo=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Jl=BigInt(1),jr=BigInt(2),Eo=(e,t)=>(e+t/jr)/t;function Xl(e){const t=ua,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=Ee(f,n,t)*f%t,l=Ee(d,n,t)*f%t,b=Ee(l,jr,t)*u%t,g=Ee(b,s,t)*b%t,y=Ee(g,o,t)*g%t,p=Ee(y,a,t)*y%t,m=Ee(p,c,t)*p%t,w=Ee(m,a,t)*y%t,v=Ee(w,n,t)*f%t,E=Ee(v,i,t)*g%t,R=Ee(E,r,t)*u%t,I=Ee(R,jr,t);if(!Lr.eql(Lr.sqr(I),e))throw new Error("Cannot find square root");return I}const Lr=oa(ua,void 0,void 0,{sqrt:Xl}),vs=Kl({a:BigInt(0),b:BigInt(7),Fp:Lr,n:xo,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=xo,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Jl*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=Eo(o*e,t),c=Eo(-r*e,t);let u=be(e-a*n-c*s,t),f=be(-a*r-c*o,t);const d=u>i,l=f>i;if(d&&(u=t-u),l&&(f=t-f),u>i||f>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},Pi);BigInt(0);vs.ProjectivePoint;const Ql=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:vs},Symbol.toStringTag,{value:"Module"}));function e0({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new vs.Signature(ve(e),ve(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:Ce(i)}async function xs(e,t){var d,l,b;const{address:n,factory:r,factoryData:s,hash:o,signature:i,universalSignatureVerifierAddress:a=(b=(l=(d=e.chain)==null?void 0:d.contracts)==null?void 0:l.universalSignatureVerifier)==null?void 0:b.address,...c}=t,u=(()=>Se(i)?i:typeof i=="object"&&"r"in i&&"s"in i?e0(i):ee(i))(),f=await(async()=>!r&&!s||nl(u)?u:rl({address:r,data:s,signature:u}))();try{const g=a?{to:a,data:nt({abi:co,functionName:"isValidSig",args:[n,o,f]}),...c}:{data:us({abi:co,args:[n,o,f],bytecode:qf}),...c},{data:y}=await L(e,pn,"call")(g);return Mc(y??"0x0")}catch(g){try{if(Un(mu(n),await li({hash:o,signature:i})))return!0}catch{}if(g instanceof fi)return!1;throw g}}async function t0(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const a=Xi(n);return xs(e,{address:t,factory:r,factoryData:s,hash:a,signature:o,...i})}async function n0(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:a,types:c,domain:u,...f}=t,d=Vd({message:i,primaryType:a,types:c,domain:u});return xs(e,{address:n,factory:r,factoryData:s,hash:d,signature:o,...f})}function fa(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const a=(()=>typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))();let c;return a?(()=>{const d=ie(["watchBlockNumber",e.uid,t,n,i]);return Qe(d,{onBlockNumber:r,onError:s},l=>bn(async()=>{var b;try{const g=await L(e,yn,"getBlockNumber")({cacheTime:0});if(c){if(g===c)return;if(g-c>1&&n)for(let y=c+1n;y<g;y++)l.onBlockNumber(y,c),c=y}(!c||g>c)&&(l.onBlockNumber(g,c),c=g)}catch(g){(b=l.onError)==null||b.call(l,g)}},{emitOnBegin:t,interval:i}))})():(()=>{const d=ie(["watchBlockNumber",e.uid,t,n]);return Qe(d,{onBlockNumber:r,onError:s},l=>{let b=!0,g=()=>b=!1;return(async()=>{try{const y=(()=>{if(e.transport.type==="fallback"){const m=e.transport.transports.find(w=>w.config.type==="webSocket");return m?m.value:e.transport}return e.transport})(),{unsubscribe:p}=await y.subscribe({params:["newHeads"],onData(m){var v;if(!b)return;const w=ve((v=m.result)==null?void 0:v.number);l.onBlockNumber(w,c),c=w},onError(m){var w;(w=l.onError)==null||w.call(l,m)}});g=p,b||g()}catch(y){s==null||s(y)}})(),()=>g()})})()}async function r0(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,retryCount:o=6,retryDelay:i=({count:c})=>~~(1<<c)*200,timeout:a=18e4}){const c=ie(["waitForTransactionReceipt",e.uid,n]);let u,f,d,l=!1;return new Promise((b,g)=>{a&&setTimeout(()=>g(new Xu({hash:n})),a);const y=Qe(c,{onReplaced:r,resolve:b,reject:g},p=>{const m=L(e,fa,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(w){const v=R=>{m(),R(),y()};let E=w;if(!l)try{if(d){if(t>1&&(!d.blockNumber||E-d.blockNumber+1n<t))return;v(()=>p.resolve(d));return}if(u||(l=!0,await Nr(async()=>{u=await L(e,ps,"getTransaction")({hash:n}),u.blockNumber&&(E=u.blockNumber)},{delay:i,retryCount:o}),l=!1),d=await L(e,Or,"getTransactionReceipt")({hash:n}),t>1&&(!d.blockNumber||E-d.blockNumber+1n<t))return;v(()=>p.resolve(d))}catch(R){if(R instanceof ci||R instanceof ui){if(!u){l=!1;return}try{f=u,l=!0;const I=await Nr(()=>L(e,Ue,"getBlock")({blockNumber:E,includeTransactions:!0}),{delay:i,retryCount:o,shouldRetry:({error:$})=>$ instanceof wi});l=!1;const A=I.transactions.find(({from:$,nonce:G})=>$===f.from&&G===f.nonce);if(!A||(d=await L(e,Or,"getTransactionReceipt")({hash:A.hash}),t>1&&(!d.blockNumber||E-d.blockNumber+1n<t)))return;let B="replaced";A.to===f.to&&A.value===f.value?B="repriced":A.from===A.to&&A.value===0n&&(B="cancelled"),v(()=>{var $;($=p.onReplaced)==null||$.call(p,{reason:B,replacedTransaction:f,transaction:A,transactionReceipt:d}),p.resolve(d)})}catch(I){v(()=>p.reject(I))}}else v(()=>p.reject(R))}}})})})}function s0(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:a,pollingInterval:c=e.pollingInterval}){const u=(()=>typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))(),f=i??!1;let d;return u?(()=>{const g=ie(["watchBlocks",e.uid,t,n,r,f,c]);return Qe(g,{onBlock:s,onError:o},y=>bn(async()=>{var p;try{const m=await L(e,Ue,"getBlock")({blockTag:t,includeTransactions:f});if(m.number&&(d!=null&&d.number)){if(m.number===d.number)return;if(m.number-d.number>1&&n)for(let w=(d==null?void 0:d.number)+1n;w<m.number;w++){const v=await L(e,Ue,"getBlock")({blockNumber:w,includeTransactions:f});y.onBlock(v,d),d=v}}(!(d!=null&&d.number)||t==="pending"&&!(m!=null&&m.number)||m.number&&m.number>d.number)&&(y.onBlock(m,d),d=m)}catch(m){(p=y.onError)==null||p.call(y,m)}},{emitOnBegin:r,interval:c}))})():(()=>{let g=!0,y=!0,p=()=>g=!1;return(async()=>{try{r&&L(e,Ue,"getBlock")({blockTag:t,includeTransactions:f}).then(v=>{g&&y&&(s(v,void 0),y=!1)});const m=(()=>{if(e.transport.type==="fallback"){const v=e.transport.transports.find(E=>E.config.type==="webSocket");return v?v.value:e.transport}return e.transport})(),{unsubscribe:w}=await m.subscribe({params:["newHeads"],onData(v){var I,A,B;if(!g)return;const R=(((B=(A=(I=e.chain)==null?void 0:I.formatters)==null?void 0:A.block)==null?void 0:B.format)||es)(v.result);s(R,d),y=!1,d=R},onError(v){o==null||o(v)}});p=w,g||p()}catch(m){o==null||o(m)}})(),()=>p()})()}function o0(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:a,onLogs:c,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=(()=>typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))(),b=d??!1;return l?(()=>{const p=ie(["watchEvent",t,n,r,e.uid,s,f,i]);return Qe(p,{onLogs:c,onError:a},m=>{let w;i!==void 0&&(w=i-1n);let v,E=!1;const R=bn(async()=>{var I;if(!E){try{v=await L(e,Hi,"createEventFilter")({address:t,args:n,event:s,events:o,strict:b,fromBlock:i})}catch{}E=!0;return}try{let A;if(v)A=await L(e,Hn,"getFilterChanges")({filter:v});else{const B=await L(e,yn,"getBlockNumber")({});w&&w!==B?A=await L(e,cs,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:w+1n,toBlock:B}):A=[],w=B}if(A.length===0)return;if(r)m.onLogs(A);else for(const B of A)m.onLogs([B])}catch(A){v&&A instanceof dt&&(E=!1),(I=m.onError)==null||I.call(m,A)}},{emitOnBegin:!0,interval:f});return async()=>{v&&await L(e,qn,"uninstallFilter")({filter:v}),R()}})})():(()=>{let p=!0,m=()=>p=!1;return(async()=>{try{const w=(()=>{if(e.transport.type==="fallback"){const I=e.transport.transports.find(A=>A.config.type==="webSocket");return I?I.value:e.transport}return e.transport})(),v=o??(s?[s]:void 0);let E=[];v&&(E=[v.flatMap(A=>hn({abi:[A],eventName:A.name,args:n}))],s&&(E=E[0]));const{unsubscribe:R}=await w.subscribe({params:["logs",{address:t,topics:E}],onData(I){var B;if(!p)return;const A=I.result;try{const{eventName:$,args:G}=is({abi:v??[],data:A.data,topics:A.topics,strict:b}),O=Xe(A,{args:G,eventName:$});c([O])}catch($){let G,O;if($ instanceof Gt||$ instanceof kn){if(d)return;G=$.abiItem.name,O=(B=$.abiItem.inputs)==null?void 0:B.some(D=>!("name"in D&&D.name))}const N=Xe(A,{args:O?[]:{},eventName:G});c([N])}},onError(I){a==null||a(I)}});m=R,p||m()}catch(w){a==null||a(w)}})(),()=>m()})()}function i0(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket")?(()=>{const u=ie(["watchPendingTransactions",e.uid,t,o]);return Qe(u,{onTransactions:r,onError:n},f=>{let d;const l=bn(async()=>{var b;try{if(!d)try{d=await L(e,qi,"createPendingTransactionFilter")({});return}catch(y){throw l(),y}const g=await L(e,Hn,"getFilterChanges")({filter:d});if(g.length===0)return;if(t)f.onTransactions(g);else for(const y of g)f.onTransactions([y])}catch(g){(b=f.onError)==null||b.call(f,g)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await L(e,qn,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const b=l.result;r([b])},onError(l){n==null||n(l)}});f=d,u||f()}catch(d){n==null||n(d)}})(),()=>f()})()}function a0(e){var d,l,b;const{scheme:t,statement:n,...r}=((d=e.match(c0))==null?void 0:d.groups)??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:a,requestId:c,...u}=((l=e.match(u0))==null?void 0:l.groups)??{},f=(b=e.split("Resources:")[1])==null?void 0:b.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const c0=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,u0=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function f0(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||t&&!Un(r.address,t))return!1}catch{return!1}return!0}async function d0(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:a,time:c=new Date,...u}=t,f=a0(s);if(!f.address||!f0({address:n,domain:r,message:f,nonce:o,scheme:i,time:c}))return!1;const l=Xi(s);return xs(e,{address:f.address,hash:l,signature:a,...u})}function l0(e){return{call:t=>pn(e,t),createBlockFilter:()=>Md(e),createContractEventFilter:t=>ti(e,t),createEventFilter:t=>Hi(e,t),createPendingTransactionFilter:()=>qi(e),estimateContractGas:t=>Mf(e,t),estimateGas:t=>os(e,t),getBalance:t=>Fi(e,t),getBlobBaseFee:()=>jd(e),getBlock:t=>Ue(e,t),getBlockNumber:t=>yn(e,t),getBlockTransactionCount:t=>Ld(e,t),getBytecode:t=>ho(e,t),getChainId:()=>Ri(e),getCode:t=>ho(e,t),getContractEvents:t=>Ni(e,t),getEip712Domain:t=>cd(e,t),getEnsAddress:t=>Ed(e,t),getEnsAvatar:t=>Od(e,t),getEnsName:t=>_d(e,t),getEnsResolver:t=>zd(e,t),getEnsText:t=>Gi(e,t),getFeeHistory:t=>Ud(e,t),estimateFeesPerGas:t=>Af(e,t),getFilterChanges:t=>Hn(e,t),getFilterLogs:t=>Gd(e,t),getGasPrice:()=>ts(e),getLogs:t=>cs(e,t),getProof:t=>ml(e,t),estimateMaxPriorityFeePerGas:t=>Pf(e,t),getStorageAt:t=>gl(e,t),getTransaction:t=>ps(e,t),getTransactionConfirmations:t=>wl(e,t),getTransactionCount:t=>Ei(e,t),getTransactionReceipt:t=>Or(e,t),multicall:t=>vl(e,t),prepareTransactionRequest:t=>ki(e,t),readContract:t=>He(e,t),sendRawTransaction:t=>id(e,t),simulateContract:t=>Xf(e,t),verifyMessage:t=>t0(e,t),verifySiweMessage:t=>d0(e,t),verifyTypedData:t=>n0(e,t),uninstallFilter:t=>qn(e,t),waitForTransactionReceipt:t=>r0(e,t),watchBlocks:t=>s0(e,t),watchBlockNumber:t=>fa(e,t),watchContractEvent:t=>od(e,t),watchEvent:t=>o0(e,t),watchPendingTransactions:t=>i0(e,t)}}function h0(e){const{key:t="public",name:n="Public Client"}=e;return fd({...e,key:t,name:n,type:"publicClient"}).extend(l0)}const p0={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},b0={block:Ef({format(e){var n;return{transactions:(n=e.transactions)==null?void 0:n.map(r=>{if(typeof r=="string")return r;const s=Dn(r);return s.typeHex==="0x7e"&&(s.isSystemTx=r.isSystemTx,s.mint=r.mint?ve(r.mint):void 0,s.sourceHash=r.sourceHash,s.type="deposit"),s}),stateRoot:e.stateRoot}}}),transaction:vf({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?ve(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:Qd({format(e){return{l1GasPrice:e.l1GasPrice?ve(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?ve(e.l1GasUsed):null,l1Fee:e.l1Fee?ve(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function y0(e,t){return w0(e)?g0(e):ul(e,t)}const m0={transaction:y0};function g0(e){v0(e);const{sourceHash:t,data:n,from:r,gas:s,isSystemTx:o,mint:i,to:a,value:c}=e,u=[t,r,a??"0x",i?_(i):"0x",c?_(c):"0x",s?_(s):"0x",o?"0x1":"0x",n??"0x"];return _e(["0x7e",Je(u)])}function w0(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function v0(e){const{from:t,to:n}=e;if(t&&!se(t))throw new fe({address:t});if(n&&!se(n))throw new fe({address:n})}const Po={contracts:p0,formatters:b0,serializers:m0},Dt=1,x0=Vi({...Po,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...Po.contracts,disputeGameFactory:{[Dt]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[Dt]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[Dt]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[Dt]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:Dt}),E0=Vi({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc2.sepolia.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc8Af999e38273D658BE1b921b88A9Ddf005769cC",blockCreated:5317080}},testnet:!0}),P0=[{inputs:[{internalType:"address",name:"_addr",type:"address"},{internalType:"uint256",name:"_coinType",type:"uint256"}],name:"getName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"},{internalType:"string",name:"_key",type:"string"},{internalType:"uint256",name:"_coinType",type:"uint256"}],name:"getText",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],A0="0xDDa56f06D80f3D8E3E35159701A63753f39c3BCB",B0="0x342d6524829bedfF5Ce9f56cd56d5baAcf3dbC58";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),da=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var I0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=pe.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},c)=>pe.createElement("svg",{ref:c,...I0,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:da("lucide",s),...a},[...i.map(([u,f])=>pe.createElement(u,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=(e,t)=>{const n=pe.forwardRef(({className:r,...s},o)=>pe.createElement(T0,{ref:o,iconNode:t,className:da(`lucide-${$0(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=Es("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=Es("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=Es("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),k0=({address:e,coinType:t=614,rpcUrl:n,isSepolia:r=!1,backgroundColor:s,textColor:o,fontSize:i="14px",padding:a="8px 12px",borderRadius:c="20px",isWide:u=!1,showAvatar:f=!0,useDefaultAvatar:d=!1,onClick:l,avatarSize:b=24,showTooltip:g=!1,customLoadingComponent:y,customErrorComponent:p,showCopyButton:m=!1,theme:w="light"})=>{const[v,E]=pe.useState(null),[R,I]=pe.useState(null),[A,B]=pe.useState(!0),[$,G]=pe.useState(null),[O,N]=pe.useState(!1),[D,T]=pe.useState(!1);pe.useEffect(()=>{(async()=>{try{const me=r?B0:A0,de=h0({chain:r?E0:x0,transport:wd(n||(r?"https://sepolia.optimism.io":"https://mainnet.optimism.io"))}),we={address:me,abi:P0},ke=await de.multicall({contracts:[{...we,functionName:"getName",args:[e,BigInt(t)]},{...we,functionName:"getText",args:[e,"avatar",BigInt(t)]}],multicallAddress:"0xca11bde05977b3631167028862be2a173976ca11",allowFailure:!1});E(ke[0]),I(ke[1]),B(!1)}catch(me){G(me instanceof Error?me.message:String(me)),B(!1)}})()},[e,t,n,r]);const C={light:{backgroundColor:s||"#f0f0f0",textColor:o||"#000000"},dark:{backgroundColor:s||"#2a2a2a",textColor:o||"#ffffff"}},S={display:"flex",alignItems:"center",backgroundColor:C[w].backgroundColor,color:C[w].textColor,fontSize:i,padding:a,borderRadius:c,overflow:"hidden",width:u?"200px":"120px",cursor:l?"pointer":"default",position:"relative"},F={width:`${b}px`,height:`${b}px`,borderRadius:"50%",marginRight:"8px",flexShrink:0},M={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",flexGrow:1,minWidth:0},q={position:"absolute",bottom:"100%",left:"50%",transform:"translateX(-50%)",backgroundColor:w==="light"?"#333":"#f0f0f0",color:w==="light"?"#fff":"#333",padding:"5px 10px",borderRadius:"4px",fontSize:"12px",whiteSpace:"nowrap",opacity:D?1:0,transition:"opacity 0.3s",pointerEvents:"none"},W={background:"none",border:"none",cursor:"pointer",padding:"4px",marginLeft:"4px",color:C[w].textColor};if(A)return y||Ae.jsx("div",{style:{...S,animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"},children:"Loading..."});if($)return p||Ae.jsxs("div",{style:{color:"red",width:S.width},children:["Error: ",$]});const oe=v||(ce=>`${ce.slice(0,6)}...${ce.slice(-4)}`)(e),ae=ce=>{ce.stopPropagation(),navigator.clipboard.writeText(e),N(!0),setTimeout(()=>N(!1),2e3)};return Ae.jsxs("div",{style:S,onClick:l,onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),children:[f&&(d?Ae.jsx("img",{src:"default.png",alt:"Default Avatar",style:F}):R?Ae.jsx("img",{src:R,alt:"Avatar",style:F}):Ae.jsx(R0,{style:F})),Ae.jsx("span",{style:M,children:oe}),m&&Ae.jsx("button",{onClick:ae,style:W,children:O?Ae.jsx(S0,{size:16}):Ae.jsx(C0,{size:16})}),g&&Ae.jsx("div",{style:q,children:v?`${v} (${e})`:e})]})};exports.BaseError=x;exports.HnsIdProfile=k0;exports.HttpRequestError=xt;exports.call=pn;exports.concat=Oe;exports.decodeErrorResult=si;exports.encodeAbiParameters=pt;exports.getUrl=jn;exports.isAddressEqual=Un;exports.isHex=Se;exports.stringify=ie;
