(function(rt,te){typeof exports=="object"&&typeof module<"u"?te(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],te):(rt=typeof globalThis<"u"?globalThis:rt||self,te(rt.HnsIdReact={},rt.React))})(this,function(rt,te){"use strict";var Jn={exports:{}},Nt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var As;function ba(){if(As)return Nt;As=1;var e=te,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function i(a,c,u){var f,d={},l=null,b=null;u!==void 0&&(l=""+u),c.key!==void 0&&(l=""+c.key),c.ref!==void 0&&(b=c.ref);for(f in c)r.call(c,f)&&!o.hasOwnProperty(f)&&(d[f]=c[f]);if(a&&a.defaultProps)for(f in c=a.defaultProps,c)d[f]===void 0&&(d[f]=c[f]);return{$$typeof:t,type:a,key:l,ref:b,props:d,_owner:s.current}}return Nt.Fragment=n,Nt.jsx=i,Nt.jsxs=i,Nt}var _t={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bs;function ya(){return Bs||(Bs=1,process.env.NODE_ENV!=="production"&&function(){var e=te,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),g=Symbol.iterator,y="@@iterator";function p(h){if(h===null||typeof h!="object")return null;var P=g&&h[g]||h[y];return typeof P=="function"?P:null}var m=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function w(h){{for(var P=arguments.length,R=new Array(P>1?P-1:0),M=1;M<P;M++)R[M-1]=arguments[M];v("error",h,R)}}function v(h,P,R){{var M=m.ReactDebugCurrentFrame,V=M.getStackAddendum();V!==""&&(P+="%s",R=R.concat([V]));var Z=R.map(function(H){return String(H)});Z.unshift("Warning: "+P),Function.prototype.apply.call(console[h],console,Z)}}var E=!1,k=!1,T=!1,A=!1,B=!1,I;I=Symbol.for("react.module.reference");function G(h){return!!(typeof h=="string"||typeof h=="function"||h===r||h===o||B||h===s||h===u||h===f||A||h===b||E||k||T||typeof h=="object"&&h!==null&&(h.$$typeof===l||h.$$typeof===d||h.$$typeof===i||h.$$typeof===a||h.$$typeof===c||h.$$typeof===I||h.getModuleId!==void 0))}function N(h,P,R){var M=h.displayName;if(M)return M;var V=P.displayName||P.name||"";return V!==""?R+"("+V+")":R}function F(h){return h.displayName||"Context"}function D(h){if(h==null)return null;if(typeof h.tag=="number"&&w("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case r:return"Fragment";case n:return"Portal";case o:return"Profiler";case s:return"StrictMode";case u:return"Suspense";case f:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case a:var P=h;return F(P)+".Consumer";case i:var R=h;return F(R._context)+".Provider";case c:return N(h,h.render,"ForwardRef");case d:var M=h.displayName||null;return M!==null?M:D(h.type)||"Memo";case l:{var V=h,Z=V._payload,H=V._init;try{return D(H(Z))}catch{return null}}}return null}var $=Object.assign,C=0,S,O,L,q,W,J,ae;function ce(){}ce.__reactDisabledLog=!0;function ue(){{if(C===0){S=console.log,O=console.info,L=console.warn,q=console.error,W=console.group,J=console.groupCollapsed,ae=console.groupEnd;var h={configurable:!0,enumerable:!0,value:ce,writable:!0};Object.defineProperties(console,{info:h,log:h,warn:h,error:h,group:h,groupCollapsed:h,groupEnd:h})}C++}}function ge(){{if(C--,C===0){var h={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:$({},h,{value:S}),info:$({},h,{value:O}),warn:$({},h,{value:L}),error:$({},h,{value:q}),group:$({},h,{value:W}),groupCollapsed:$({},h,{value:J}),groupEnd:$({},h,{value:ae})})}C<0&&w("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var we=m.ReactCurrentDispatcher,et;function pe(h,P,R){{if(et===void 0)try{throw Error()}catch(V){var M=V.stack.trim().match(/\n( *(at )?)/);et=M&&M[1]||""}return`
`+et+h}}var ve=!1,_e;{var tt=typeof WeakMap=="function"?WeakMap:Map;_e=new tt}function be(h,P){if(!h||ve)return"";{var R=_e.get(h);if(R!==void 0)return R}var M;ve=!0;var V=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Z;Z=we.current,we.current=null,ue();try{if(P){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(ye){M=ye}Reflect.construct(h,[],H)}else{try{H.call()}catch(ye){M=ye}h.call(H.prototype)}}else{try{throw Error()}catch(ye){M=ye}h()}}catch(ye){if(ye&&M&&typeof ye.stack=="string"){for(var U=ye.stack.split(`
`),de=M.stack.split(`
`),X=U.length-1,ee=de.length-1;X>=1&&ee>=0&&U[X]!==de[ee];)ee--;for(;X>=1&&ee>=0;X--,ee--)if(U[X]!==de[ee]){if(X!==1||ee!==1)do if(X--,ee--,ee<0||U[X]!==de[ee]){var Pe=`
`+U[X].replace(" at new "," at ");return h.displayName&&Pe.includes("<anonymous>")&&(Pe=Pe.replace("<anonymous>",h.displayName)),typeof h=="function"&&_e.set(h,Pe),Pe}while(X>=1&&ee>=0);break}}}finally{ve=!1,we.current=Z,ge(),Error.prepareStackTrace=V}var Ft=h?h.displayName||h.name:"",yt=Ft?pe(Ft):"";return typeof h=="function"&&_e.set(h,yt),yt}function nt(h,P,R){return be(h,!1)}function Yn(h){var P=h.prototype;return!!(P&&P.isReactComponent)}function bt(h,P,R){if(h==null)return"";if(typeof h=="function")return be(h,Yn(h));if(typeof h=="string")return pe(h);switch(h){case u:return pe("Suspense");case f:return pe("SuspenseList")}if(typeof h=="object")switch(h.$$typeof){case c:return nt(h.render);case d:return bt(h.type,P,R);case l:{var M=h,V=M._payload,Z=M._init;try{return bt(Z(V),P,R)}catch{}}}return""}var vn=Object.prototype.hasOwnProperty,na={},ra=m.ReactDebugCurrentFrame;function Kn(h){if(h){var P=h._owner,R=bt(h.type,h._source,P?P.type:null);ra.setExtraStackFrame(R)}else ra.setExtraStackFrame(null)}function w0(h,P,R,M,V){{var Z=Function.call.bind(vn);for(var H in h)if(Z(h,H)){var U=void 0;try{if(typeof h[H]!="function"){var de=Error((M||"React class")+": "+R+" type `"+H+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof h[H]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw de.name="Invariant Violation",de}U=h[H](P,H,M,R,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(X){U=X}U&&!(U instanceof Error)&&(Kn(V),w("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",M||"React class",R,H,typeof U),Kn(null)),U instanceof Error&&!(U.message in na)&&(na[U.message]=!0,Kn(V),w("Failed %s type: %s",R,U.message),Kn(null))}}}var v0=Array.isArray;function ms(h){return v0(h)}function x0(h){{var P=typeof Symbol=="function"&&Symbol.toStringTag,R=P&&h[Symbol.toStringTag]||h.constructor.name||"Object";return R}}function E0(h){try{return sa(h),!1}catch{return!0}}function sa(h){return""+h}function oa(h){if(E0(h))return w("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",x0(h)),sa(h)}var xn=m.ReactCurrentOwner,P0={key:!0,ref:!0,__self:!0,__source:!0},ia,aa,gs;gs={};function A0(h){if(vn.call(h,"ref")){var P=Object.getOwnPropertyDescriptor(h,"ref").get;if(P&&P.isReactWarning)return!1}return h.ref!==void 0}function B0(h){if(vn.call(h,"key")){var P=Object.getOwnPropertyDescriptor(h,"key").get;if(P&&P.isReactWarning)return!1}return h.key!==void 0}function I0(h,P){if(typeof h.ref=="string"&&xn.current&&P&&xn.current.stateNode!==P){var R=D(xn.current.type);gs[R]||(w('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',D(xn.current.type),h.ref),gs[R]=!0)}}function T0(h,P){{var R=function(){ia||(ia=!0,w("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",P))};R.isReactWarning=!0,Object.defineProperty(h,"key",{get:R,configurable:!0})}}function $0(h,P){{var R=function(){aa||(aa=!0,w("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",P))};R.isReactWarning=!0,Object.defineProperty(h,"ref",{get:R,configurable:!0})}}var S0=function(h,P,R,M,V,Z,H){var U={$$typeof:t,type:h,key:P,ref:R,props:H,_owner:Z};return U._store={},Object.defineProperty(U._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(U,"_self",{configurable:!1,enumerable:!1,writable:!1,value:M}),Object.defineProperty(U,"_source",{configurable:!1,enumerable:!1,writable:!1,value:V}),Object.freeze&&(Object.freeze(U.props),Object.freeze(U)),U};function C0(h,P,R,M,V){{var Z,H={},U=null,de=null;R!==void 0&&(oa(R),U=""+R),B0(P)&&(oa(P.key),U=""+P.key),A0(P)&&(de=P.ref,I0(P,V));for(Z in P)vn.call(P,Z)&&!P0.hasOwnProperty(Z)&&(H[Z]=P[Z]);if(h&&h.defaultProps){var X=h.defaultProps;for(Z in X)H[Z]===void 0&&(H[Z]=X[Z])}if(U||de){var ee=typeof h=="function"?h.displayName||h.name||"Unknown":h;U&&T0(H,ee),de&&$0(H,ee)}return S0(h,U,de,V,M,xn.current,H)}}var ws=m.ReactCurrentOwner,ca=m.ReactDebugCurrentFrame;function Ot(h){if(h){var P=h._owner,R=bt(h.type,h._source,P?P.type:null);ca.setExtraStackFrame(R)}else ca.setExtraStackFrame(null)}var vs;vs=!1;function xs(h){return typeof h=="object"&&h!==null&&h.$$typeof===t}function ua(){{if(ws.current){var h=D(ws.current.type);if(h)return`

Check the render method of \``+h+"`."}return""}}function k0(h){{if(h!==void 0){var P=h.fileName.replace(/^.*[\\\/]/,""),R=h.lineNumber;return`

Check your code at `+P+":"+R+"."}return""}}var fa={};function R0(h){{var P=ua();if(!P){var R=typeof h=="string"?h:h.displayName||h.name;R&&(P=`

Check the top-level render call using <`+R+">.")}return P}}function da(h,P){{if(!h._store||h._store.validated||h.key!=null)return;h._store.validated=!0;var R=R0(P);if(fa[R])return;fa[R]=!0;var M="";h&&h._owner&&h._owner!==ws.current&&(M=" It was passed a child from "+D(h._owner.type)+"."),Ot(h),w('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',R,M),Ot(null)}}function la(h,P){{if(typeof h!="object")return;if(ms(h))for(var R=0;R<h.length;R++){var M=h[R];xs(M)&&da(M,P)}else if(xs(h))h._store&&(h._store.validated=!0);else if(h){var V=p(h);if(typeof V=="function"&&V!==h.entries)for(var Z=V.call(h),H;!(H=Z.next()).done;)xs(H.value)&&da(H.value,P)}}}function O0(h){{var P=h.type;if(P==null||typeof P=="string")return;var R;if(typeof P=="function")R=P.propTypes;else if(typeof P=="object"&&(P.$$typeof===c||P.$$typeof===d))R=P.propTypes;else return;if(R){var M=D(P);w0(R,h.props,"prop",M,h)}else if(P.PropTypes!==void 0&&!vs){vs=!0;var V=D(P);w("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",V||"Unknown")}typeof P.getDefaultProps=="function"&&!P.getDefaultProps.isReactClassApproved&&w("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function F0(h){{for(var P=Object.keys(h.props),R=0;R<P.length;R++){var M=P[R];if(M!=="children"&&M!=="key"){Ot(h),w("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",M),Ot(null);break}}h.ref!==null&&(Ot(h),w("Invalid attribute `ref` supplied to `React.Fragment`."),Ot(null))}}var ha={};function pa(h,P,R,M,V,Z){{var H=G(h);if(!H){var U="";(h===void 0||typeof h=="object"&&h!==null&&Object.keys(h).length===0)&&(U+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var de=k0(V);de?U+=de:U+=ua();var X;h===null?X="null":ms(h)?X="array":h!==void 0&&h.$$typeof===t?(X="<"+(D(h.type)||"Unknown")+" />",U=" Did you accidentally export a JSX literal instead of a component?"):X=typeof h,w("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",X,U)}var ee=C0(h,P,R,V,Z);if(ee==null)return ee;if(H){var Pe=P.children;if(Pe!==void 0)if(M)if(ms(Pe)){for(var Ft=0;Ft<Pe.length;Ft++)la(Pe[Ft],h);Object.freeze&&Object.freeze(Pe)}else w("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else la(Pe,h)}if(vn.call(P,"key")){var yt=D(h),ye=Object.keys(P).filter(function(L0){return L0!=="key"}),Es=ye.length>0?"{key: someKey, "+ye.join(": ..., ")+": ...}":"{key: someKey}";if(!ha[yt+Es]){var j0=ye.length>0?"{"+ye.join(": ..., ")+": ...}":"{}";w(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Es,yt,j0,yt),ha[yt+Es]=!0}}return h===r?F0(ee):O0(ee),ee}}function N0(h,P,R){return pa(h,P,R,!0)}function _0(h,P,R){return pa(h,P,R,!1)}var M0=_0,z0=N0;_t.Fragment=r,_t.jsx=M0,_t.jsxs=z0}()),_t}process.env.NODE_ENV==="production"?Jn.exports=ba():Jn.exports=ya();var Ae=Jn.exports;const ma="1.0.6";let xe=class Ps extends Error{constructor(t,n={}){var i;const r=n.cause instanceof Ps?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof Ps&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${ma}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function qe(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const Is=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ts=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,$s=/^\(.+?\).*?$/,Ss=/^tuple(?<array>(\[(\d*)\])*)$/;function Xn(e){let t=e.type;if(Ss.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=Xn(o),s<n-1&&(t+=", ")}const r=qe(Ss,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,Xn({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Mt(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Xn(s),r!==n-1&&(t+=", ")}return t}function ga(e){return e.type==="function"?`function ${e.name}(${Mt(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${Mt(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Mt(e.inputs)})`:e.type==="error"?`error ${e.name}(${Mt(e.inputs)})`:e.type==="constructor"?`constructor(${Mt(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback()":"receive() external payable"}const Cs=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function wa(e){return Cs.test(e)}function va(e){return qe(Cs,e)}const ks=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function xa(e){return ks.test(e)}function Ea(e){return qe(ks,e)}const Rs=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Pa(e){return Rs.test(e)}function Aa(e){return qe(Rs,e)}const Os=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Fs(e){return Os.test(e)}function Ba(e){return qe(Os,e)}const Ns=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Ia(e){return Ns.test(e)}function Ta(e){return qe(Ns,e)}const $a=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Sa(e){return $a.test(e)}const Ca=/^receive\(\) external payable$/;function ka(e){return Ca.test(e)}const Ra=new Set(["indexed"]),Qn=new Set(["calldata","memory","storage"]);class Oa extends xe{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Fa extends xe{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Na extends xe{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class _a extends xe{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Ma extends xe{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class za extends xe{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class ja extends xe{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class zt extends xe{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class La extends xe{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Da extends xe{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Ua extends xe{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Ga extends xe{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Ha(e,t){return t?`${t}:${e}`:e}const er=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function qa(e,t={}){if(Pa(e)){const n=Aa(e);if(!n)throw new zt({signature:e,type:"function"});const r=Be(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(st(r[a],{modifiers:Qn,structs:t,type:"function"}));const i=[];if(n.returns){const a=Be(n.returns),c=a.length;for(let u=0;u<c;u++)i.push(st(a[u],{modifiers:Qn,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}if(xa(e)){const n=Ea(e);if(!n)throw new zt({signature:e,type:"event"});const r=Be(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(st(r[i],{modifiers:Ra,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}if(wa(e)){const n=va(e);if(!n)throw new zt({signature:e,type:"error"});const r=Be(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(st(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}if(Ia(e)){const n=Ta(e);if(!n)throw new zt({signature:e,type:"constructor"});const r=Be(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(st(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}if(Sa(e))return{type:"fallback"};if(ka(e))return{type:"receive",stateMutability:"payable"};throw new La({signature:e})}const Va=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Za=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Wa=/^u?int$/;function st(e,t){var d,l;const n=Ha(e,t==null?void 0:t.type);if(er.has(n))return er.get(n);const r=$s.test(e),s=qe(r?Za:Va,e);if(!s)throw new Na({param:e});if(s.name&&Ka(s.name))throw new _a({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},a=(t==null?void 0:t.structs)??{};let c,u={};if(r){c="tuple";const b=Be(s.type),g=[],y=b.length;for(let p=0;p<y;p++)g.push(st(b[p],{structs:a}));u={components:g}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(Wa.test(s.type))c=`${s.type}256`;else if(c=s.type,(t==null?void 0:t.type)!=="struct"&&!_s(c))throw new Fa({type:c});if(s.modifier){if(!((l=(d=t==null?void 0:t.modifiers)==null?void 0:d.has)!=null&&l.call(d,s.modifier)))throw new Ma({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(Qn.has(s.modifier)&&!Ja(c,!!s.array))throw new za({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...o,...i,...u};return er.set(n,f),f}function Be(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],a=e.slice(o+1);switch(i){case",":return r===0?Be(a,[...t,n.trim()]):Be(a,t,`${n}${i}`,r);case"(":return Be(a,t,`${n}${i}`,r+1);case")":return Be(a,t,`${n}${i}`,r-1);default:return Be(a,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new Ga({current:n,depth:r});return t.push(n.trim()),t}function _s(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Is.test(e)||Ts.test(e)}const Ya=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Ka(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Is.test(e)||Ts.test(e)||Ya.test(e)}function Ja(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Xa(e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];if(!Fs(a))continue;const c=Ba(a);if(!c)throw new zt({signature:a,type:"struct"});const u=c.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const g=u[l].trim();if(!g)continue;const y=st(g,{type:"struct"});f.push(y)}if(!f.length)throw new Da({signature:a});t[c.name]=f}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[a,c]=s[i];r[a]=Ms(c,t)}return r}const Qa=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Ms(e,t,n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if($s.test(i.type))r.push(i);else{const c=qe(Qa,i.type);if(!(c!=null&&c.type))throw new ja({abiParameter:i});const{array:u,type:f}=c;if(f in t){if(n.has(f))throw new Ua({type:f});r.push({...i,type:`tuple${u??""}`,components:Ms(t[f]??[],t,new Set([...n,f]))})}else if(_s(f))r.push(i);else throw new Oa({type:f})}}return r}function zs(e){const t=Xa(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];Fs(o)||n.push(qa(o,t))}return n}function z(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}function Me(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new lc(e.type);return`${e.name}(${En(e.inputs,{includeName:t})})`}function En(e,{includeName:t=!1}={}){return e?e.map(n=>ec(n,{includeName:t})).join(t?", ":","):""}function ec(e,{includeName:t}){return e.type.startsWith("tuple")?`(${En(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function Ie(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function Y(e){return Ie(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const js="2.21.28";let Pn={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:js};class x extends Error{constructor(t,n={}){var a;const r=(()=>{var c;return n.cause instanceof x?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=(()=>n.cause instanceof x&&n.cause.docsPath||n.docsPath)(),o=(a=Pn.getDocsUrl)==null?void 0:a.call(Pn,{...n,docsPath:s}),i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],`Version: ${Pn.version}`].join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=js}walk(t){return Ls(this,t)}}function Ls(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e?Ls(e.cause,t):t?null:e}class tc extends x{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class Ds extends x{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class Us extends x{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${En(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class An extends x{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class nc extends x{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class rc extends x{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Y(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class sc extends x{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class Gs extends x{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class oc extends x{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class Hs extends x{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class qs extends x{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class Bn extends x{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class ic extends x{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class ac extends x{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Me(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Me(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class cc extends x{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class jt extends x{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${En(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class In extends x{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Me(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class uc extends x{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class fc extends x{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class dc extends x{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class lc extends x{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class hc extends x{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}class Vs extends x{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}class Zs extends x{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}class Ws extends x{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function mt(e,{dir:t,size:n=32}={}){return typeof e=="string"?Ve(e,{dir:t,size:n}):pc(e,{dir:t,size:n})}function Ve(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new Zs({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function pc(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new Zs({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const o=t==="right";r[o?s:n-s-1]=e[o?s:e.length-s-1]}return r}class bc extends x{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class yc extends x{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class mc extends x{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}class gc extends x{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}function Te(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function $e(e,{size:t}){if(Y(e)>t)throw new gc({givenSize:Y(e),maxSize:t})}function me(e,t={}){const{signed:n}=t;t.size&&$e(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function wc(e,t={}){let n=e;if(t.size&&($e(n,{size:t.size}),n=Te(n)),Te(n)==="0x00")return!1;if(Te(n)==="0x01")return!0;throw new mc(n)}function Re(e,t={}){return Number(me(e,t))}const vc=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function _(e,t={}){return typeof e=="number"||typeof e=="bigint"?j(e,t):typeof e=="string"?Lt(e,t):typeof e=="boolean"?Ys(e,t):Q(e,t)}function Ys(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?($e(n,{size:t.size}),mt(n,{size:t.size})):n}function Q(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=vc[e[s]];const r=`0x${n}`;return typeof t.size=="number"?($e(r,{size:t.size}),mt(r,{dir:"right",size:t.size})):r}function j(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const c=typeof e=="bigint"?"n":"";throw new bc({max:o?`${o}${c}`:void 0,min:`${i}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?mt(a,{size:r}):a}const xc=new TextEncoder;function Lt(e,t={}){const n=xc.encode(e);return Q(n,t)}const Ec=new TextEncoder;function gt(e,t={}){return typeof e=="number"||typeof e=="bigint"?Ac(e,t):typeof e=="boolean"?Pc(e,t):Ie(e)?Se(e,t):ot(e,t)}function Pc(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?($e(n,{size:t.size}),mt(n,{size:t.size})):n}const ze={zero:48,nine:57,A:65,F:70,a:97,f:102};function Ks(e){if(e>=ze.zero&&e<=ze.nine)return e-ze.zero;if(e>=ze.A&&e<=ze.F)return e-(ze.A-10);if(e>=ze.a&&e<=ze.f)return e-(ze.a-10)}function Se(e,t={}){let n=e;t.size&&($e(n,{size:t.size}),n=mt(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,o=new Uint8Array(s);for(let i=0,a=0;i<s;i++){const c=Ks(r.charCodeAt(a++)),u=Ks(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new x(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[i]=c*16+u}return o}function Ac(e,t){const n=j(e,t);return Se(n)}function ot(e,t={}){const n=Ec.encode(e);return typeof t.size=="number"?($e(n,{size:t.size}),mt(n,{dir:"right",size:t.size})):n}function Tn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function Bc(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Dt(e,...t){if(!Bc(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function Ic(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Tn(e.outputLen),Tn(e.blockLen)}function wt(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Js(e,t){Dt(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const $n=BigInt(2**32-1),Xs=BigInt(32);function Tc(e,t=!1){return t?{h:Number(e&$n),l:Number(e>>Xs&$n)}:{h:Number(e>>Xs&$n)|0,l:Number(e&$n)|0}}function $c(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:o,l:i}=Tc(e[s],t);[n[s],r[s]]=[o,i]}return[n,r]}const Sc=(e,t,n)=>e<<n|t>>>32-n,Cc=(e,t,n)=>t<<n|e>>>32-n,kc=(e,t,n)=>t<<n-32|e>>>64-n,Rc=(e,t,n)=>e<<n-32|t>>>64-n,vt=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Oc=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),tr=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Oe=(e,t)=>e<<32-t|e>>>t,Qs=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,Fc=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function eo(e){for(let t=0;t<e.length;t++)e[t]=Fc(e[t])}function Nc(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Sn(e){return typeof e=="string"&&(e=Nc(e)),Dt(e),e}function _c(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Dt(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}class nr{clone(){return this._cloneInto()}}function to(e){const t=r=>e().update(Sn(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Mc(e=32){if(vt&&typeof vt.getRandomValues=="function")return vt.getRandomValues(new Uint8Array(e));if(vt&&typeof vt.randomBytes=="function")return vt.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}const no=[],ro=[],so=[],zc=BigInt(0),Ut=BigInt(1),jc=BigInt(2),Lc=BigInt(7),Dc=BigInt(256),Uc=BigInt(113);for(let e=0,t=Ut,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],no.push(2*(5*r+n)),ro.push((e+1)*(e+2)/2%64);let s=zc;for(let o=0;o<7;o++)t=(t<<Ut^(t>>Lc)*Uc)%Dc,t&jc&&(s^=Ut<<(Ut<<BigInt(o))-Ut);so.push(s)}const[Gc,Hc]=$c(so,!0),oo=(e,t,n)=>n>32?kc(e,t,n):Sc(e,t,n),io=(e,t,n)=>n>32?Rc(e,t,n):Cc(e,t,n);function qc(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,u=n[c],f=n[c+1],d=oo(u,f,1)^n[a],l=io(u,f,1)^n[a+1];for(let b=0;b<50;b+=10)e[i+b]^=d,e[i+b+1]^=l}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=ro[i],c=oo(s,o,a),u=io(s,o,a),f=no[i];s=e[f],o=e[f+1],e[f]=c,e[f+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=Gc[r],e[1]^=Hc[r]}n.fill(0)}class rr extends nr{constructor(t,n,r,s=!1,o=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Tn(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Oc(this.state)}keccak(){Qs||eo(this.state32),qc(this.state32,this.rounds),Qs||eo(this.state32),this.posOut=0,this.pos=0}update(t){wt(this);const{blockLen:n,state:r}=this;t=Sn(t);const s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){wt(this,!1),Dt(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Tn(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Js(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new rr(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const Vc=((e,t,n)=>to(()=>new rr(t,e,n)))(1,136,256/8);function ne(e,t){const n=t||"hex",r=Vc(Ie(e,{strict:!1})?gt(e):e);return n==="bytes"?r:_(r)}const Zc=e=>ne(gt(e));function Wc(e){return Zc(e)}function Yc(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new x("Unable to normalize signature.");return s}const Kc=e=>{const t=(()=>typeof e=="string"?e:ga(e))();return Yc(t)};function ao(e){return Wc(Kc(e))}const Cn=ao;class fe extends x{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class sr extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const or=new sr(8192);function kn(e,t){if(or.has(`${e}.${t}`))return or.get(`${e}.${t}`);const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=ne(ot(n),"bytes"),s=(t?n.substring(`${t}0x`.length):n).split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const o=`0x${s.join("")}`;return or.set(`${e}.${t}`,o),o}function Jc(e,t){if(!re(e,{strict:!1}))throw new fe({address:e});return kn(e,t)}const Xc=/^0x[a-fA-F0-9]{40}$/,ir=new sr(8192);function re(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(ir.has(r))return ir.get(r);const s=(()=>Xc.test(e)?e.toLowerCase()===e?!0:n?kn(e)===e:!0:!1)();return ir.set(r,s),s}function Fe(e){return typeof e[0]=="string"?Ne(e):Qc(e)}function Qc(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Ne(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Gt(e,t,n,{strict:r}={}){return Ie(e,{strict:!1})?lo(e,t,n,{strict:r}):fo(e,t,n,{strict:r})}function co(e,t){if(typeof t=="number"&&t>0&&t>Y(e)-1)throw new Vs({offset:t,position:"start",size:Y(e)})}function uo(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Y(e)!==n-t)throw new Vs({offset:n,position:"end",size:Y(e)})}function fo(e,t,n,{strict:r}={}){co(e,t);const s=e.slice(t,n);return r&&uo(s,t,n),s}function lo(e,t,n,{strict:r}={}){co(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&uo(s,t,n),s}function it(e,t){if(e.length!==t.length)throw new sc({expectedLength:e.length,givenLength:t.length});const n=eu({params:e,values:t}),r=cr(n);return r.length===0?"0x":r}function eu({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(ar({param:e[r],value:t[r]}));return n}function ar({param:e,value:t}){const n=ur(e.type);if(n){const[r,s]=n;return nu(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return au(t,{param:e});if(e.type==="address")return tu(t);if(e.type==="bool")return su(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int");return ou(t,{signed:r})}if(e.type.startsWith("bytes"))return ru(t,{param:e});if(e.type==="string")return iu(t);throw new uc(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function cr(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=Y(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(j(t+s,{size:32})),r.push(a),s+=Y(a)):n.push(a)}return Fe([...n,...r])}function tu(e){if(!re(e))throw new fe({address:e});return{dynamic:!1,encoded:Ve(e.toLowerCase())}}function nu(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new dc(e);if(!r&&e.length!==t)throw new nc({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let i=0;i<e.length;i++){const a=ar({param:n,value:e[i]});a.dynamic&&(s=!0),o.push(a)}if(r||s){const i=cr(o);if(r){const a=j(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?Fe([a,i]):a}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:Fe(o.map(({encoded:i})=>i))}}function ru(e,{param:t}){const[,n]=t.type.split("bytes"),r=Y(e);if(!n){let s=e;return r%32!==0&&(s=Ve(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:Fe([Ve(j(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new rc({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:Ve(e,{dir:"right"})}}function su(e){if(typeof e!="boolean")throw new x(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ve(Ys(e))}}function ou(e,{signed:t}){return{dynamic:!1,encoded:j(e,{size:32,signed:t})}}function iu(e){const t=Lt(e),n=Math.ceil(Y(t)/32),r=[];for(let s=0;s<n;s++)r.push(Ve(Gt(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Fe([Ve(j(Y(t),{size:32})),...r])}}function au(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],i=Array.isArray(e)?s:o.name,a=ar({param:o,value:e[i]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?cr(r):Fe(r.map(({encoded:s})=>s))}}function ur(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const fr=e=>Gt(ao(e),0,4);function Ht(e){const{abi:t,args:n=[],name:r}=e,s=Ie(r,{strict:!1}),o=t.filter(a=>s?a.type==="function"?fr(a)===r:a.type==="event"?Cn(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let i;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,f)=>{const d="inputs"in a&&a.inputs[f];return d?dr(u,d):!1})){if(i&&"inputs"in i&&i.inputs){const u=ho(a.inputs,i.inputs,n);if(u)throw new ac({abiItem:a,type:u[0]},{abiItem:i,type:u[1]})}i=a}}return i||o[0]}function dr(e,t){const n=typeof e,r=t.type;switch(r){case"address":return re(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>dr(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>dr(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function ho(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return ho(s.components,o.components,n[r]);const i=[s.type,o.type];if((()=>i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?re(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?re(n[r],{strict:!1}):!1)())return i}}const po="/docs/contract/encodeEventTopics";function qt(e){var c;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=Ht({abi:t,name:n});if(!u)throw new qs(n,{docsPath:po});s=u}if(s.type!=="event")throw new qs(void 0,{docsPath:po});const o=Me(s),i=Cn(o);let a=[];if(r&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(d=>"indexed"in d&&d.indexed),f=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(d=>r[d.name]))??[]:[];f.length>0&&(a=(u==null?void 0:u.map((d,l)=>Array.isArray(f[l])?f[l].map((b,g)=>bo({param:d,value:f[l][g]})):f[l]?bo({param:d,value:f[l]}):null))??[])}return[i,...a]}function bo({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return ne(gt(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new hc(e.type);return it([e],[t])}function Rn(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:o,response:i,status:a,transport:c})=>{a==="success"&&t===o&&(n[i]=c.request)})),o=>n[o]||e.request}async function yo(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:a,toBlock:c}=t,u=Rn(e,{method:"eth_newFilter"}),f=o?qt({abi:r,args:s,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?j(i):i,toBlock:typeof c=="bigint"?j(c):c,topics:f}]});return{abi:r,args:s,eventName:o,id:d,request:u(d),strict:!!a,type:"event"}}function Ze(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const mo="/docs/contract/encodeFunctionData";function cu(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=Ht({abi:t,args:n,name:r});if(!o)throw new Bn(r,{docsPath:mo});s=o}if(s.type!=="function")throw new Bn(void 0,{docsPath:mo});return{abi:[s],functionName:fr(Me(s))}}function We(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var a;return e.abi.length===1&&((a=e.functionName)!=null&&a.startsWith("0x"))?e:cu(e)})(),s=n[0],o=r,i="inputs"in s&&s.inputs?it(s.inputs,t??[]):void 0;return Ne([o,i??"0x"])}const go={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},uu={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},fu={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class wo extends x{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class vo extends x{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}}class du extends x{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}}const lu={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new du({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new vo({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new wo({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new wo({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function lr(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(lu);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function hu(e,t={}){typeof t.size<"u"&&$e(e,{size:t.size});const n=Q(e,t);return me(n,t)}function pu(e,t={}){let n=e;if(typeof t.size<"u"&&($e(n,{size:t.size}),n=Te(n)),n.length>1||n[0]>1)throw new yc(n);return!!n[0]}function je(e,t={}){typeof t.size<"u"&&$e(e,{size:t.size});const n=Q(e,t);return Re(n,t)}function bu(e,t={}){let n=e;return typeof t.size<"u"&&($e(n,{size:t.size}),n=Te(n,{dir:"right"})),new TextDecoder().decode(n)}function On(e,t){const n=typeof t=="string"?Se(t):t,r=lr(n);if(Y(n)===0&&e.length>0)throw new An;if(Y(t)&&Y(t)<32)throw new Us({data:typeof t=="string"?t:Q(t),params:e,size:Y(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const a=e[i];r.setPosition(s);const[c,u]=xt(r,a,{staticPosition:0});s+=u,o.push(c)}return o}function xt(e,t,{staticPosition:n}){const r=ur(t.type);if(r){const[s,o]=r;return mu(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return xu(e,t,{staticPosition:n});if(t.type==="address")return yu(e);if(t.type==="bool")return gu(e);if(t.type.startsWith("bytes"))return wu(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return vu(e,t);if(t.type==="string")return Eu(e,{staticPosition:n});throw new fc(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const xo=32,hr=32;function yu(e){const t=e.readBytes(32);return[kn(Q(fo(t,-20))),32]}function mu(e,t,{length:n,staticPosition:r}){if(!n){const i=je(e.readBytes(hr)),a=r+i,c=a+xo;e.setPosition(a);const u=je(e.readBytes(xo)),f=Vt(t);let d=0;const l=[];for(let b=0;b<u;++b){e.setPosition(c+(f?b*32:d));const[g,y]=xt(e,t,{staticPosition:c});d+=y,l.push(g)}return e.setPosition(r+32),[l,32]}if(Vt(t)){const i=je(e.readBytes(hr)),a=r+i,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[f]=xt(e,t,{staticPosition:a});c.push(f)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[a,c]=xt(e,t,{staticPosition:r+s});s+=c,o.push(a)}return[o,s]}function gu(e){return[pu(e.readBytes(32),{size:32}),32]}function wu(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=je(e.readBytes(32));e.setPosition(n+i);const a=je(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[Q(c),32]}return[Q(e.readBytes(Number.parseInt(s),32)),32]}function vu(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256"),s=e.readBytes(32);return[r>48?hu(s,{signed:n}):je(s,{signed:n}),32]}function xu(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if(Vt(t)){const i=je(e.readBytes(hr)),a=n+i;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+o);const[f,d]=xt(e,u,{staticPosition:a});o+=d,s[r?c:u==null?void 0:u.name]=f}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const a=t.components[i],[c,u]=xt(e,a,{staticPosition:n});s[r?i:a==null?void 0:a.name]=c,o+=u}return[s,o]}function Eu(e,{staticPosition:t}){const n=je(e.readBytes(32)),r=t+n;e.setPosition(r);const s=je(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=bu(Te(o));return e.setPosition(t+32),[i,32]}function Vt(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Vt);const n=ur(e.type);return!!(n&&Vt({...e,type:n[1]}))}function Eo(e){const{abi:t,data:n}=e,r=Gt(n,0,4);if(r==="0x")throw new An;const o=[...t||[],uu,fu].find(i=>i.type==="error"&&r===fr(Me(i)));if(!o)throw new Gs(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?On(o.inputs,Gt(n,4)):void 0,errorName:o.name}}const se=(e,t,n)=>JSON.stringify(e,(r,s)=>{const o=typeof s=="bigint"?s.toString():s;return typeof t=="function"?t(r,o):o},n);function Po({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?se(t[o]):t[o]}`).join(", ")})`}const Pu={gwei:9,wei:18},Au={ether:-9,wei:9};function Ao(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,o]=[n.slice(0,n.length-t),n.slice(n.length-t)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${o?`.${o}`:""}`}function Bo(e,t="wei"){return Ao(e,Pu[t])}function Ce(e,t="wei"){return Ao(e,Au[t])}class Bu extends x{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Iu extends x{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Io(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function Tu(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=Io(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=Io(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Fn(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class $u extends x{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class Su extends x{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class Cu extends x{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Fn(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class ku extends x{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class To extends x{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class $o extends x{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class Ru extends x{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Ou=e=>e,Zt=e=>e;class So extends x{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l,stateOverride:b}){var p;const g=n?Ze(n):void 0;let y=Fn({from:g==null?void 0:g.address,to:d,value:typeof l<"u"&&`${Bo(l)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${Ce(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ce(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Ce(u)} gwei`,nonce:f});b&&(y+=`
${Tu(b)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",y].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Fu extends x{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:a}){const c=Ht({abi:n,args:r,name:i}),u=c?Po({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?Me(c,{includeName:!0}):void 0,d=Fn({address:s&&Ou(s),function:f,args:u&&u!=="()"&&`${[...Array((i==null?void 0:i.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=a}}class pr extends x{constructor({abi:t,data:n,functionName:r,message:s}){let o,i,a,c;if(n&&n!=="0x")try{i=Eo({abi:t,data:n});const{abiItem:f,errorName:d,args:l}=i;if(d==="Error")c=l[0];else if(d==="Panic"){const[b]=l;c=go[b]}else{const b=f?Me(f,{includeName:!0}):void 0,g=f&&l?Po({abiItem:f,args:l,includeFunctionName:!1,includeName:!1}):void 0;a=[b?`Error: ${b}`:"",g&&g!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${g}`:""]}}catch(f){o=f}else s&&(c=s);let u;o instanceof Gs&&(u=o.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.reason=c,this.signature=u}}class Nu extends x{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class _u extends x{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class br extends x{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class at extends x{constructor({body:t,cause:n,details:r,headers:s,status:o,url:i}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${Zt(i)}`,t&&`Request body: ${se(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=o,this.url=i}}class Co extends x{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Zt(r)}`,`Request body: ${se(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code}}class ko extends x{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Zt(n)}`,`Request body: ${se(t)}`],name:"TimeoutError"})}}const Mu=-1;class le extends x{constructor(t,{code:n,docsPath:r,metaMessages:s,name:o,shortMessage:i}){super(i,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages),name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||t.name,this.code=t instanceof Co?t.code:n??Mu}}class Et extends le{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Wt extends le{constructor(t){super(t,{code:Wt.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Wt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Yt extends le{constructor(t){super(t,{code:Yt.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Yt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Kt extends le{constructor(t,{method:n}={}){super(t,{code:Kt.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Kt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Jt extends le{constructor(t){super(t,{code:Jt.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Jt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class ct extends le{constructor(t){super(t,{code:ct.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(ct,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class ut extends le{constructor(t){super(t,{code:ut.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(ut,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Xt extends le{constructor(t){super(t,{code:Xt.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Xt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Qt extends le{constructor(t){super(t,{code:Qt.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Qt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class en extends le{constructor(t){super(t,{code:en.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(en,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class tn extends le{constructor(t,{method:n}={}){super(t,{code:tn.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not implemented.`})}}Object.defineProperty(tn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Pt extends le{constructor(t){super(t,{code:Pt.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Pt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class nn extends le{constructor(t){super(t,{code:nn.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(nn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class At extends Et{constructor(t){super(t,{code:At.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(At,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class rn extends Et{constructor(t){super(t,{code:rn.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(rn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class sn extends Et{constructor(t,{method:n}={}){super(t,{code:sn.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(sn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class on extends Et{constructor(t){super(t,{code:on.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(on,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class an extends Et{constructor(t){super(t,{code:an.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(an,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class cn extends Et{constructor(t){super(t,{code:cn.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(cn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class zu extends le{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const ju=3;function un(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const{code:a,data:c,message:u,shortMessage:f}=e instanceof br?e:e instanceof x?e.walk(l=>"data"in l)||e.walk():{},d=(()=>e instanceof An?new Nu({functionName:o}):[ju,ct.code].includes(a)&&(c||u||f)?new pr({abi:t,data:typeof c=="object"?c.data:c,functionName:o,message:f??u}):e)();return new Fu(d,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}function Lu(e){const t=ne(`0x${e.substring(4)}`).substring(26);return kn(`0x${t}`)}async function Du({hash:e,signature:t}){const n=Ie(e)?e:_(e),{secp256k1:r}=await Promise.resolve().then(()=>jl);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,b=Number(l??d),g=Ro(b);return new r.Signature(me(u),me(f)).addRecoveryBit(g)}const i=Ie(t)?t:_(t),a=Re(`0x${i.slice(130)}`),c=Ro(a);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Ro(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Oo({hash:e,signature:t}){return Lu(await Du({hash:e,signature:t}))}function Ye(e,t="hex"){const n=Fo(e),r=lr(new Uint8Array(n.length));return n.encode(r),t==="hex"?Q(r.bytes):r.bytes}function Fo(e){return Array.isArray(e)?Uu(e.map(t=>Fo(t))):Gu(e)}function Uu(e){const t=e.reduce((s,o)=>s+o.length,0),n=No(t);return{length:(()=>t<=55?1+t:1+n+t)(),encode(s){t<=55?s.pushByte(192+t):(s.pushByte(192+55+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function Gu(e){const t=typeof e=="string"?Se(e):e,n=No(t.length);return{length:(()=>t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length)(),encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(128+55+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function No(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new x("Length is too large.")}function Hu(e){const{chainId:t,contractAddress:n,nonce:r,to:s}=e,o=ne(Ne(["0x05",Ye([j(t),n,r?j(r):"0x"])]));return s==="bytes"?Se(o):o}async function qu(e){const{authorization:t,signature:n}=e;return Oo({hash:Hu(t),signature:n??t})}class Vu extends x{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){var g;const b=Fn({from:n==null?void 0:n.address,to:d,value:typeof l<"u"&&`${Bo(l)} ${((g=s==null?void 0:s.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${Ce(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ce(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Ce(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",b].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Bt extends x{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(Bt,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(Bt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class ft extends x{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ce(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(ft,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class yr extends x{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ce(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(yr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class mr extends x{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(mr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class gr extends x{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(gr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class wr extends x{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(wr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class vr extends x{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(vr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class xr extends x{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(xr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Er extends x{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Er,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Pr extends x{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Pr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class fn extends x{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Ce(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Ce(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(fn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Ar extends x{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function _o(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof x?e.walk(s=>(s==null?void 0:s.code)===Bt.code):e;return r instanceof x?new Bt({cause:e,message:r.details}):Bt.nodeMessage.test(n)?new Bt({cause:e,message:e.details}):ft.nodeMessage.test(n)?new ft({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):yr.nodeMessage.test(n)?new yr({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):mr.nodeMessage.test(n)?new mr({cause:e,nonce:t==null?void 0:t.nonce}):gr.nodeMessage.test(n)?new gr({cause:e,nonce:t==null?void 0:t.nonce}):wr.nodeMessage.test(n)?new wr({cause:e,nonce:t==null?void 0:t.nonce}):vr.nodeMessage.test(n)?new vr({cause:e}):xr.nodeMessage.test(n)?new xr({cause:e,gas:t==null?void 0:t.gas}):Er.nodeMessage.test(n)?new Er({cause:e,gas:t==null?void 0:t.gas}):Pr.nodeMessage.test(n)?new Pr({cause:e}):fn.nodeMessage.test(n)?new fn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Ar({cause:e})}function Zu(e,{docsPath:t,...n}){const r=(()=>{const s=_o(e,n);return s instanceof Ar?e:s})();return new Vu(r,{docsPath:t,...n})}function Mo(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const a of i)a in e&&(n[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const s=t(e||{});return r(s),n}function Br(e,t){return({exclude:n,format:r})=>({exclude:n,format:s=>{const o=t(s);if(n)for(const i of n)delete o[i];return{...o,...r(s)}},type:e})}const Wu={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function zo(e){const t={};return typeof e.authorizationList<"u"&&(t.authorizationList=Yu(e.authorizationList)),typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>Q(n)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=j(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=j(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=j(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=j(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=j(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=j(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=Wu[e.type]),typeof e.value<"u"&&(t.value=j(e.value)),t}function Yu(e){return e.map(t=>({address:t.contractAddress,r:t.r,s:t.s,chainId:j(t.chainId),nonce:j(t.nonce),...typeof t.yParity<"u"?{yParity:j(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:j(t.v)}:{}}))}function jo(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Ws({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Ws({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function Ku(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=j(t)),n!==void 0&&(i.nonce=j(n)),r!==void 0&&(i.state=jo(r)),s!==void 0){if(i.state)throw new Iu;i.stateDiff=jo(s)}return i}function Lo(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!re(n,{strict:!1}))throw new fe({address:n});if(t[n])throw new Bu({address:n});t[n]=Ku(r)}return t}const Nn=2n**256n-1n;function Ir(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:o}=e,i=t?Ze(t):void 0;if(i&&!re(i.address))throw new fe({address:i.address});if(o&&!re(o))throw new fe({address:o});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new $u;if(r&&r>Nn)throw new ft({maxFeePerGas:r});if(s&&r&&s>r)throw new fn({maxFeePerGas:r,maxPriorityFeePerGas:s})}class Ju extends x{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Tr extends x{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Xu extends x{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Ce(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Do extends x{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const Uo={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function _n(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Re(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Re(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Uo[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=ef(e.authorizationList)),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}const Qu=Br("transaction",_n);function ef(e){return e.map(t=>({contractAddress:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function $r(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>typeof r=="string"?r:_n(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const tf=Br("block",$r);async function Le(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:s}={}){var f,d,l;const o=r??"latest",i=s??!1,a=n!==void 0?j(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,i]},{dedupe:!0}):c=await e.request({method:"eth_getBlockByNumber",params:[a||o,i]},{dedupe:!!a}),!c)throw new Do({blockHash:t,blockNumber:n});return(((l=(d=(f=e.chain)==null?void 0:f.formatters)==null?void 0:d.block)==null?void 0:l.format)||$r)(c)}async function Sr(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function nf(e,t){return Go(e,t)}async function Go(e,t){var o,i;const{block:n,chain:r=e.chain,request:s}=t||{};try{const a=((o=r==null?void 0:r.fees)==null?void 0:o.maxPriorityFeePerGas)??((i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee);if(typeof a=="function"){const u=n||await z(e,Le,"getBlock")({}),f=await a({block:u,client:e,request:s});if(f===null)throw new Error;return f}if(typeof a<"u")return a;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return me(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):z(e,Le,"getBlock")({}),z(e,Sr,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new Tr;const u=c-a.baseFeePerGas;return u<0n?0n:u}}async function rf(e,t){return Cr(e,t)}async function Cr(e,t){var l,b;const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>{var g,y;return typeof((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((y=r==null?void 0:r.fees)==null?void 0:y.baseFeeMultiplier)??1.2})();if(i<1)throw new Ju;const c=10**(((l=i.toString().split(".")[1])==null?void 0:l.length)??0),u=g=>g*BigInt(Math.ceil(i*c))/BigInt(c),f=n||await z(e,Le,"getBlock")({});if(typeof((b=r==null?void 0:r.fees)==null?void 0:b.estimateFeesPerGas)=="function"){const g=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(g!==null)return g}if(o==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new Tr;const g=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await Go(e,{block:f,chain:r,request:s}),y=u(f.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??y+g,maxPriorityFeePerGas:g}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await z(e,Sr,"getGasPrice")({}))}}async function Ho(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,r?j(r):n]},{dedupe:!!r});return Re(s)}function kr(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>Se(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>Q(o))}function Rr(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>Se(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>Se(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const a=r[i],c=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?o:o.map(i=>Q(i))}function sf(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+u,a,r)}const of=(e,t,n)=>e&t^~e&n,af=(e,t,n)=>e&t^e&n^t&n;class cf extends nr{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=tr(this.buffer)}update(t){wt(this);const{view:n,buffer:r,blockLen:s}=this;t=Sn(t);const o=t.length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a===s){const c=tr(t);for(;s<=o-i;i+=s)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){wt(this),Js(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>s-i&&(this.process(r,0),i=0);for(let d=i;d<s;d++)n[d]=0;sf(r,s-8,BigInt(this.length*8),o),this.process(r,0);const a=tr(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,f[d],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:a}=this;return t.length=s,t.pos=a,t.finished=o,t.destroyed=i,s%n&&t.buffer.set(r),t}}const uf=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ke=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Je=new Uint32Array(64);class ff extends cf{constructor(){super(64,32,8,!1),this.A=Ke[0]|0,this.B=Ke[1]|0,this.C=Ke[2]|0,this.D=Ke[3]|0,this.E=Ke[4]|0,this.F=Ke[5]|0,this.G=Ke[6]|0,this.H=Ke[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:a,H:c}=this;return[t,n,r,s,o,i,a,c]}set(t,n,r,s,o,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)Je[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const l=Je[d-15],b=Je[d-2],g=Oe(l,7)^Oe(l,18)^l>>>3,y=Oe(b,17)^Oe(b,19)^b>>>10;Je[d]=y+Je[d-7]+g+Je[d-16]|0}let{A:r,B:s,C:o,D:i,E:a,F:c,G:u,H:f}=this;for(let d=0;d<64;d++){const l=Oe(a,6)^Oe(a,11)^Oe(a,25),b=f+l+of(a,c,u)+uf[d]+Je[d]|0,y=(Oe(r,2)^Oe(r,13)^Oe(r,22))+af(r,s,o)|0;f=u,u=c,c=a,a=i+b|0,i=o,o=s,s=r,r=b+y|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,o,i,a,c,u,f)}roundClean(){Je.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const qo=to(()=>new ff);function df(e,t){const n=t||"hex",r=qo(Ie(e,{strict:!1})?gt(e):e);return n==="bytes"?r:_(r)}function lf(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=df(t,"bytes");return s.set([n],0),r==="bytes"?s:Q(s)}function Vo(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const o of t)s.push(lf({commitment:o,to:r,version:n}));return s}const Zo=6,Wo=32,Or=4096,Yo=Wo*Or,Ko=Yo*Zo-1-1*Or*Zo,Jo=1;class hf extends x{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Xo extends x{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class pf extends x{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class bf extends x{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${Jo}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function yf(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?Se(e.data):e.data,r=Y(n);if(!r)throw new Xo;if(r>Ko)throw new hf({maxSize:Ko,size:r});const s=[];let o=!0,i=0;for(;o;){const a=lr(new Uint8Array(Yo));let c=0;for(;c<Or;){const u=n.slice(i,i+(Wo-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),o=!1;break}c++,i+=31}s.push(a)}return t==="bytes"?s.map(a=>a.bytes):s.map(a=>Q(a.bytes))}function Qo(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??yf({data:t,to:r}),o=e.commitments??kr({blobs:s,kzg:n,to:r}),i=e.proofs??Rr({blobs:s,commitments:o,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:o[c],proof:i[c]});return a}function ei(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Cu({transaction:e})}async function ti(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Re(t)}const mf=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function ni(e,t){const{account:n=e.account,blobs:r,chain:s,gas:o,kzg:i,nonce:a,nonceManager:c,parameters:u=mf,type:f}=t,d=n?Ze(n):void 0,l={...t,...d?{from:d==null?void 0:d.address}:{}};let b;async function g(){return b||(b=await z(e,Le,"getBlock")({blockTag:"latest"}),b)}let y;async function p(){return y||(s?s.id:typeof t.chainId<"u"?t.chainId:(y=await z(e,ti,"getChainId")({}),y))}if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&i){const m=kr({blobs:r,kzg:i});if(u.includes("blobVersionedHashes")){const w=Vo({commitments:m,to:"hex"});l.blobVersionedHashes=w}if(u.includes("sidecars")){const w=Rr({blobs:r,commitments:m,kzg:i}),v=Qo({blobs:r,commitments:m,proofs:w,to:"hex"});l.sidecars=v}}if(u.includes("chainId")&&(l.chainId=await p()),u.includes("nonce")&&typeof a>"u"&&d)if(c){const m=await p();l.nonce=await c.consume({address:d.address,chainId:m,client:e})}else l.nonce=await z(e,Ho,"getTransactionCount")({address:d.address,blockTag:"pending"});if((u.includes("fees")||u.includes("type"))&&typeof f>"u")try{l.type=ei(l)}catch{const m=await g();l.type=typeof(m==null?void 0:m.baseFeePerGas)=="bigint"?"eip1559":"legacy"}if(u.includes("fees"))if(l.type!=="legacy"&&l.type!=="eip2930"){if(typeof l.maxFeePerGas>"u"||typeof l.maxPriorityFeePerGas>"u"){const m=await g(),{maxFeePerGas:w,maxPriorityFeePerGas:v}=await Cr(e,{block:m,chain:s,request:l});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<v)throw new Xu({maxPriorityFeePerGas:v});l.maxPriorityFeePerGas=v,l.maxFeePerGas=w}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Tr;const m=await g(),{gasPrice:w}=await Cr(e,{block:m,chain:s,request:l,type:"legacy"});l.gasPrice=w}return u.includes("gas")&&typeof o>"u"&&(l.gas=await z(e,Fr,"estimateGas")({...l,account:d?{address:d.address,type:"json-rpc"}:void 0})),Ir(l),delete l.parameters,l}async function ri(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n?j(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function Fr(e,t){var s,o,i;const n=t.account??e.account,r=n?Ze(n):void 0;try{let $=function(S){const{block:O,request:L,rpcStateOverride:q}=S;return e.request({method:"eth_estimateGas",params:q?[L,O??"latest",q]:O?[L,O]:[L]})};const{accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:f,blockNumber:d,blockTag:l,data:b,gas:g,gasPrice:y,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:w,nonce:v,value:E,stateOverride:k,...T}=await ni(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),B=(d?j(d):void 0)||l,I=Lo(k),G=await(async()=>{if(T.to)return T.to;if(c&&c.length>0)return await qu({authorization:c[0]}).catch(()=>{throw new x("`to` is required. Could not infer from `authorizationList`")})})();Ir(t);const N=(i=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionRequest)==null?void 0:i.format,D=(N||zo)({...Mo(T,{format:N}),from:r==null?void 0:r.address,accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:f,data:b,gas:g,gasPrice:y,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:w,nonce:v,to:G,value:E});let C=BigInt(await $({block:B,request:D,rpcStateOverride:I}));if(c){const S=await ri(e,{address:D.from}),O=await Promise.all(c.map(async L=>{const{contractAddress:q}=L,W=await $({block:B,request:{authorizationList:void 0,data:b,from:r==null?void 0:r.address,to:q,value:j(S)},rpcStateOverride:I}).catch(()=>100000n);return 2n*BigInt(W)}));C+=O.reduce((L,q)=>L+q,0n)}return C}catch(a){throw Zu(a,{...t,account:r,chain:e.chain})}}async function gf(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=We({abi:n,args:s,functionName:o});try{return await z(e,Fr,"estimateGas")({data:a,to:r,...i})}catch(c){const u=i.account?Ze(i.account):void 0;throw un(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:u==null?void 0:u.address})}}function Mn(e,t){if(!re(e,{strict:!1}))throw new fe({address:e});if(!re(t,{strict:!1}))throw new fe({address:t});return e.toLowerCase()===t.toLowerCase()}const si="/docs/contract/decodeEventLog";function Nr(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...a]=s;if(!i)throw new oc({docsPath:si});const c=(()=>t.length===1?t[0]:t.find(y=>y.type==="event"&&i===Cn(Me(y))))();if(!(c&&"name"in c)||c.type!=="event")throw new Hs(i,{docsPath:si});const{name:u,inputs:f}=c,d=f==null?void 0:f.some(y=>!("name"in y&&y.name));let l=d?[]:{};const b=f.filter(y=>"indexed"in y&&y.indexed);for(let y=0;y<b.length;y++){const p=b[y],m=a[y];if(!m)throw new In({abiItem:c,param:p});l[d?y:p.name||y]=wf({param:p,value:m})}const g=f.filter(y=>!("indexed"in y&&y.indexed));if(g.length>0){if(n&&n!=="0x")try{const y=On(g,n);if(y)if(d)l=[...l,...y];else for(let p=0;p<g.length;p++)l[g[p].name]=y[p]}catch(y){if(o)throw y instanceof Us||y instanceof vo?new jt({abiItem:c,data:n,params:g,size:Y(n)}):y}else if(o)throw new jt({abiItem:c,data:"0x",params:g,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function wf({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(On([e],t)||[])[0]}function _r(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(i=>{var a;try{const c=t.find(f=>f.type==="event"&&i.topics[0]===Cn(f));if(!c)return null;const u=Nr({...i,abi:[c],strict:s});return o&&!o.includes(u.eventName)||!vf({args:u.args,inputs:c.inputs,matchArgs:n})?null:{...u,...i}}catch(c){let u,f;if(c instanceof Hs)return null;if(c instanceof jt||c instanceof In){if(s)return null;u=c.abiItem.name,f=(a=c.abiItem.inputs)==null?void 0:a.some(d=>!("name"in d&&d.name))}return{...i,args:f?[]:{},eventName:u}}}).filter(Boolean)}function vf(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,i,a){try{return o.type==="address"?Mn(i,a):o.type==="string"||o.type==="bytes"?ne(gt(i))===a:i===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const a=n[i];return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const a=n.find(u=>u.name===o);return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):!1}function Xe(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function Mr(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:a,strict:c}={}){const u=c??!1,f=i??(o?[o]:void 0);let d=[];f&&(d=[f.flatMap(y=>qt({abi:[y],eventName:y.name,args:i?void 0:a}))],o&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?j(r):r,toBlock:typeof s=="bigint"?j(s):s}]});const b=l.map(g=>Xe(g));return f?_r({abi:f,args:a,logs:b,strict:u}):b}async function oi(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:a,toBlock:c,strict:u}=t,f=i?Ht({abi:n,name:i}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return z(e,Mr,"getLogs")({address:r,args:s,blockHash:o,event:f,events:d,fromBlock:a,toBlock:c,strict:u})}const zr="/docs/contract/decodeFunctionResult";function It(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const a=Ht({abi:t,args:n,name:r});if(!a)throw new Bn(r,{docsPath:zr});o=a}if(o.type!=="function")throw new Bn(void 0,{docsPath:zr});if(!o.outputs)throw new ic(o.name,{docsPath:zr});const i=On(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const jr=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],ii=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],ai=[...ii,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],xf=[...ii,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],ci=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],ui=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],fi=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Ef="0x82ad56cb",Pf="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Af="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Bf="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";class Lr extends x{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class di extends x{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class zn extends x{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const Dr="/docs/contract/encodeDeployData";function Ur(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new tc({docsPath:Dr});if(!("inputs"in s))throw new Ds({docsPath:Dr});if(!s.inputs||s.inputs.length===0)throw new Ds({docsPath:Dr});const o=it(s.inputs,n);return Ne([r,o])}function Tt({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new Lr({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Lr({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function If(e,{docsPath:t,...n}){const r=(()=>{const s=_o(e,n);return s instanceof Ar?e:s})();return new So(r,{docsPath:t,...n})}const Gr=new Map;function li({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const o=async()=>{const f=c();i();const d=f.map(({args:l})=>l);d.length!==0&&e(d).then(l=>{var b;s&&Array.isArray(l)&&l.sort(s);for(let g=0;g<f.length;g++){const{pendingPromise:y}=f[g];(b=y.resolve)==null||b.call(y,[l[g],l])}}).catch(l=>{var b;for(let g=0;g<f.length;g++){const{pendingPromise:y}=f[g];(b=y.reject)==null||b.call(y,l)}})},i=()=>Gr.delete(t),a=()=>c().map(({args:f})=>f),c=()=>Gr.get(t)||[],u=f=>Gr.set(t,[...c(),f]);return{flush:i,async schedule(f){const d={},l=new Promise((y,p)=>{d.resolve=y,d.reject=p});return(n==null?void 0:n([...a(),f]))&&o(),c().length>0?(u({args:f,pendingPromise:d}),l):(u({args:f,pendingPromise:d}),setTimeout(o,r),l)}}}async function dn(e,t){var N,F,D,$;const{account:n=e.account,batch:r=!!((N=e.batch)!=null&&N.multicall),blockNumber:s,blockTag:o="latest",accessList:i,blobs:a,code:c,data:u,factory:f,factoryData:d,gas:l,gasPrice:b,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:p,nonce:m,to:w,value:v,stateOverride:E,...k}=t,T=n?Ze(n):void 0;if(c&&(f||d))throw new x("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(c&&w)throw new x("Cannot provide both `code` & `to` as parameters.");const A=c&&u,B=f&&d&&w&&u,I=A||B,G=(()=>A?Sf({code:c,data:u}):B?Cf({data:u,factory:f,factoryData:d,to:w}):u)();try{Ir(t);const S=(s?j(s):void 0)||o,O=Lo(E),L=($=(D=(F=e.chain)==null?void 0:F.formatters)==null?void 0:D.transactionRequest)==null?void 0:$.format,W=(L||zo)({...Mo(k,{format:L}),from:T==null?void 0:T.address,accessList:i,blobs:a,data:G,gas:l,gasPrice:b,maxFeePerBlobGas:g,maxFeePerGas:y,maxPriorityFeePerGas:p,nonce:m,to:I?void 0:w,value:v});if(r&&Tf({request:W})&&!O)try{return await $f(e,{...W,blockNumber:s,blockTag:o})}catch(ae){if(!(ae instanceof di)&&!(ae instanceof Lr))throw ae}const J=await e.request({method:"eth_call",params:O?[W,S,O]:[W,S]});return J==="0x"?{data:void 0}:{data:J}}catch(C){const S=kf(C),{offchainLookup:O,offchainLookupSignature:L}=await Promise.resolve().then(()=>Sd);if(e.ccipRead!==!1&&(S==null?void 0:S.slice(0,10))===L&&w)return{data:await O(e,{data:S,to:w})};throw I&&(S==null?void 0:S.slice(0,10))==="0x101bb98d"?new _u({factory:f}):If(C,{...t,account:T,chain:e.chain})}}function Tf({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(Ef)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function $f(e,t){var y;const{batchSize:n=1024,wait:r=0}=typeof((y=e.batch)==null?void 0:y.multicall)=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:o="latest",data:i,multicallAddress:a,to:c}=t;let u=a;if(!u){if(!e.chain)throw new di;u=Tt({blockNumber:s,chain:e.chain,contract:"multicall3"})}const d=(s?j(s):void 0)||o,{schedule:l}=li({id:`${e.uid}.${d}`,wait:r,shouldSplitBatch(p){return p.reduce((w,{data:v})=>w+(v.length-2),0)>n*2},fn:async p=>{const m=p.map(E=>({allowFailure:!0,callData:E.data,target:E.to})),w=We({abi:jr,args:[m],functionName:"aggregate3"}),v=await e.request({method:"eth_call",params:[{data:w,to:u},d]});return It({abi:jr,args:[m],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:b,success:g}]=await l({data:i,to:c});if(!g)throw new br({data:b});return b==="0x"?{data:void 0}:{data:b}}function Sf(e){const{code:t,data:n}=e;return Ur({abi:zs(["constructor(bytes, bytes)"]),bytecode:Pf,args:[t,n]})}function Cf(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Ur({abi:zs(["constructor(address, bytes, address, bytes)"]),bytecode:Af,args:[s,t,n,r]})}function kf(e){var n;if(!(e instanceof x))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function De(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=We({abi:n,args:s,functionName:o});try{const{data:c}=await z(e,dn,"call")({...i,data:a,to:r});return It({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw un(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function Rf(e,t){const{abi:n,address:r,args:s,dataSuffix:o,functionName:i,...a}=t,c=a.account?Ze(a.account):e.account,u=We({abi:n,args:s,functionName:i});try{const{data:f}=await z(e,dn,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:r,...a,account:c}),d=It({abi:n,args:s,functionName:i,data:f||"0x"}),l=n.filter(b=>"name"in b&&b.name===t.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:o,functionName:i,...a,account:c}}}catch(f){throw un(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:c==null?void 0:c.address})}}const Hr=new Map,hi=new Map;let Of=0;function Qe(e,t,n){const r=++Of,s=()=>Hr.get(e)||[],o=()=>{const f=s();Hr.set(e,f.filter(d=>d.id!==r))},i=()=>{const f=hi.get(e);s().length===1&&f&&f(),o()},a=s();if(Hr.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return i;const c={};for(const f in t)c[f]=(...d)=>{var b,g;const l=s();if(l.length!==0)for(const y of l)(g=(b=y.fns)[f])==null||g.call(b,...d)};const u=n(c);return typeof u=="function"&&hi.set(e,u),i}async function qr(e){return new Promise(t=>setTimeout(t,e))}function ln(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const c=await(n==null?void 0:n(a))??r;await qr(c);const u=async()=>{s&&(await e({unpoll:o}),await qr(r),u())};u()})(),o}const Ff=new Map,Nf=new Map;function _f(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,Ff),r=t(e,Nf);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Mf(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=_f(t),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const zf=e=>`blockNumber.${e}`;async function hn(e,{cacheTime:t=e.cacheTime}={}){const n=await Mf(()=>e.request({method:"eth_blockNumber"}),{cacheKey:zf(e.uid),cacheTime:t});return BigInt(n)}async function jn(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>Xe(o));return!("abi"in t)||!t.abi?s:_r({abi:t.abi,logs:s,strict:n})}async function Ln(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function jf(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:a,onError:c,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(()=>typeof f<"u"?f:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))()?(()=>{const p=l??!1,m=se(["watchContractEvent",r,s,o,e.uid,i,d,p,a]);return Qe(m,{onLogs:u,onError:c},w=>{let v;a!==void 0&&(v=a-1n);let E,k=!1;const T=ln(async()=>{var A;if(!k){try{E=await z(e,yo,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:p,fromBlock:a})}catch{}k=!0;return}try{let B;if(E)B=await z(e,jn,"getFilterChanges")({filter:E});else{const I=await z(e,hn,"getBlockNumber")({});v&&v<I?B=await z(e,oi,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:v+1n,toBlock:I,strict:p}):B=[],v=I}if(B.length===0)return;if(o)w.onLogs(B);else for(const I of B)w.onLogs([I])}catch(B){E&&B instanceof ut&&(k=!1),(A=w.onError)==null||A.call(w,B)}},{emitOnBegin:!0,interval:d});return async()=>{E&&await z(e,Ln,"uninstallFilter")({filter:E}),T()}})})():(()=>{const p=l??!1,m=se(["watchContractEvent",r,s,o,e.uid,i,d,p]);let w=!0,v=()=>w=!1;return Qe(m,{onLogs:u,onError:c},E=>((async()=>{try{const k=(()=>{if(e.transport.type==="fallback"){const B=e.transport.transports.find(I=>I.config.type==="webSocket");return B?B.value:e.transport}return e.transport})(),T=i?qt({abi:n,eventName:i,args:s}):[],{unsubscribe:A}=await k.subscribe({params:["logs",{address:r,topics:T}],onData(B){var G;if(!w)return;const I=B.result;try{const{eventName:N,args:F}=Nr({abi:n,data:I.data,topics:I.topics,strict:l}),D=Xe(I,{args:F,eventName:N});E.onLogs([D])}catch(N){let F,D;if(N instanceof jt||N instanceof In){if(l)return;F=N.abiItem.name,D=(G=N.abiItem.inputs)==null?void 0:G.some(C=>!("name"in C&&C.name))}const $=Xe(I,{args:D?[]:{},eventName:F});E.onLogs([$])}},onError(B){var I;(I=E.onError)==null||I.call(E,B)}});v=A,w||v()}catch(k){c==null||c(k)}})(),()=>v()))})()}async function Lf(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}class Df extends x{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Uf(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,a,c,u,f,d]=await z(e,De,"readContract")({abi:Gf,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:a,chainId:Number(c),verifyingContract:u,salt:f},extensions:d,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new Df({address:n}):i}}const Gf=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}],Vr=256;let Dn=Vr,Un;function pi(e=11){if(!Un||Dn+e>Vr*2){Un="",Dn=0;for(let t=0;t<Vr;t++)Un+=(256+Math.random()*256|0).toString(16).substring(1)}return Un.substring(Dn,Dn+++e)}function Hf(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,ccipRead:r,key:s="base",name:o="Base Client",pollingInterval:i=4e3,type:a="base"}=e,c=e.chain,u=e.account?Ze(e.account):void 0,{config:f,request:d,value:l}=e.transport({chain:c,pollingInterval:i}),b={...f,...l},g={account:u,batch:t,cacheTime:n,ccipRead:r,chain:c,key:s,name:o,pollingInterval:i,request:d,transport:b,type:a,uid:pi()};function y(p){return m=>{const w=m(p);for(const E in g)delete w[E];const v={...p,...w};return Object.assign(v,{extend:y(v)})}}return Object.assign(g,{extend:y(g)})}const Gn=new sr(8192);function qf(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(Gn.get(n))return Gn.get(n);const r=e().finally(()=>Gn.delete(n));return Gn.set(n,r),r}function Zr(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,o)=>{const i=async({count:a=0}={})=>{const c=async({error:u})=>{const f=typeof t=="function"?t({count:a,error:u}):t;f&&await qr(f),i({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});o(u)}};i()})}function Vf(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,retryDelay:o=150,retryCount:i=3,uid:a}={...t,...r},c=s?ne(Lt(`${a}.${se(n)}`)):void 0;return qf(()=>Zr(async()=>{try{return await e(n)}catch(u){const f=u;switch(f.code){case Wt.code:throw new Wt(f);case Yt.code:throw new Yt(f);case Kt.code:throw new Kt(f,{method:n.method});case Jt.code:throw new Jt(f);case ct.code:throw new ct(f);case ut.code:throw new ut(f);case Xt.code:throw new Xt(f);case Qt.code:throw new Qt(f);case en.code:throw new en(f);case tn.code:throw new tn(f,{method:n.method});case Pt.code:throw new Pt(f);case nn.code:throw new nn(f);case At.code:throw new At(f);case rn.code:throw new rn(f);case sn.code:throw new sn(f);case on.code:throw new on(f);case an.code:throw new an(f);case cn.code:throw new cn(f);case 5e3:throw new At(f);default:throw u instanceof x?u:new zu(f)}}},{delay:({count:u,error:f})=>{var d;if(f&&f instanceof at){const l=(d=f==null?void 0:f.headers)==null?void 0:d.get("Retry-After");if(l!=null&&l.match(/\d/))return Number.parseInt(l)*1e3}return~~(1<<u)*o},retryCount:i,shouldRetry:({error:u})=>Zf(u)}),{enabled:s,id:c})}}function Zf(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Pt.code||e.code===ct.code:e instanceof at&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function Wf({key:e,name:t,request:n,retryCount:r=3,retryDelay:s=150,timeout:o,type:i},a){const c=pi();return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:s,timeout:o,type:i},request:Vf(n,{retryCount:r,retryDelay:s,uid:c}),value:a}}class Yf extends x{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Kf(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,o)=>{(async()=>{let i;try{const a=new AbortController;n>0&&(i=setTimeout(()=>{r?a.abort():o(t)},n)),s(await e({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&o(t),o(a)}finally{clearTimeout(i)}})()})}function Jf(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const bi=Jf();function Xf(e,t={}){return{async request(n){var d;const{body:r,onRequest:s=t.onRequest,onResponse:o=t.onResponse,timeout:i=t.timeout??1e4}=n,a={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:f}=a;try{const l=await Kf(async({signal:g})=>{const y={...a,body:Array.isArray(r)?se(r.map(v=>({jsonrpc:"2.0",id:v.id??bi.take(),...v}))):se({jsonrpc:"2.0",id:r.id??bi.take(),...r}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:f||(i>0?g:null)},p=new Request(e,y),m=await(s==null?void 0:s(p,y))??{...y,url:e};return await fetch(m.url??e,m)},{errorInstance:new ko({body:r,url:e}),timeout:i,signal:!0});o&&await o(l);let b;if((d=l.headers.get("Content-Type"))!=null&&d.startsWith("application/json"))b=await l.json();else{b=await l.text();try{b=JSON.parse(b||"{}")}catch(g){if(l.ok)throw g;b={error:b}}}if(!l.ok)throw new at({body:r,details:se(b.error)||l.statusText,headers:l.headers,status:l.status,url:e});return b}catch(l){throw l instanceof at||l instanceof ko?l:new at({body:r,cause:l,url:e})}}}}function Qf(e,t={}){const{batch:n,fetchOptions:r,key:s="http",name:o="HTTP JSON-RPC",onFetchRequest:i,onFetchResponse:a,retryDelay:c}=t;return({chain:u,retryCount:f,timeout:d})=>{const{batchSize:l=1e3,wait:b=0}=typeof n=="object"?n:{},g=t.retryCount??f,y=d??t.timeout??1e4,p=e||(u==null?void 0:u.rpcUrls.default.http[0]);if(!p)throw new Yf;const m=Xf(p,{fetchOptions:r,onRequest:i,onResponse:a,timeout:y});return Wf({key:s,name:o,async request({method:w,params:v}){const E={method:w,params:v},{schedule:k}=li({id:p,wait:b,shouldSplitBatch(I){return I.length>l},fn:I=>m.request({body:I}),sort:(I,G)=>I.id-G.id}),T=async I=>n?k(I):[await m.request({body:I})],[{error:A,result:B}]=await T(E);if(A)throw new Co({body:E,error:A,url:p});return B},retryCount:g,retryDelay:c,timeout:y,type:"http"},{fetchOptions:r,url:p})}}function Wr(e,t){var r,s,o,i,a,c;if(!(e instanceof x))return!1;const n=e.walk(u=>u instanceof pr);return n instanceof pr?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((o=n.data)==null?void 0:o.errorName)==="ResolverNotContract"||((i=n.data)==null?void 0:i.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===go[50]):!1}function yi(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Ie(t)?t:null}function Hn(e){let t=new Uint8Array(32).fill(0);if(!e)return Q(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=yi(n[r]),o=s?gt(s):ne(ot(n[r]),"bytes");t=ne(Fe([t,o]),"bytes")}return Q(t)}function ed(e){return`[${e.slice(2)}]`}function td(e){const t=new Uint8Array(32).fill(0);return e?yi(e)||ne(ot(e)):Q(t)}function qn(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(ot(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=ot(s[o]);i.byteLength>255&&(i=ot(ed(td(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function nd(e,{blockNumber:t,blockTag:n,coinType:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){let c=a;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=Tt({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u=We({abi:ui,functionName:"addr",...r!=null?{args:[Hn(s),BigInt(r)]}:{args:[Hn(s)]}}),f={address:c,abi:ai,functionName:"resolve",args:[_(qn(s)),u],blockNumber:t,blockTag:n},d=z(e,De,"readContract"),l=o?await d({...f,args:[...f.args,o]}):await d(f);if(l[0]==="0x")return null;const b=It({abi:ui,args:r!=null?[Hn(s),BigInt(r)]:void 0,functionName:"addr",data:l[0]});return b==="0x"||Te(b)==="0x00"?null:b}catch(u){if(i)throw u;if(Wr(u,"resolve"))return null;throw u}}class rd extends x{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class pn extends x{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Yr extends x{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class sd extends x{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const od=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,id=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,ad=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,cd=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function ud(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function mi(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function gi({uri:e,gatewayUrls:t}){const n=ad.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=mi(t==null?void 0:t.ipfs,"https://ipfs.io"),s=mi(t==null?void 0:t.arweave,"https://arweave.net"),o=e.match(od),{protocol:i,subpath:a,target:c,subtarget:u=""}=(o==null?void 0:o.groups)||{},f=i==="ipns:/"||a==="ipns/",d=i==="ipfs:/"||a==="ipfs/"||id.test(e);if(e.startsWith("http")&&!f&&!d){let b=e;return t!=null&&t.arweave&&(b=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:b,isOnChain:!1,isEncoded:!1}}if((f||d)&&c)return{uri:`${r}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(cd,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new Yr({uri:e})}function wi(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new rd({data:e});return e.image||e.image_url||e.image_data}async function fd({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Kr({gatewayUrls:e,uri:wi(n)})}catch{throw new Yr({uri:t})}}async function Kr({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=gi({uri:t,gatewayUrls:e});if(r||await ud(n))return n;throw new Yr({uri:t})}function dd(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[a,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new pn({reason:"Only EIP-155 supported"});if(!i)throw new pn({reason:"Chain ID not found"});if(!c)throw new pn({reason:"Contract address not found"});if(!s)throw new pn({reason:"Token ID not found"});if(!a)throw new pn({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function ld(e,{nft:t}){if(t.namespace==="erc721")return De(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return De(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new sd({namespace:t.namespace})}async function hd(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?pd(e,{gatewayUrls:t,record:n}):Kr({uri:n,gatewayUrls:t})}async function pd(e,{gatewayUrls:t,record:n}){const r=dd(n),s=await ld(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:a}=gi({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=a?atob(o.replace("data:application/json;base64,","")):o,f=JSON.parse(u);return Kr({uri:wi(f),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),fd({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function vi(e,{blockNumber:t,blockTag:n,name:r,key:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){let c=a;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=Tt({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u={address:c,abi:ai,functionName:"resolve",args:[_(qn(r)),We({abi:ci,functionName:"text",args:[Hn(r),s]})],blockNumber:t,blockTag:n},f=z(e,De,"readContract"),d=o?await f({...u,args:[...u.args,o]}):await f(u);if(d[0]==="0x")return null;const l=It({abi:ci,functionName:"text",data:d[0]});return l===""?null:l}catch(u){if(i)throw u;if(Wr(u,"resolve"))return null;throw u}}async function bd(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){const c=await z(e,vi,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:o,strict:i});if(!c)return null;try{return await hd(e,{record:c,gatewayUrls:r})}catch{return null}}async function yd(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:s,strict:o,universalResolverAddress:i}){let a=i;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Tt({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const u={address:a,abi:xf,functionName:"reverse",args:[_(qn(c))],blockNumber:n,blockTag:r},f=z(e,De,"readContract"),[d,l]=s?await f({...u,args:[...u.args,s]}):await f(u);return t.toLowerCase()!==l.toLowerCase()?null:d}catch(u){if(o)throw u;if(Wr(u,"reverse"))return null;throw u}}async function md(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){let o=s;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=Tt({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[i]=await z(e,De,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[_(qn(r))],blockNumber:t,blockTag:n});return i}async function gd(e){const t=Rn(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function xi(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:a}={}){const c=s??(r?[r]:void 0),u=Rn(e,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(b=>qt({abi:[b],eventName:b.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?j(o):o,toBlock:typeof a=="bigint"?j(a):a,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:u(d),strict:!!i,toBlock:a,type:"event"}}async function Ei(e){const t=Rn(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function wd(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function vd(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?j(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),Re(o)}async function Pi(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?j(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}function xd(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function Ed(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=n?j(n):void 0,i=await e.request({method:"eth_feeHistory",params:[j(t),o||r,s]},{dedupe:!!o});return xd(i)}async function Pd(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>Xe(o));return t.abi?_r({abi:t.abi,logs:s,strict:n}):s}class Ad extends x{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:o,urls:i}){var a;super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],(a=n.metaMessages)!=null&&a.length?"":[],"Offchain Gateway Call:",i&&["  Gateway URL(s):",...i.map(c=>`    ${Zt(c)}`)],`  Sender: ${o}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class Bd extends x{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${Zt(n)}`,`Response: ${se(t)}`],name:"OffchainLookupResponseMalformedError"})}}class Id extends x{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const Td="0x556f1830",Ai={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function $d(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:o}=Eo({data:r,abi:[Ai]}),[i,a,c,u,f]=o,{ccipRead:d}=e,l=d&&typeof(d==null?void 0:d.request)=="function"?d.request:Bi;try{if(!Mn(s,i))throw new Id({sender:i,to:s});const b=await l({data:c,sender:i,urls:a}),{data:g}=await dn(e,{blockNumber:t,blockTag:n,data:Fe([u,it([{type:"bytes"},{type:"bytes"}],[b,f])]),to:s});return g}catch(b){throw new Ad({callbackSelector:u,cause:b,data:r,extraData:f,sender:i,urls:a})}}async function Bi({data:e,sender:t,urls:n}){var s;let r=new Error("An unknown error occurred.");for(let o=0;o<n.length;o++){const i=n[o],a=i.includes("{data}")?"GET":"POST",c=a==="POST"?{data:e,sender:t}:void 0;try{const u=await fetch(i.replace("{sender}",t).replace("{data}",e),{body:JSON.stringify(c),method:a});let f;if((s=u.headers.get("Content-Type"))!=null&&s.startsWith("application/json")?f=(await u.json()).data:f=await u.text(),!u.ok){r=new at({body:c,details:f!=null&&f.error?se(f.error):u.statusText,headers:u.headers,status:u.status,url:i});continue}if(!Ie(f)){r=new Bd({result:f,url:i});continue}return f}catch(u){r=new at({body:c,details:u.message,url:i})}}throw r}const Sd=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:Bi,offchainLookup:$d,offchainLookupAbiItem:Ai,offchainLookupSignature:Td},Symbol.toStringTag,{value:"Module"}));function Ii(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const Cd=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,kd=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Rd(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:Md({domain:t}),...e.types};_d({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(Od({domain:t,types:s})),r!=="EIP712Domain"&&o.push(Ti({data:n,primaryType:r,types:s})),ne(Fe(o))}function Od({domain:e,types:t}){return Ti({data:e,primaryType:"EIP712Domain",types:t})}function Ti({data:e,primaryType:t,types:n}){const r=$i({data:e,primaryType:t,types:n});return ne(r)}function $i({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Fd({primaryType:t,types:n})];for(const o of n[t]){const[i,a]=Ci({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(i),s.push(a)}return it(r,s)}function Fd({primaryType:e,types:t}){const n=_(Nd({primaryType:e,types:t}));return ne(n)}function Nd({primaryType:e,types:t}){let n="";const r=Si({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}function Si({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])Si({primaryType:o.type,types:t},n);return n}function Ci({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},ne($i({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},ne(r)];if(n==="string")return[{type:"bytes32"},ne(_(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>Ci({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},ne(it(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}function _d(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(i,a)=>{for(const c of i){const{name:u,type:f}=c,d=a[u],l=f.match(kd);if(l&&(typeof d=="number"||typeof d=="bigint")){const[y,p,m]=l;j(d,{signed:p==="int",size:Number.parseInt(m)/8})}if(f==="address"&&typeof d=="string"&&!re(d))throw new fe({address:d});const b=f.match(Cd);if(b){const[y,p]=b;if(p&&Y(d)!==Number.parseInt(p))throw new cc({expectedSize:Number.parseInt(p),givenSize:Y(d)})}const g=s[f];g&&o(g,d)}};s.EIP712Domain&&t&&o(s.EIP712Domain,t),r!=="EIP712Domain"&&o(s[r],n)}function Md({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}const zd={"0x0":"reverted","0x1":"success"};function ki(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>Xe(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Re(e.transactionIndex):null,status:e.status?zd[e.status]:null,type:e.type?Uo[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const jd=Br("transactionReceipt",ki),Ld=`Ethereum Signed Message:
`;function Dd(e){const t=(()=>typeof e=="string"?Lt(e):typeof e.raw=="string"?e.raw:Q(e.raw))(),n=Lt(`${Ld}${Y(t)}`);return Fe([n,t])}function Ri(e,t){return ne(Dd(e),t)}const Oi="0x6492649264926492649264926492649264926492649264926492649264926492";function Ud(e){return lo(e,-32)===Oi}function Gd(e){const{address:t,data:n,signature:r,to:s="hex"}=e,o=Ne([it([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),Oi]);return s==="hex"?o:Se(o)}function Hd(e){const{authorizationList:t}=e;if(t)for(const n of t){const{contractAddress:r,chainId:s}=n;if(!re(r))throw new fe({address:r});if(s<=0)throw new zn({chainId:s})}Jr(e)}function qd(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new Xo;for(const n of t){const r=Y(n),s=Re(Gt(n,0,1));if(r!==32)throw new pf({hash:n,size:r});if(s!==Jo)throw new bf({hash:n,version:s})}}Jr(e)}function Jr(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new zn({chainId:t});if(s&&!re(s))throw new fe({address:s});if(r&&r>Nn)throw new ft({maxFeePerGas:r});if(n&&r&&n>r)throw new fn({maxFeePerGas:r,maxPriorityFeePerGas:n})}function Vd(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(t<=0)throw new zn({chainId:t});if(o&&!re(o))throw new fe({address:o});if(n||s)throw new x("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>Nn)throw new ft({maxFeePerGas:r})}function Zd(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(o&&!re(o))throw new fe({address:o});if(typeof t<"u"&&t<=0)throw new zn({chainId:t});if(n||s)throw new x("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>Nn)throw new ft({maxFeePerGas:r})}function Wd(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{contractAddress:r,chainId:s,nonce:o,...i}=n;t.push([_(s),r,o?_(o):"0x",...bn({},i)])}return t}function Vn(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let o=0;o<s.length;o++)if(s[o].length-2!==64)throw new ku({storageKey:s[o]});if(!re(r,{strict:!1}))throw new fe({address:r});t.push([r,s])}return t}function Yd(e,t){const n=ei(e);return n==="eip1559"?Xd(e,t):n==="eip2930"?Qd(e,t):n==="eip4844"?Jd(e,t):n==="eip7702"?Kd(e,t):el(e,t)}function Kd(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:o,to:i,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:d}=e;Hd(e);const l=Vn(f),b=Wd(n);return Ne(["0x04",Ye([_(r),o?_(o):"0x",u?_(u):"0x",c?_(c):"0x",s?_(s):"0x",i??"0x",a?_(a):"0x",d??"0x",l,b,...bn(e,t)])])}function Jd(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:d}=e;qd(e);let l=e.blobVersionedHashes,b=e.sidecars;if(e.blobs&&(typeof l>"u"||typeof b>"u")){const v=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(T=>Q(T)),E=e.kzg,k=kr({blobs:v,kzg:E});if(typeof l>"u"&&(l=Vo({commitments:k})),typeof b>"u"){const T=Rr({blobs:v,commitments:k,kzg:E});b=Qo({blobs:v,commitments:k,proofs:T})}}const g=Vn(f),y=[_(n),s?_(s):"0x",u?_(u):"0x",c?_(c):"0x",r?_(r):"0x",o??"0x",i?_(i):"0x",d??"0x",g,a?_(a):"0x",l??[],...bn(e,t)],p=[],m=[],w=[];if(b)for(let v=0;v<b.length;v++){const{blob:E,commitment:k,proof:T}=b[v];p.push(E),m.push(k),w.push(T)}return Ne(["0x03",Ye(b?[y,p,m,w]:y)])}function Xd(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:f}=e;Jr(e);const d=Vn(u),l=[_(n),s?_(s):"0x",c?_(c):"0x",a?_(a):"0x",r?_(r):"0x",o??"0x",i?_(i):"0x",f??"0x",d,...bn(e,t)];return Ne(["0x02",Ye(l)])}function Qd(e,t){const{chainId:n,gas:r,data:s,nonce:o,to:i,value:a,accessList:c,gasPrice:u}=e;Vd(e);const f=Vn(c),d=[_(n),o?_(o):"0x",u?_(u):"0x",r?_(r):"0x",i??"0x",a?_(a):"0x",s??"0x",f,...bn(e,t)];return Ne(["0x01",Ye(d)])}function el(e,t){const{chainId:n=0,gas:r,data:s,nonce:o,to:i,value:a,gasPrice:c}=e;Zd(e);let u=[o?_(o):"0x",c?_(c):"0x",r?_(r):"0x",i??"0x",a?_(a):"0x",s??"0x"];if(t){const f=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const b=27n+(t.v===27n?0n:1n);if(t.v!==b)throw new Su({v:t.v});return b})(),d=Te(t.r),l=Te(t.s);u=[...u,_(f),d==="0x00"?"0x":d,l==="0x00"?"0x":l]}else n>0&&(u=[...u,_(n),"0x","0x"]);return Ye(u)}function bn(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const o=Te(n.r),i=Te(n.s);return[(()=>typeof s=="number"?s?_(1):"0x":r===0n?"0x":r===1n?_(1):r===27n?"0x":_(1))(),o==="0x00"?"0x":o,i==="0x00"?"0x":i]}function tl(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function nl(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Re(e.nonce):void 0,storageProof:e.storageProof?tl(e.storageProof):void 0}}async function rl(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?j(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,i||o]});return nl(a)}async function sl(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?j(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function Xr(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){var f,d,l;const i=r||"latest",a=n!==void 0?j(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,j(o)]},{dedupe:!0}):(a||i)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||i,j(o)]},{dedupe:!!a})),!c)throw new To({blockHash:t,blockNumber:n,blockTag:i,hash:s,index:o});return(((l=(d=(f=e.chain)==null?void 0:f.formatters)==null?void 0:d.transaction)==null?void 0:l.format)||_n)(c)}async function ol(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([z(e,hn,"getBlockNumber")({}),t?z(e,Xr,"getTransaction")({hash:t}):void 0]),o=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return o?r-o+1n:0n}async function Qr(e,{hash:t}){var s,o,i;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new $o({hash:t});return(((i=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionReceipt)==null?void 0:i.format)||ki)(n)}async function il(e,t){var p;const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:o,multicallAddress:i,stateOverride:a}=t,c=t.contracts,u=r??(typeof((p=e.batch)==null?void 0:p.multicall)=="object"&&e.batch.multicall.batchSize||1024);let f=i;if(!f){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");f=Tt({blockNumber:s,chain:e.chain,contract:"multicall3"})}const d=[[]];let l=0,b=0;for(let m=0;m<c.length;m++){const{abi:w,address:v,args:E,functionName:k}=c[m];try{const T=We({abi:w,args:E,functionName:k});b+=(T.length-2)/2,u>0&&b>u&&d[l].length>0&&(l++,b=(T.length-2)/2,d[l]=[]),d[l]=[...d[l],{allowFailure:!0,callData:T,target:v}]}catch(T){const A=un(T,{abi:w,address:v,args:E,docsPath:"/docs/contract/multicall",functionName:k});if(!n)throw A;d[l]=[...d[l],{allowFailure:!0,callData:"0x",target:v}]}}const g=await Promise.allSettled(d.map(m=>z(e,De,"readContract")({abi:jr,address:f,args:[m],blockNumber:s,blockTag:o,functionName:"aggregate3",stateOverride:a}))),y=[];for(let m=0;m<g.length;m++){const w=g[m];if(w.status==="rejected"){if(!n)throw w.reason;for(let E=0;E<d[m].length;E++)y.push({status:"failure",error:w.reason,result:void 0});continue}const v=w.value;for(let E=0;E<v.length;E++){const{returnData:k,success:T}=v[E],{callData:A}=d[m][E],{abi:B,address:I,functionName:G,args:N}=c[y.length];try{if(A==="0x")throw new An;if(!T)throw new br({data:k});const F=It({abi:B,args:N,data:k,functionName:G});y.push(n?{result:F,status:"success"}:F)}catch(F){const D=un(F,{abi:B,address:I,args:N,docsPath:"/docs/contract/multicall",functionName:G});if(!n)throw D;y.push({error:D,result:void 0,status:"failure"})}}}if(y.length!==c.length)throw new x("multicall results mismatch");return y}class Fi extends nr{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Ic(t);const r=Sn(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),o.fill(0)}update(t){return wt(this),this.iHash.update(t),this}digestInto(t){wt(this),Dt(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Ni=(e,t,n)=>new Fi(e,t).update(n).digest();Ni.create=(e,t)=>new Fi(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const es=BigInt(0),Zn=BigInt(1),al=BigInt(2);function dt(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function yn(e){if(!dt(e))throw new Error("Uint8Array expected")}function $t(e,t){if(typeof t!="boolean")throw new Error(`${e} must be valid boolean, got "${t}".`)}const cl=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function St(e){yn(e);let t="";for(let n=0;n<e.length;n++)t+=cl[e[n]];return t}function Ct(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function ts(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}const Ue={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function _i(e){if(e>=Ue._0&&e<=Ue._9)return e-Ue._0;if(e>=Ue._A&&e<=Ue._F)return e-(Ue._A-10);if(e>=Ue._a&&e<=Ue._f)return e-(Ue._a-10)}function kt(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=_i(e.charCodeAt(o)),a=_i(e.charCodeAt(o+1));if(i===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[s]=i*16+a}return r}function lt(e){return ts(St(e))}function ns(e){return yn(e),ts(St(Uint8Array.from(e).reverse()))}function Rt(e,t){return kt(e.toString(16).padStart(t*2,"0"))}function rs(e,t){return Rt(e,t).reverse()}function ul(e){return kt(Ct(e))}function ke(e,t,n){let r;if(typeof t=="string")try{r=kt(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(dt(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${e} expected ${n} bytes, got ${s}`);return r}function mn(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];yn(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}function fl(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}function dl(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}const ss=e=>typeof e=="bigint"&&es<=e;function Wn(e,t,n){return ss(e)&&ss(t)&&ss(n)&&t<=e&&e<n}function ht(e,t,n,r){if(!Wn(t,n,r))throw new Error(`expected valid ${e}: ${n} <= n < ${r}, got ${typeof t} ${t}`)}function Mi(e){let t;for(t=0;e>es;e>>=Zn,t+=1);return t}function ll(e,t){return e>>BigInt(t)&Zn}function hl(e,t,n){return e|(n?Zn:es)<<BigInt(t)}const os=e=>(al<<BigInt(e-1))-Zn,is=e=>new Uint8Array(e),zi=e=>Uint8Array.from(e);function ji(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=is(e),s=is(e),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},a=(...d)=>n(s,r,...d),c=(d=is())=>{s=a(zi([0]),d),r=a(),d.length!==0&&(s=a(zi([1]),d),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const l=[];for(;d<t;){r=a();const b=r.slice();l.push(b),d+=r.length}return mn(...l)};return(d,l)=>{i(),c(d);let b;for(;!(b=l(u()));)c();return i(),b}}const pl={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||dt(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function gn(e,t,n={}){const r=(s,o,i)=>{const a=pl[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const c=e[s];if(!(i&&c===void 0)&&!a(c,e))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${o}`)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}const bl=()=>{throw new Error("not implemented")};function as(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const yl=Object.freeze(Object.defineProperty({__proto__:null,aInRange:ht,abool:$t,abytes:yn,bitGet:ll,bitLen:Mi,bitMask:os,bitSet:hl,bytesToHex:St,bytesToNumberBE:lt,bytesToNumberLE:ns,concatBytes:mn,createHmacDrbg:ji,ensureBytes:ke,equalBytes:fl,hexToBytes:kt,hexToNumber:ts,inRange:Wn,isBytes:dt,memoized:as,notImplemented:bl,numberToBytesBE:Rt,numberToBytesLE:rs,numberToHexUnpadded:Ct,numberToVarBytesBE:ul,utf8ToBytes:dl,validateObject:gn},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const oe=BigInt(0),K=BigInt(1),pt=BigInt(2),ml=BigInt(3),cs=BigInt(4),Li=BigInt(5),Di=BigInt(8);BigInt(9),BigInt(16);function he(e,t){const n=e%t;return n>=oe?n:t+n}function gl(e,t,n){if(n<=oe||t<oe)throw new Error("Expected power/modulo > 0");if(n===K)return oe;let r=K;for(;t>oe;)t&K&&(r=r*e%n),e=e*e%n,t>>=K;return r}function Ee(e,t,n){let r=e;for(;t-- >oe;)r*=r,r%=n;return r}function us(e,t){if(e===oe||t<=oe)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=he(e,t),r=t,s=oe,o=K;for(;n!==oe;){const a=r/n,c=r%n,u=s-o*a;r=n,n=c,s=o,o=u}if(r!==K)throw new Error("invert: does not exist");return he(s,t)}function wl(e){const t=(e-K)/pt;let n,r,s;for(n=e-K,r=0;n%pt===oe;n/=pt,r++);for(s=pt;s<e&&gl(s,t,e)!==e-K;s++);if(r===1){const i=(e+K)/cs;return function(c,u){const f=c.pow(u,i);if(!c.eql(c.sqr(f),u))throw new Error("Cannot find square root");return f}}const o=(n+K)/pt;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,f=a.pow(a.mul(a.ONE,s),n),d=a.pow(c,o),l=a.pow(c,n);for(;!a.eql(l,a.ONE);){if(a.eql(l,a.ZERO))return a.ZERO;let b=1;for(let y=a.sqr(l);b<u&&!a.eql(y,a.ONE);b++)y=a.sqr(y);const g=a.pow(f,K<<BigInt(u-b-1));f=a.sqr(g),d=a.mul(d,g),l=a.mul(l,f),u=b}return d}}function vl(e){if(e%cs===ml){const t=(e+K)/cs;return function(r,s){const o=r.pow(s,t);if(!r.eql(r.sqr(o),s))throw new Error("Cannot find square root");return o}}if(e%Di===Li){const t=(e-Li)/Di;return function(r,s){const o=r.mul(s,pt),i=r.pow(o,t),a=r.mul(s,i),c=r.mul(r.mul(a,pt),i),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return wl(e)}const xl=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function El(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=xl.reduce((r,s)=>(r[s]="function",r),t);return gn(e,n)}function Pl(e,t,n){if(n<oe)throw new Error("Expected power > 0");if(n===oe)return e.ONE;if(n===K)return t;let r=e.ONE,s=t;for(;n>oe;)n&K&&(r=e.mul(r,s)),s=e.sqr(s),n>>=K;return r}function Al(e,t){const n=new Array(t.length),r=t.reduce((o,i,a)=>e.is0(i)?o:(n[a]=o,e.mul(o,i)),e.ONE),s=e.inv(r);return t.reduceRight((o,i,a)=>e.is0(i)?o:(n[a]=e.mul(o,n[a]),e.mul(o,i)),s),n}function Ui(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Gi(e,t,n=!1,r={}){if(e<=oe)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:s,nByteLength:o}=Ui(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const i=vl(e),a=Object.freeze({ORDER:e,BITS:s,BYTES:o,MASK:os(s),ZERO:oe,ONE:K,create:c=>he(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return oe<=c&&c<e},is0:c=>c===oe,isOdd:c=>(c&K)===K,neg:c=>he(-c,e),eql:(c,u)=>c===u,sqr:c=>he(c*c,e),add:(c,u)=>he(c+u,e),sub:(c,u)=>he(c-u,e),mul:(c,u)=>he(c*u,e),pow:(c,u)=>Pl(a,c,u),div:(c,u)=>he(c*us(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>us(c,e),sqrt:r.sqrt||(c=>i(a,c)),invertBatch:c=>Al(a,c),cmov:(c,u,f)=>f?u:c,toBytes:c=>n?rs(c,o):Rt(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return n?ns(c):lt(c)}});return Object.freeze(a)}function Hi(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function qi(e){const t=Hi(e);return t+Math.ceil(t/2)}function Bl(e,t,n=!1){const r=e.length,s=Hi(t),o=qi(t);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const i=n?lt(e):ns(e),a=he(i,t-K)+K;return n?rs(a,s):Rt(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Il=BigInt(0),fs=BigInt(1),ds=new WeakMap,Vi=new WeakMap;function Tl(e,t){const n=(o,i)=>{const a=i.negate();return o?a:i},r=o=>{if(!Number.isSafeInteger(o)||o<=0||o>t)throw new Error(`Wrong window size=${o}, should be [1..${t}]`)},s=o=>{r(o);const i=Math.ceil(t/o)+1,a=2**(o-1);return{windows:i,windowSize:a}};return{constTimeNegate:n,unsafeLadder(o,i){let a=e.ZERO,c=o;for(;i>Il;)i&fs&&(a=a.add(c)),c=c.double(),i>>=fs;return a},precomputeWindow(o,i){const{windows:a,windowSize:c}=s(i),u=[];let f=o,d=f;for(let l=0;l<a;l++){d=f,u.push(d);for(let b=1;b<c;b++)d=d.add(f),u.push(d);f=d.double()}return u},wNAF(o,i,a){const{windows:c,windowSize:u}=s(o);let f=e.ZERO,d=e.BASE;const l=BigInt(2**o-1),b=2**o,g=BigInt(o);for(let y=0;y<c;y++){const p=y*u;let m=Number(a&l);a>>=g,m>u&&(m-=b,a+=fs);const w=p,v=p+Math.abs(m)-1,E=y%2!==0,k=m<0;m===0?d=d.add(n(E,i[w])):f=f.add(n(k,i[v]))}return{p:f,f:d}},wNAFCached(o,i,a){const c=Vi.get(o)||1;let u=ds.get(o);return u||(u=this.precomputeWindow(o,c),c!==1&&ds.set(o,a(u))),this.wNAF(c,u,i)},setWindowSize(o,i){r(i),Vi.set(o,i),ds.delete(o)}}}function $l(e,t,n,r){if(!Array.isArray(n)||!Array.isArray(r)||r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");r.forEach((f,d)=>{if(!t.isValid(f))throw new Error(`wrong scalar at index ${d}`)}),n.forEach((f,d)=>{if(!(f instanceof e))throw new Error(`wrong point at index ${d}`)});const s=Mi(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,i=(1<<o)-1,a=new Array(i+1).fill(e.ZERO),c=Math.floor((t.BITS-1)/o)*o;let u=e.ZERO;for(let f=c;f>=0;f-=o){a.fill(e.ZERO);for(let l=0;l<r.length;l++){const b=r[l],g=Number(b>>BigInt(f)&BigInt(i));a[g]=a[g].add(n[l])}let d=e.ZERO;for(let l=a.length-1,b=e.ZERO;l>0;l--)b=b.add(a[l]),d=d.add(b);if(u=u.add(d),f!==0)for(let l=0;l<o;l++)u=u.double()}return u}function Zi(e){return El(e.Fp),gn(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ui(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Wi(e){e.lowS!==void 0&&$t("lowS",e.lowS),e.prehash!==void 0&&$t("prehash",e.prehash)}function Sl(e){const t=Zi(e);gn(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:Cl,hexToBytes:kl}=yl,Ge={Err:class extends Error{constructor(t=""){super(t)}},_tlv:{encode:(e,t)=>{const{Err:n}=Ge;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Ct(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Ct(s.length/2|128):"";return`${Ct(e)}${o}${s}${t}`},decode(e,t){const{Err:n}=Ge;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)i=i<<8|f;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=Ge;if(e<He)throw new t("integer: negative integers are not allowed");let n=Ct(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected assertion");return n},decode(e){const{Err:t}=Ge;if(e[0]&128)throw new t("Invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return Cl(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Ge,s=typeof e=="string"?kl(e):e;yn(s);const{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("Invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:u,l:f}=r.decode(2,c);if(f.length)throw new t("Invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Ge,r=`${t.encode(2,n.encode(e.r))}${t.encode(2,n.encode(e.s))}`;return t.encode(48,r)}},He=BigInt(0),ie=BigInt(1);BigInt(2);const Yi=BigInt(3);BigInt(4);function Rl(e){const t=Sl(e),{Fp:n}=t,r=Gi(t.n,t.nBitLength),s=t.toBytes||((y,p,m)=>{const w=p.toAffine();return mn(Uint8Array.from([4]),n.toBytes(w.x),n.toBytes(w.y))}),o=t.fromBytes||(y=>{const p=y.subarray(1),m=n.fromBytes(p.subarray(0,n.BYTES)),w=n.fromBytes(p.subarray(n.BYTES,2*n.BYTES));return{x:m,y:w}});function i(y){const{a:p,b:m}=t,w=n.sqr(y),v=n.mul(w,y);return n.add(n.add(v,n.mul(y,p)),m)}if(!n.eql(n.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function a(y){return Wn(y,ie,t.n)}function c(y){const{allowedPrivateKeyLengths:p,nByteLength:m,wrapPrivateKey:w,n:v}=t;if(p&&typeof y!="bigint"){if(dt(y)&&(y=St(y)),typeof y!="string"||!p.includes(y.length))throw new Error("Invalid key");y=y.padStart(m*2,"0")}let E;try{E=typeof y=="bigint"?y:lt(ke("private key",y,m))}catch{throw new Error(`private key must be ${m} bytes, hex or bigint, not ${typeof y}`)}return w&&(E=he(E,v)),ht("private key",E,ie,v),E}function u(y){if(!(y instanceof l))throw new Error("ProjectivePoint expected")}const f=as((y,p)=>{const{px:m,py:w,pz:v}=y;if(n.eql(v,n.ONE))return{x:m,y:w};const E=y.is0();p==null&&(p=E?n.ONE:n.inv(v));const k=n.mul(m,p),T=n.mul(w,p),A=n.mul(v,p);if(E)return{x:n.ZERO,y:n.ZERO};if(!n.eql(A,n.ONE))throw new Error("invZ was invalid");return{x:k,y:T}}),d=as(y=>{if(y.is0()){if(t.allowInfinityPoint&&!n.is0(y.py))return;throw new Error("bad point: ZERO")}const{x:p,y:m}=y.toAffine();if(!n.isValid(p)||!n.isValid(m))throw new Error("bad point: x or y not FE");const w=n.sqr(m),v=i(p);if(!n.eql(w,v))throw new Error("bad point: equation left != right");if(!y.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class l{constructor(p,m,w){if(this.px=p,this.py=m,this.pz=w,p==null||!n.isValid(p))throw new Error("x required");if(m==null||!n.isValid(m))throw new Error("y required");if(w==null||!n.isValid(w))throw new Error("z required");Object.freeze(this)}static fromAffine(p){const{x:m,y:w}=p||{};if(!p||!n.isValid(m)||!n.isValid(w))throw new Error("invalid affine point");if(p instanceof l)throw new Error("projective point not allowed");const v=E=>n.eql(E,n.ZERO);return v(m)&&v(w)?l.ZERO:new l(m,w,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(p){const m=n.invertBatch(p.map(w=>w.pz));return p.map((w,v)=>w.toAffine(m[v])).map(l.fromAffine)}static fromHex(p){const m=l.fromAffine(o(ke("pointHex",p)));return m.assertValidity(),m}static fromPrivateKey(p){return l.BASE.multiply(c(p))}static msm(p,m){return $l(l,r,p,m)}_setWindowSize(p){g.setWindowSize(this,p)}assertValidity(){d(this)}hasEvenY(){const{y:p}=this.toAffine();if(n.isOdd)return!n.isOdd(p);throw new Error("Field doesn't support isOdd")}equals(p){u(p);const{px:m,py:w,pz:v}=this,{px:E,py:k,pz:T}=p,A=n.eql(n.mul(m,T),n.mul(E,v)),B=n.eql(n.mul(w,T),n.mul(k,v));return A&&B}negate(){return new l(this.px,n.neg(this.py),this.pz)}double(){const{a:p,b:m}=t,w=n.mul(m,Yi),{px:v,py:E,pz:k}=this;let T=n.ZERO,A=n.ZERO,B=n.ZERO,I=n.mul(v,v),G=n.mul(E,E),N=n.mul(k,k),F=n.mul(v,E);return F=n.add(F,F),B=n.mul(v,k),B=n.add(B,B),T=n.mul(p,B),A=n.mul(w,N),A=n.add(T,A),T=n.sub(G,A),A=n.add(G,A),A=n.mul(T,A),T=n.mul(F,T),B=n.mul(w,B),N=n.mul(p,N),F=n.sub(I,N),F=n.mul(p,F),F=n.add(F,B),B=n.add(I,I),I=n.add(B,I),I=n.add(I,N),I=n.mul(I,F),A=n.add(A,I),N=n.mul(E,k),N=n.add(N,N),I=n.mul(N,F),T=n.sub(T,I),B=n.mul(N,G),B=n.add(B,B),B=n.add(B,B),new l(T,A,B)}add(p){u(p);const{px:m,py:w,pz:v}=this,{px:E,py:k,pz:T}=p;let A=n.ZERO,B=n.ZERO,I=n.ZERO;const G=t.a,N=n.mul(t.b,Yi);let F=n.mul(m,E),D=n.mul(w,k),$=n.mul(v,T),C=n.add(m,w),S=n.add(E,k);C=n.mul(C,S),S=n.add(F,D),C=n.sub(C,S),S=n.add(m,v);let O=n.add(E,T);return S=n.mul(S,O),O=n.add(F,$),S=n.sub(S,O),O=n.add(w,v),A=n.add(k,T),O=n.mul(O,A),A=n.add(D,$),O=n.sub(O,A),I=n.mul(G,S),A=n.mul(N,$),I=n.add(A,I),A=n.sub(D,I),I=n.add(D,I),B=n.mul(A,I),D=n.add(F,F),D=n.add(D,F),$=n.mul(G,$),S=n.mul(N,S),D=n.add(D,$),$=n.sub(F,$),$=n.mul(G,$),S=n.add(S,$),F=n.mul(D,S),B=n.add(B,F),F=n.mul(O,S),A=n.mul(C,A),A=n.sub(A,F),F=n.mul(C,D),I=n.mul(O,I),I=n.add(I,F),new l(A,B,I)}subtract(p){return this.add(p.negate())}is0(){return this.equals(l.ZERO)}wNAF(p){return g.wNAFCached(this,p,l.normalizeZ)}multiplyUnsafe(p){ht("scalar",p,He,t.n);const m=l.ZERO;if(p===He)return m;if(p===ie)return this;const{endo:w}=t;if(!w)return g.unsafeLadder(this,p);let{k1neg:v,k1:E,k2neg:k,k2:T}=w.splitScalar(p),A=m,B=m,I=this;for(;E>He||T>He;)E&ie&&(A=A.add(I)),T&ie&&(B=B.add(I)),I=I.double(),E>>=ie,T>>=ie;return v&&(A=A.negate()),k&&(B=B.negate()),B=new l(n.mul(B.px,w.beta),B.py,B.pz),A.add(B)}multiply(p){const{endo:m,n:w}=t;ht("scalar",p,ie,w);let v,E;if(m){const{k1neg:k,k1:T,k2neg:A,k2:B}=m.splitScalar(p);let{p:I,f:G}=this.wNAF(T),{p:N,f:F}=this.wNAF(B);I=g.constTimeNegate(k,I),N=g.constTimeNegate(A,N),N=new l(n.mul(N.px,m.beta),N.py,N.pz),v=I.add(N),E=G.add(F)}else{const{p:k,f:T}=this.wNAF(p);v=k,E=T}return l.normalizeZ([v,E])[0]}multiplyAndAddUnsafe(p,m,w){const v=l.BASE,E=(T,A)=>A===He||A===ie||!T.equals(v)?T.multiplyUnsafe(A):T.multiply(A),k=E(this,m).add(E(p,w));return k.is0()?void 0:k}toAffine(p){return f(this,p)}isTorsionFree(){const{h:p,isTorsionFree:m}=t;if(p===ie)return!0;if(m)return m(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:p,clearCofactor:m}=t;return p===ie?this:m?m(l,this):this.multiplyUnsafe(t.h)}toRawBytes(p=!0){return $t("isCompressed",p),this.assertValidity(),s(l,this,p)}toHex(p=!0){return $t("isCompressed",p),St(this.toRawBytes(p))}}l.BASE=new l(t.Gx,t.Gy,n.ONE),l.ZERO=new l(n.ZERO,n.ONE,n.ZERO);const b=t.nBitLength,g=Tl(l,t.endo?Math.ceil(b/2):b);return{CURVE:t,ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:a}}function Ol(e){const t=Zi(e);return gn(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Fl(e){const t=Ol(e),{Fp:n,n:r}=t,s=n.BYTES+1,o=2*n.BYTES+1;function i($){return he($,r)}function a($){return us($,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:d}=Rl({...t,toBytes($,C,S){const O=C.toAffine(),L=n.toBytes(O.x),q=mn;return $t("isCompressed",S),S?q(Uint8Array.from([C.hasEvenY()?2:3]),L):q(Uint8Array.from([4]),L,n.toBytes(O.y))},fromBytes($){const C=$.length,S=$[0],O=$.subarray(1);if(C===s&&(S===2||S===3)){const L=lt(O);if(!Wn(L,ie,n.ORDER))throw new Error("Point is not on curve");const q=f(L);let W;try{W=n.sqrt(q)}catch(ce){const ue=ce instanceof Error?": "+ce.message:"";throw new Error("Point is not on curve"+ue)}const J=(W&ie)===ie;return(S&1)===1!==J&&(W=n.neg(W)),{x:L,y:W}}else if(C===o&&S===4){const L=n.fromBytes(O.subarray(0,n.BYTES)),q=n.fromBytes(O.subarray(n.BYTES,2*n.BYTES));return{x:L,y:q}}else throw new Error(`Point of length ${C} was invalid. Expected ${s} compressed bytes or ${o} uncompressed bytes`)}}),l=$=>St(Rt($,t.nByteLength));function b($){const C=r>>ie;return $>C}function g($){return b($)?i(-$):$}const y=($,C,S)=>lt($.slice(C,S));class p{constructor(C,S,O){this.r=C,this.s=S,this.recovery=O,this.assertValidity()}static fromCompact(C){const S=t.nByteLength;return C=ke("compactSignature",C,S*2),new p(y(C,0,S),y(C,S,2*S))}static fromDER(C){const{r:S,s:O}=Ge.toSig(ke("DER",C));return new p(S,O)}assertValidity(){ht("r",this.r,ie,r),ht("s",this.s,ie,r)}addRecoveryBit(C){return new p(this.r,this.s,C)}recoverPublicKey(C){const{r:S,s:O,recovery:L}=this,q=T(ke("msgHash",C));if(L==null||![0,1,2,3].includes(L))throw new Error("recovery id invalid");const W=L===2||L===3?S+t.n:S;if(W>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const J=L&1?"03":"02",ae=c.fromHex(J+l(W)),ce=a(W),ue=i(-q*ce),ge=i(O*ce),we=c.BASE.multiplyAndAddUnsafe(ae,ue,ge);if(!we)throw new Error("point at infinify");return we.assertValidity(),we}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new p(this.r,i(-this.s),this.recovery):this}toDERRawBytes(){return kt(this.toDERHex())}toDERHex(){return Ge.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return kt(this.toCompactHex())}toCompactHex(){return l(this.r)+l(this.s)}}const m={isValidPrivateKey($){try{return u($),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const $=qi(t.n);return Bl(t.randomBytes($),t.n)},precompute($=8,C=c.BASE){return C._setWindowSize($),C.multiply(BigInt(3)),C}};function w($,C=!0){return c.fromPrivateKey($).toRawBytes(C)}function v($){const C=dt($),S=typeof $=="string",O=(C||S)&&$.length;return C?O===s||O===o:S?O===2*s||O===2*o:$ instanceof c}function E($,C,S=!0){if(v($))throw new Error("first arg must be private key");if(!v(C))throw new Error("second arg must be public key");return c.fromHex(C).multiply(u($)).toRawBytes(S)}const k=t.bits2int||function($){const C=lt($),S=$.length*8-t.nBitLength;return S>0?C>>BigInt(S):C},T=t.bits2int_modN||function($){return i(k($))},A=os(t.nBitLength);function B($){return ht(`num < 2^${t.nBitLength}`,$,He,A),Rt($,t.nByteLength)}function I($,C,S=G){if(["recovered","canonical"].some(pe=>pe in S))throw new Error("sign() legacy options not supported");const{hash:O,randomBytes:L}=t;let{lowS:q,prehash:W,extraEntropy:J}=S;q==null&&(q=!0),$=ke("msgHash",$),Wi(S),W&&($=ke("prehashed msgHash",O($)));const ae=T($),ce=u(C),ue=[B(ce),B(ae)];if(J!=null&&J!==!1){const pe=J===!0?L(n.BYTES):J;ue.push(ke("extraEntropy",pe))}const ge=mn(...ue),we=ae;function et(pe){const ve=k(pe);if(!d(ve))return;const _e=a(ve),tt=c.BASE.multiply(ve).toAffine(),be=i(tt.x);if(be===He)return;const nt=i(_e*i(we+be*ce));if(nt===He)return;let Yn=(tt.x===be?0:2)|Number(tt.y&ie),bt=nt;return q&&b(nt)&&(bt=g(nt),Yn^=1),new p(be,bt,Yn)}return{seed:ge,k2sig:et}}const G={lowS:t.lowS,prehash:!1},N={lowS:t.lowS,prehash:!1};function F($,C,S=G){const{seed:O,k2sig:L}=I($,C,S),q=t;return ji(q.hash.outputLen,q.nByteLength,q.hmac)(O,L)}c.BASE._setWindowSize(8);function D($,C,S,O=N){var tt;const L=$;if(C=ke("msgHash",C),S=ke("publicKey",S),"strict"in O)throw new Error("options.strict was renamed to lowS");Wi(O);const{lowS:q,prehash:W}=O;let J,ae;try{if(typeof L=="string"||dt(L))try{J=p.fromDER(L)}catch(be){if(!(be instanceof Ge.Err))throw be;J=p.fromCompact(L)}else if(typeof L=="object"&&typeof L.r=="bigint"&&typeof L.s=="bigint"){const{r:be,s:nt}=L;J=new p(be,nt)}else throw new Error("PARSE");ae=c.fromHex(S)}catch(be){if(be.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(q&&J.hasHighS())return!1;W&&(C=t.hash(C));const{r:ce,s:ue}=J,ge=T(C),we=a(ue),et=i(ge*we),pe=i(ce*we),ve=(tt=c.BASE.multiplyAndAddUnsafe(ae,et,pe))==null?void 0:tt.toAffine();return ve?i(ve.x)===ce:!1}return{CURVE:t,getPublicKey:w,getSharedSecret:E,sign:F,verify:D,ProjectivePoint:c,Signature:p,utils:m}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Nl(e){return{hash:e,hmac:(t,...n)=>Ni(e,t,_c(...n)),randomBytes:Mc}}function _l(e,t){const n=r=>Fl({...e,...Nl(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ki=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ji=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ml=BigInt(1),ls=BigInt(2),Xi=(e,t)=>(e+t/ls)/t;function zl(e){const t=Ki,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=Ee(f,n,t)*f%t,l=Ee(d,n,t)*f%t,b=Ee(l,ls,t)*u%t,g=Ee(b,s,t)*b%t,y=Ee(g,o,t)*g%t,p=Ee(y,a,t)*y%t,m=Ee(p,c,t)*p%t,w=Ee(m,a,t)*y%t,v=Ee(w,n,t)*f%t,E=Ee(v,i,t)*g%t,k=Ee(E,r,t)*u%t,T=Ee(k,ls,t);if(!hs.eql(hs.sqr(T),e))throw new Error("Cannot find square root");return T}const hs=Gi(Ki,void 0,void 0,{sqrt:zl}),ps=_l({a:BigInt(0),b:BigInt(7),Fp:hs,n:Ji,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Ji,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Ml*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=Xi(o*e,t),c=Xi(-r*e,t);let u=he(e-a*n-c*s,t),f=he(-a*r-c*o,t);const d=u>i,l=f>i;if(d&&(u=t-u),l&&(f=t-f),u>i||f>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},qo);BigInt(0),ps.ProjectivePoint;const jl=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:ps},Symbol.toStringTag,{value:"Module"}));function Ll({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new ps.Signature(me(e),me(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:Se(i)}async function bs(e,t){var d,l,b;const{address:n,factory:r,factoryData:s,hash:o,signature:i,universalSignatureVerifierAddress:a=(b=(l=(d=e.chain)==null?void 0:d.contracts)==null?void 0:l.universalSignatureVerifier)==null?void 0:b.address,...c}=t,u=(()=>Ie(i)?i:typeof i=="object"&&"r"in i&&"s"in i?Ll(i):Q(i))(),f=await(async()=>!r&&!s||Ud(u)?u:Gd({address:r,data:s,signature:u}))();try{const g=a?{to:a,data:We({abi:fi,functionName:"isValidSig",args:[n,o,f]}),...c}:{data:Ur({abi:fi,args:[n,o,f],bytecode:Bf}),...c},{data:y}=await z(e,dn,"call")(g);return wc(y??"0x0")}catch(g){try{if(Mn(Jc(n),await Oo({hash:o,signature:i})))return!0}catch{}if(g instanceof So)return!1;throw g}}async function Dl(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const a=Ri(n);return bs(e,{address:t,factory:r,factoryData:s,hash:a,signature:o,...i})}async function Ul(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:a,types:c,domain:u,...f}=t,d=Rd({message:i,primaryType:a,types:c,domain:u});return bs(e,{address:n,factory:r,factoryData:s,hash:d,signature:o,...f})}function Qi(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const a=(()=>typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))();let c;return a?(()=>{const d=se(["watchBlockNumber",e.uid,t,n,i]);return Qe(d,{onBlockNumber:r,onError:s},l=>ln(async()=>{var b;try{const g=await z(e,hn,"getBlockNumber")({cacheTime:0});if(c){if(g===c)return;if(g-c>1&&n)for(let y=c+1n;y<g;y++)l.onBlockNumber(y,c),c=y}(!c||g>c)&&(l.onBlockNumber(g,c),c=g)}catch(g){(b=l.onError)==null||b.call(l,g)}},{emitOnBegin:t,interval:i}))})():(()=>{const d=se(["watchBlockNumber",e.uid,t,n]);return Qe(d,{onBlockNumber:r,onError:s},l=>{let b=!0,g=()=>b=!1;return(async()=>{try{const y=(()=>{if(e.transport.type==="fallback"){const m=e.transport.transports.find(w=>w.config.type==="webSocket");return m?m.value:e.transport}return e.transport})(),{unsubscribe:p}=await y.subscribe({params:["newHeads"],onData(m){var v;if(!b)return;const w=me((v=m.result)==null?void 0:v.number);l.onBlockNumber(w,c),c=w},onError(m){var w;(w=l.onError)==null||w.call(l,m)}});g=p,b||g()}catch(y){s==null||s(y)}})(),()=>g()})})()}async function Gl(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,retryCount:o=6,retryDelay:i=({count:c})=>~~(1<<c)*200,timeout:a=18e4}){const c=se(["waitForTransactionReceipt",e.uid,n]);let u,f,d,l=!1;return new Promise((b,g)=>{a&&setTimeout(()=>g(new Ru({hash:n})),a);const y=Qe(c,{onReplaced:r,resolve:b,reject:g},p=>{const m=z(e,Qi,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(w){const v=k=>{m(),k(),y()};let E=w;if(!l)try{if(d){if(t>1&&(!d.blockNumber||E-d.blockNumber+1n<t))return;v(()=>p.resolve(d));return}if(u||(l=!0,await Zr(async()=>{u=await z(e,Xr,"getTransaction")({hash:n}),u.blockNumber&&(E=u.blockNumber)},{delay:i,retryCount:o}),l=!1),d=await z(e,Qr,"getTransactionReceipt")({hash:n}),t>1&&(!d.blockNumber||E-d.blockNumber+1n<t))return;v(()=>p.resolve(d))}catch(k){if(k instanceof To||k instanceof $o){if(!u){l=!1;return}try{f=u,l=!0;const T=await Zr(()=>z(e,Le,"getBlock")({blockNumber:E,includeTransactions:!0}),{delay:i,retryCount:o,shouldRetry:({error:I})=>I instanceof Do});l=!1;const A=T.transactions.find(({from:I,nonce:G})=>I===f.from&&G===f.nonce);if(!A||(d=await z(e,Qr,"getTransactionReceipt")({hash:A.hash}),t>1&&(!d.blockNumber||E-d.blockNumber+1n<t)))return;let B="replaced";A.to===f.to&&A.value===f.value?B="repriced":A.from===A.to&&A.value===0n&&(B="cancelled"),v(()=>{var I;(I=p.onReplaced)==null||I.call(p,{reason:B,replacedTransaction:f,transaction:A,transactionReceipt:d}),p.resolve(d)})}catch(T){v(()=>p.reject(T))}}else v(()=>p.reject(k))}}})})})}function Hl(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:a,pollingInterval:c=e.pollingInterval}){const u=(()=>typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))(),f=i??!1;let d;return u?(()=>{const g=se(["watchBlocks",e.uid,t,n,r,f,c]);return Qe(g,{onBlock:s,onError:o},y=>ln(async()=>{var p;try{const m=await z(e,Le,"getBlock")({blockTag:t,includeTransactions:f});if(m.number&&(d!=null&&d.number)){if(m.number===d.number)return;if(m.number-d.number>1&&n)for(let w=(d==null?void 0:d.number)+1n;w<m.number;w++){const v=await z(e,Le,"getBlock")({blockNumber:w,includeTransactions:f});y.onBlock(v,d),d=v}}(!(d!=null&&d.number)||t==="pending"&&!(m!=null&&m.number)||m.number&&m.number>d.number)&&(y.onBlock(m,d),d=m)}catch(m){(p=y.onError)==null||p.call(y,m)}},{emitOnBegin:r,interval:c}))})():(()=>{let g=!0,y=!0,p=()=>g=!1;return(async()=>{try{r&&z(e,Le,"getBlock")({blockTag:t,includeTransactions:f}).then(v=>{g&&y&&(s(v,void 0),y=!1)});const m=(()=>{if(e.transport.type==="fallback"){const v=e.transport.transports.find(E=>E.config.type==="webSocket");return v?v.value:e.transport}return e.transport})(),{unsubscribe:w}=await m.subscribe({params:["newHeads"],onData(v){var T,A,B;if(!g)return;const k=(((B=(A=(T=e.chain)==null?void 0:T.formatters)==null?void 0:A.block)==null?void 0:B.format)||$r)(v.result);s(k,d),y=!1,d=k},onError(v){o==null||o(v)}});p=w,g||p()}catch(m){o==null||o(m)}})(),()=>p()})()}function ql(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:a,onLogs:c,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=(()=>typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))(),b=d??!1;return l?(()=>{const p=se(["watchEvent",t,n,r,e.uid,s,f,i]);return Qe(p,{onLogs:c,onError:a},m=>{let w;i!==void 0&&(w=i-1n);let v,E=!1;const k=ln(async()=>{var T;if(!E){try{v=await z(e,xi,"createEventFilter")({address:t,args:n,event:s,events:o,strict:b,fromBlock:i})}catch{}E=!0;return}try{let A;if(v)A=await z(e,jn,"getFilterChanges")({filter:v});else{const B=await z(e,hn,"getBlockNumber")({});w&&w!==B?A=await z(e,Mr,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:w+1n,toBlock:B}):A=[],w=B}if(A.length===0)return;if(r)m.onLogs(A);else for(const B of A)m.onLogs([B])}catch(A){v&&A instanceof ut&&(E=!1),(T=m.onError)==null||T.call(m,A)}},{emitOnBegin:!0,interval:f});return async()=>{v&&await z(e,Ln,"uninstallFilter")({filter:v}),k()}})})():(()=>{let p=!0,m=()=>p=!1;return(async()=>{try{const w=(()=>{if(e.transport.type==="fallback"){const T=e.transport.transports.find(A=>A.config.type==="webSocket");return T?T.value:e.transport}return e.transport})(),v=o??(s?[s]:void 0);let E=[];v&&(E=[v.flatMap(A=>qt({abi:[A],eventName:A.name,args:n}))],s&&(E=E[0]));const{unsubscribe:k}=await w.subscribe({params:["logs",{address:t,topics:E}],onData(T){var B;if(!p)return;const A=T.result;try{const{eventName:I,args:G}=Nr({abi:v??[],data:A.data,topics:A.topics,strict:b}),N=Xe(A,{args:G,eventName:I});c([N])}catch(I){let G,N;if(I instanceof jt||I instanceof In){if(d)return;G=I.abiItem.name,N=(B=I.abiItem.inputs)==null?void 0:B.some(D=>!("name"in D&&D.name))}const F=Xe(A,{args:N?[]:{},eventName:G});c([F])}},onError(T){a==null||a(T)}});m=k,p||m()}catch(w){a==null||a(w)}})(),()=>m()})()}function Vl(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket")?(()=>{const u=se(["watchPendingTransactions",e.uid,t,o]);return Qe(u,{onTransactions:r,onError:n},f=>{let d;const l=ln(async()=>{var b;try{if(!d)try{d=await z(e,Ei,"createPendingTransactionFilter")({});return}catch(y){throw l(),y}const g=await z(e,jn,"getFilterChanges")({filter:d});if(g.length===0)return;if(t)f.onTransactions(g);else for(const y of g)f.onTransactions([y])}catch(g){(b=f.onError)==null||b.call(f,g)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await z(e,Ln,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const b=l.result;r([b])},onError(l){n==null||n(l)}});f=d,u||f()}catch(d){n==null||n(d)}})(),()=>f()})()}function Zl(e){var d,l,b;const{scheme:t,statement:n,...r}=((d=e.match(Wl))==null?void 0:d.groups)??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:a,requestId:c,...u}=((l=e.match(Yl))==null?void 0:l.groups)??{},f=(b=e.split("Resources:")[1])==null?void 0:b.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const Wl=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Yl=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Kl(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||t&&!Mn(r.address,t))return!1}catch{return!1}return!0}async function Jl(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:a,time:c=new Date,...u}=t,f=Zl(s);if(!f.address||!Kl({address:n,domain:r,message:f,nonce:o,scheme:i,time:c}))return!1;const l=Ri(s);return bs(e,{address:f.address,hash:l,signature:a,...u})}function Xl(e){return{call:t=>dn(e,t),createBlockFilter:()=>gd(e),createContractEventFilter:t=>yo(e,t),createEventFilter:t=>xi(e,t),createPendingTransactionFilter:()=>Ei(e),estimateContractGas:t=>gf(e,t),estimateGas:t=>Fr(e,t),getBalance:t=>ri(e,t),getBlobBaseFee:()=>wd(e),getBlock:t=>Le(e,t),getBlockNumber:t=>hn(e,t),getBlockTransactionCount:t=>vd(e,t),getBytecode:t=>Pi(e,t),getChainId:()=>ti(e),getCode:t=>Pi(e,t),getContractEvents:t=>oi(e,t),getEip712Domain:t=>Uf(e,t),getEnsAddress:t=>nd(e,t),getEnsAvatar:t=>bd(e,t),getEnsName:t=>yd(e,t),getEnsResolver:t=>md(e,t),getEnsText:t=>vi(e,t),getFeeHistory:t=>Ed(e,t),estimateFeesPerGas:t=>rf(e,t),getFilterChanges:t=>jn(e,t),getFilterLogs:t=>Pd(e,t),getGasPrice:()=>Sr(e),getLogs:t=>Mr(e,t),getProof:t=>rl(e,t),estimateMaxPriorityFeePerGas:t=>nf(e,t),getStorageAt:t=>sl(e,t),getTransaction:t=>Xr(e,t),getTransactionConfirmations:t=>ol(e,t),getTransactionCount:t=>Ho(e,t),getTransactionReceipt:t=>Qr(e,t),multicall:t=>il(e,t),prepareTransactionRequest:t=>ni(e,t),readContract:t=>De(e,t),sendRawTransaction:t=>Lf(e,t),simulateContract:t=>Rf(e,t),verifyMessage:t=>Dl(e,t),verifySiweMessage:t=>Jl(e,t),verifyTypedData:t=>Ul(e,t),uninstallFilter:t=>Ln(e,t),waitForTransactionReceipt:t=>Gl(e,t),watchBlocks:t=>Hl(e,t),watchBlockNumber:t=>Qi(e,t),watchContractEvent:t=>jf(e,t),watchEvent:t=>ql(e,t),watchPendingTransactions:t=>Vl(e,t)}}function Ql(e){const{key:t="public",name:n="Public Client"}=e;return Hf({...e,key:t,name:n,type:"publicClient"}).extend(Xl)}const e0={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},t0={block:tf({format(e){var n;return{transactions:(n=e.transactions)==null?void 0:n.map(r=>{if(typeof r=="string")return r;const s=_n(r);return s.typeHex==="0x7e"&&(s.isSystemTx=r.isSystemTx,s.mint=r.mint?me(r.mint):void 0,s.sourceHash=r.sourceHash,s.type="deposit"),s}),stateRoot:e.stateRoot}}}),transaction:Qu({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?me(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:jd({format(e){return{l1GasPrice:e.l1GasPrice?me(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?me(e.l1GasUsed):null,l1Fee:e.l1Fee?me(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function n0(e,t){return o0(e)?s0(e):Yd(e,t)}const r0={transaction:n0};function s0(e){i0(e);const{sourceHash:t,data:n,from:r,gas:s,isSystemTx:o,mint:i,to:a,value:c}=e,u=[t,r,a??"0x",i?_(i):"0x",c?_(c):"0x",s?_(s):"0x",o?"0x1":"0x",n??"0x"];return Ne(["0x7e",Ye(u)])}function o0(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function i0(e){const{from:t,to:n}=e;if(t&&!re(t))throw new fe({address:t});if(n&&!re(n))throw new fe({address:n})}const ea={contracts:e0,formatters:t0,serializers:r0},wn=1,a0=Ii({...ea,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...ea.contracts,disputeGameFactory:{[wn]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[wn]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[wn]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[wn]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:wn}),c0=Ii({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc2.sepolia.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc8Af999e38273D658BE1b921b88A9Ddf005769cC",blockCreated:5317080}},testnet:!0}),u0=[{inputs:[{internalType:"address",name:"_addr",type:"address"},{internalType:"uint256",name:"_coinType",type:"uint256"}],name:"getName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"},{internalType:"string",name:"_key",type:"string"},{internalType:"uint256",name:"_coinType",type:"uint256"}],name:"getText",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],f0="0xDDa56f06D80f3D8E3E35159701A63753f39c3BCB",d0="0x342d6524829bedfF5Ce9f56cd56d5baAcf3dbC58";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ta=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var h0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=te.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},c)=>te.createElement("svg",{ref:c,...h0,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:ta("lucide",s),...a},[...i.map(([u,f])=>te.createElement(u,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=(e,t)=>{const n=te.forwardRef(({className:r,...s},o)=>te.createElement(p0,{ref:o,iconNode:t,className:ta(`lucide-${l0(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=ys("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=ys("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=ys("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),g0=({address:e,coinType:t=614,rpcUrl:n,isSepolia:r=!1,backgroundColor:s,textColor:o,fontSize:i="14px",padding:a="8px 12px",borderRadius:c="20px",isWide:u=!1,showAvatar:f=!0,useDefaultAvatar:d=!1,onClick:l,avatarSize:b=24,showTooltip:g=!1,customLoadingComponent:y,customErrorComponent:p,showCopyButton:m=!1,theme:w="light"})=>{const[v,E]=te.useState(null),[k,T]=te.useState(null),[A,B]=te.useState(!0),[I,G]=te.useState(null),[N,F]=te.useState(!1),[D,$]=te.useState(!1);te.useEffect(()=>{(async()=>{try{const ge=r?d0:f0,pe=Ql({chain:r?c0:a0,transport:Qf(n||(r?"https://sepolia.optimism.io":"https://mainnet.optimism.io"))}),ve={address:ge,abi:u0},_e=await pe.multicall({contracts:[{...ve,functionName:"getName",args:[e,BigInt(t)]},{...ve,functionName:"getText",args:[e,"avatar",BigInt(t)]}],multicallAddress:"0xca11bde05977b3631167028862be2a173976ca11",allowFailure:!1});E(_e[0]),T(_e[1]),B(!1)}catch(ge){G(ge instanceof Error?ge.message:String(ge)),B(!1)}})()},[e,t,n,r]);const C={light:{backgroundColor:s||"#f0f0f0",textColor:o||"#000000"},dark:{backgroundColor:s||"#2a2a2a",textColor:o||"#ffffff"}},S={display:"flex",alignItems:"center",backgroundColor:C[w].backgroundColor,color:C[w].textColor,fontSize:i,padding:a,borderRadius:c,overflow:"hidden",width:u?"200px":"120px",cursor:l?"pointer":"default",position:"relative"},O={width:`${b}px`,height:`${b}px`,borderRadius:"50%",marginRight:"8px",flexShrink:0},L={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",flexGrow:1,minWidth:0},q={position:"absolute",bottom:"100%",left:"50%",transform:"translateX(-50%)",backgroundColor:w==="light"?"#333":"#f0f0f0",color:w==="light"?"#fff":"#333",padding:"5px 10px",borderRadius:"4px",fontSize:"12px",whiteSpace:"nowrap",opacity:D?1:0,transition:"opacity 0.3s",pointerEvents:"none"},W={background:"none",border:"none",cursor:"pointer",padding:"4px",marginLeft:"4px",color:C[w].textColor};if(A)return y||Ae.jsx("div",{style:{...S,animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"},children:"Loading..."});if(I)return p||Ae.jsxs("div",{style:{color:"red",width:S.width},children:["Error: ",I]});const ae=v||(ue=>`${ue.slice(0,6)}...${ue.slice(-4)}`)(e),ce=ue=>{ue.stopPropagation(),navigator.clipboard.writeText(e),F(!0),setTimeout(()=>F(!1),2e3)};return Ae.jsxs("div",{style:S,onClick:l,onMouseEnter:()=>$(!0),onMouseLeave:()=>$(!1),children:[f&&(d?Ae.jsx("img",{src:"default.png",alt:"Default Avatar",style:O}):k?Ae.jsx("img",{src:k,alt:"Avatar",style:O}):Ae.jsx(m0,{style:O})),Ae.jsx("span",{style:L,children:ae}),m&&Ae.jsx("button",{onClick:ce,style:W,children:N?Ae.jsx(b0,{size:16}):Ae.jsx(y0,{size:16})}),g&&Ae.jsx("div",{style:q,children:v?`${v} (${e})`:e})]})};rt.HnsIdProfile=g0,Object.defineProperty(rt,Symbol.toStringTag,{value:"Module"})});
